var eS=Object.defineProperty,tS=Object.defineProperties;var nS=Object.getOwnPropertyDescriptors;var Bv=Object.getOwnPropertySymbols,iS=Object.getPrototypeOf,rS=Object.prototype.hasOwnProperty,sS=Object.prototype.propertyIsEnumerable,oS=Reflect.get;var Uv=(t,e,n)=>e in t?eS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})rS.call(e,n)&&Uv(t,n,e[n]);if(Bv)for(var n of Bv(e))sS.call(e,n)&&Uv(t,n,e[n]);return t},ce=(t,e)=>tS(t,nS(e));var zn=(t,e,n)=>oS(iS(t),n,e);var p=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var jv=null;var hh=1;function ft(t){let e=jv;return jv=t,e}var $v={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function aS(t){if(!(gh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hh)){if(!t.producerMustRecompute(t)&&!fh(t)){t.dirty=!1,t.lastCleanEpoch=hh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hh}}function Hv(t){return t&&(t.nextProducerIndex=0),ft(t)}function Gv(t,e){if(ft(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(gh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ph(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fh(t){gc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(aS(n),i!==n.version))return!0}return!1}function zv(t){if(gc(t),gh(t))for(let e=0;e<t.producerNode.length;e++)ph(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ph(t,e){if(cS(t),gc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)ph(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];gc(r),r.producerIndexOfThis[i]=e}}function gh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lS(){throw new Error}var uS=lS;function qv(t){uS=t}function U(t){return typeof t=="function"}function Ir(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mc=Ir(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ri(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(U(i))try{i()}catch(s){e=s instanceof mc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Wv(s)}catch(o){e=e??[],o instanceof mc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new mc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Wv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ri(n,e)}remove(e){let{_finalizers:n}=this;n&&Ri(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var mh=Ee.EMPTY;function _c(t){return t instanceof Ee||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Wv(t){U(t)?t():t.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var br={setTimeout(t,e,...n){let{delegate:i}=br;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=br;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yc(t){br.setTimeout(()=>{let{onUnhandledError:e}=Nt;if(e)e(t);else throw t})}function to(){}var Kv=(()=>_h("C",void 0,void 0))();function Yv(t){return _h("E",void 0,t)}function Qv(t){return _h("N",t,void 0)}function _h(t,e,n){return{kind:t,value:e,error:n}}var Mi=null;function Dr(t){if(Nt.useDeprecatedSynchronousErrorHandling){let e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Mi;if(Mi=null,n)throw i}}else t()}function Jv(t){Nt.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}var Oi=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_c(e)&&e.add(this)):this.destination=fS}static create(e,n,i){return new Cr(e,n,i)}next(e){this.isStopped?vh(Qv(e),this):this._next(e)}error(e){this.isStopped?vh(Yv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vh(Kv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dS=Function.prototype.bind;function yh(t,e){return dS.call(t,e)}var wh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){vc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){vc(i)}else vc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vc(n)}}},Cr=class extends Oi{constructor(e,n,i){super();let r;if(U(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Nt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&yh(e.next,s),error:e.error&&yh(e.error,s),complete:e.complete&&yh(e.complete,s)}):r=e}this.destination=new wh(r)}};function vc(t){Nt.useDeprecatedSynchronousErrorHandling?Jv(t):yc(t)}function hS(t){throw t}function vh(t,e){let{onStoppedNotification:n}=Nt;n&&br.setTimeout(()=>n(t,e))}var fS={closed:!0,next:to,error:hS,complete:to};var Tr=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function pt(t){return t}function Eh(...t){return Ih(t)}function Ih(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Y=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=gS(n)?n:new Cr(n,i,r);return Dr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Zv(i),new i((r,s)=>{let o=new Cr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Tr](){return this}pipe(...n){return Ih(n)(this)}toPromise(n){return n=Zv(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function Zv(t){var e;return(e=t??Nt.Promise)!==null&&e!==void 0?e:Promise}function pS(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function gS(t){return t&&t instanceof Oi||pS(t)&&_c(t)}function bh(t){return U(t?.lift)}function Z(t){return e=>{if(bh(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,i,r){return new Dh(t,e,n,i,r)}var Dh=class extends Oi{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Sr(){return Z((t,e)=>{let n=null;t._refCount++;let i=Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Ar=class extends Y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return Sr()(this)}};var Xv=Ir(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new wc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Xv}next(n){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?mh:(this.currentObservers=null,s.push(n),new Ee(()=>{this.currentObservers=null,Ri(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return t.create=(e,n)=>new wc(e,n),t})(),wc=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:mh}};var Be=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ch={now(){return(Ch.delegate||Date).now()},delegate:void 0};var Ec=class extends Ee{constructor(e,n){super()}schedule(e,n=0){return this}};var no={setInterval(t,e,...n){let{delegate:i}=no;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=no;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Rr=class extends Ec{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return no.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&no.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ri(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Mr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Mr.now=Ch.now;var Or=class extends Mr{constructor(e,n=Mr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Th=new Or(Rr);var Ic=class extends Rr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var bc=class extends Or{};var Sh=new bc(Ic);var bt=new Y(t=>t.complete());function e0(t){return t&&U(t.schedule)}function t0(t){return t[t.length-1]}function Dc(t){return U(t0(t))?t.pop():void 0}function qn(t){return e0(t0(t))?t.pop():void 0}function Cc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function i0(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):r(u.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function n0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function r0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(g,T){s.push([h,f,g,T])>1||a(h,f)})})}function a(h,f){try{c(i[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Ni?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function s0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof n0=="function"?n0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Tc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Sc(t){return U(t?.then)}function Ac(t){return U(t[Tr])}function Rc(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Mc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oc=mS();function Nc(t){return U(t?.[Oc])}function xc(t){return r0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Ni(n.read());if(r)return yield Ni(void 0);yield yield Ni(i)}}finally{n.releaseLock()}})}function Pc(t){return U(t?.getReader)}function De(t){if(t instanceof Y)return t;if(t!=null){if(Ac(t))return _S(t);if(Tc(t))return yS(t);if(Sc(t))return vS(t);if(Rc(t))return o0(t);if(Nc(t))return wS(t);if(Pc(t))return ES(t)}throw Mc(t)}function _S(t){return new Y(e=>{let n=t[Tr]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yS(t){return new Y(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function vS(t){return new Y(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yc)})}function wS(t){return new Y(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function o0(t){return new Y(e=>{IS(t,e).catch(n=>e.error(n))})}function ES(t){return o0(xc(t))}function IS(t,e){var n,i,r,s;return i0(this,void 0,void 0,function*(){try{for(n=s0(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function ct(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Wn(t,e=0){return Z((n,i)=>{n.subscribe(Q(i,r=>ct(i,t,()=>i.next(r),e),()=>ct(i,t,()=>i.complete(),e),r=>ct(i,t,()=>i.error(r),e)))})}function Kn(t,e=0){return Z((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function a0(t,e){return De(t).pipe(Kn(e),Wn(e))}function c0(t,e){return De(t).pipe(Kn(e),Wn(e))}function l0(t,e){return new Y(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function u0(t,e){return new Y(n=>{let i;return ct(n,e,()=>{i=t[Oc](),ct(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>U(i?.return)&&i.return()})}function kc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(n=>{ct(n,e,()=>{let i=t[Symbol.asyncIterator]();ct(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function d0(t,e){return kc(xc(t),e)}function h0(t,e){if(t!=null){if(Ac(t))return a0(t,e);if(Tc(t))return l0(t,e);if(Sc(t))return c0(t,e);if(Rc(t))return kc(t,e);if(Nc(t))return u0(t,e);if(Pc(t))return d0(t,e)}throw Mc(t)}function he(t,e){return e?h0(t,e):De(t)}function N(...t){let e=qn(t);return he(t,e)}function Nr(t,e){let n=U(t)?t:()=>t,i=r=>r.error(n());return new Y(e?r=>e.schedule(i,0,r):i)}function Ah(t){return!!t&&(t instanceof Y||U(t.lift)&&U(t.subscribe))}var wn=Ir(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return Z((n,i)=>{let r=0;n.subscribe(Q(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:bS}=Array;function DS(t,e){return bS(e)?t(...e):t(e)}function Fc(t){return $(e=>DS(t,e))}var{isArray:CS}=Array,{getPrototypeOf:TS,prototype:SS,keys:AS}=Object;function Lc(t){if(t.length===1){let e=t[0];if(CS(e))return{args:e,keys:null};if(RS(e)){let n=AS(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function RS(t){return t&&typeof t=="object"&&TS(t)===SS}function Vc(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function io(...t){let e=qn(t),n=Dc(t),{args:i,keys:r}=Lc(t);if(i.length===0)return he([],e);let s=new Y(MS(i,e,r?o=>Vc(r,o):pt));return n?s.pipe(Fc(n)):s}function MS(t,e,n=pt){return i=>{f0(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)f0(e,()=>{let l=he(t[c],e),u=!1;l.subscribe(Q(i,d=>{s[c]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function f0(t,e,n){t?ct(n,t,e):e()}function p0(t,e,n,i,r,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=T=>l<i?g(T):c.push(T),g=T=>{s&&e.next(T),l++;let y=!1;De(n(T,u++)).subscribe(Q(e,b=>{r?.(b),s?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<i;){let b=c.shift();o?ct(e,o,()=>g(b)):g(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(Q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ce(t,e,n=1/0){return U(e)?Ce((i,r)=>$((s,o)=>e(i,s,r,o))(De(t(i,r))),n):(typeof e=="number"&&(n=e),Z((i,r)=>p0(i,r,t,n)))}function Yn(t=1/0){return Ce(pt,t)}function g0(){return Yn(1)}function xr(...t){return g0()(he(t,qn(t)))}function Bc(t){return new Y(e=>{De(t()).subscribe(e)})}function Rh(...t){let e=Dc(t),{args:n,keys:i}=Lc(t),r=new Y(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;De(n[u]).subscribe(Q(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(i?Vc(i,a):a),s.complete())}))}});return e?r.pipe(Fc(e)):r}function lt(t,e){return Z((n,i)=>{let r=0;n.subscribe(Q(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Qn(t){return Z((e,n)=>{let i=null,r=!1,s;i=e.subscribe(Q(n,void 0,void 0,o=>{s=De(t(o,Qn(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function m0(t,e,n,i,r){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(Q(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function En(t,e){return U(e)?Ce(t,e,1):Ce(t,1)}function Jn(t){return Z((e,n)=>{let i=!1;e.subscribe(Q(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function In(t){return t<=0?()=>bt:Z((e,n)=>{let i=0;e.subscribe(Q(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Mh(t){return $(()=>t)}function Uc(t=OS){return Z((e,n)=>{let i=!1;e.subscribe(Q(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function OS(){return new wn}function Zn(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $t(t,e){let n=arguments.length>=2;return i=>i.pipe(t?lt((r,s)=>t(r,s,i)):pt,In(1),n?Jn(e):Uc(()=>new wn))}function Pr(t){return t<=0?()=>bt:Z((e,n)=>{let i=[];e.subscribe(Q(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Oh(t,e){let n=arguments.length>=2;return i=>i.pipe(t?lt((r,s)=>t(r,s,i)):pt,Pr(1),n?Jn(e):Uc(()=>new wn))}function Nh(t,e){return Z(m0(t,e,arguments.length>=2,!0))}function xh(...t){let e=qn(t);return Z((n,i)=>{(e?xr(t,n,e):xr(t,n)).subscribe(i)})}function ut(t,e){return Z((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(Q(i,c=>{r?.unsubscribe();let l=0,u=s++;De(t(c,u)).subscribe(r=Q(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ph(t){return Z((e,n)=>{De(t).subscribe(Q(n,()=>n.complete(),to)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let i=U(t)||e||n?{next:t,error:e,complete:n}:t;return i?Z((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Q(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):pt}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function jc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var NS=de({__forward_ref__:de});function Qr(t){return t.__forward_ref__=Qr,t.toString=function(){return nt(this())},t}function tt(t){return tw(t)?t():t}function tw(t){return typeof t=="function"&&t.hasOwnProperty(NS)&&t.__forward_ref__===Qr}function nw(t){return t&&!!t.\u0275providers}var iw="https://g.co/ng/security#xss",x=class extends Error{constructor(e,n){super(_l(e,n)),this.code=e}};function _l(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var xS=de({\u0275cmp:de}),PS=de({\u0275dir:de}),kS=de({\u0275pipe:de}),FS=de({\u0275mod:de}),Zc=de({\u0275fac:de}),ro=de({__NG_ELEMENT_ID__:de}),y0=de({__NG_ENV_ID__:de});function yl(t){return typeof t=="string"?t:t==null?"":String(t)}function LS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yl(t)}function VS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}function Gf(t,e){throw new x(-201,!1)}function BS(t,e){t==null&&US(e,t,null,"!=")}function US(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Oe(t){return{providers:t.providers||[],imports:t.imports||[]}}function vl(t){return v0(t,sw)||v0(t,ow)}function rw(t){return vl(t)!==null}function v0(t,e){return t.hasOwnProperty(e)?t[e]:null}function jS(t){let e=t&&(t[sw]||t[ow]);return e||null}function w0(t){return t&&(t.hasOwnProperty(E0)||t.hasOwnProperty($S))?t[E0]:null}var sw=de({\u0275prov:de}),E0=de({\u0275inj:de}),ow=de({ngInjectableDef:de}),$S=de({ngInjectorDef:de}),q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),Qh;function aw(){return Qh}function Dt(t){let e=Qh;return Qh=t,e}function cw(t,e,n){let i=vl(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&q.Optional)return null;if(e!==void 0)return e;Gf(t,"Injector")}var xi=globalThis;var R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var HS={},so=HS,Jh="__NG_DI_FLAG__",Xc="ngTempTokenPath",GS="ngTokenPath",zS=/\n/gm,qS="\u0275",I0="__source",Br;function WS(){return Br}function Xn(t){let e=Br;return Br=t,e}function KS(t,e=q.Default){if(Br===void 0)throw new x(-203,!1);return Br===null?cw(t,void 0,e):Br.get(t,e&q.Optional?null:void 0,e)}function A(t,e=q.Default){return(aw()||KS)(tt(t),e)}function w(t,e=q.Default){return A(t,wl(e))}function wl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zh(t){let e=[];for(let n=0;n<t.length;n++){let i=tt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new x(900,!1);let r,s=q.Default;for(let o=0;o<i.length;o++){let a=i[o],c=YS(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(A(r,s))}else e.push(A(i))}return e}function lw(t,e){return t[Jh]=e,t.prototype[Jh]=e,t}function YS(t){return t[Jh]}function QS(t,e,n,i){let r=t[Xc];throw e[I0]&&r.unshift(e[I0]),t.message=JS(`
`+t.message,r,n,i),t[GS]=r,t[Xc]=null,t}function JS(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==qS?t.slice(2):t;let r=nt(e);if(Array.isArray(e))r=e.map(nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):nt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(zS,`
  `)}`}function mo(t){return{toString:t}.toString()}var uw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uw||{}),qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qt||{}),jr={},Ct=[];function dw(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function Xh(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];ZS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function hw(t){return t===3||t===4||t===6}function ZS(t){return t.charCodeAt(0)===64}function oo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?b0(t,n,r,null,e[++i]):b0(t,n,r,null,null))}}return t}function b0(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var fw="ng-template";function XS(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if(typeof s=="string"&&r){let o=t[i++];if(n&&s==="class"&&dw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;i<t.length&&typeof(s=t[i++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(r=!1)}return!1}function pw(t){return t.type===4&&t.value!==fw}function eA(t,e,n){let i=t.type===4&&!n?fw:t.value;return e===i}function tA(t,e,n){let i=4,r=t.attrs||[],s=rA(r),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xt(i)&&!xt(c))return!1;if(o&&xt(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!eA(t,c,n)||c===""&&e.length===1){if(xt(i))return!1;o=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!XS(t.attrs,l,n)){if(xt(i))return!1;o=!0}continue}let u=i&8?"class":c,d=nA(u,r,pw(t),n);if(d===-1){if(xt(i))return!1;o=!0;continue}if(l!==""){let h;d>s?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&dw(f,l,0)!==-1||i&2&&l!==h){if(xt(i))return!1;o=!0}}}}return xt(i)||o}function xt(t){return(t&1)===0}function nA(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return sA(e,t)}function iA(t,e,n=!1){for(let i=0;i<e.length;i++)if(tA(t,e[i],n))return!0;return!1}function rA(t){for(let e=0;e<t.length;e++){let n=t[e];if(hw(n))return e}return t.length}function sA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function D0(t,e){return t?":not("+e.trim()+")":e}function oA(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!xt(o)&&(e+=D0(s,r),r=""),i=o,s=s||!xt(i);n++}return r!==""&&(e+=D0(s,r)),e}function aA(t){return t.map(oA).join(",")}function cA(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!xt(r))break;r=s}i++}return{attrs:e,classes:n}}function mt(t){return mo(()=>{let e=vw(t),n=ce(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||qt.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""});ww(n);let i=t.dependencies;return n.directiveDefs=T0(i,!1),n.pipeDefs=T0(i,!0),n.id=dA(n),n})}function lA(t){return ti(t)||gw(t)}function uA(t){return t!==null}function Ne(t){return mo(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function C0(t,e){if(t==null)return jr;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}function dt(t){return mo(()=>{let e=vw(t);return ww(e),e})}function ti(t){return t[xS]||null}function gw(t){return t[PS]||null}function mw(t){return t[kS]||null}function _w(t){let e=ti(t)||gw(t)||mw(t);return e!==null?e.standalone:!1}function yw(t,e){let n=t[FS]||null;if(!n&&e===!0)throw new Error(`Type ${nt(t)} does not have '\u0275mod' property.`);return n}function vw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||jr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:C0(t.inputs,e),outputs:C0(t.outputs),debugInfo:null}}function ww(t){t.features?.forEach(e=>e(t))}function T0(t,e){if(!t)return null;let n=e?mw:lA;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(uA)}function dA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Cn=0,W=1,F=2,Ue=3,Pt=4,Ft=5,el=6,ao=7,kt=8,$r=9,Wt=10,Me=11,co=12,S0=13,Jr=14,Kt=15,_o=16,kr=17,zt=18,El=19,Ew=20,ei=21,kh=22,Fi=23,Yt=25,Iw=1;var Li=7,tl=8,Hr=9,gt=10,zf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zf||{});function Pi(t){return Array.isArray(t)&&typeof t[Iw]=="object"}function Tn(t){return Array.isArray(t)&&t[Iw]===!0}function qf(t){return(t.flags&4)!==0}function Il(t){return t.componentOffset>-1}function bl(t){return(t.flags&1)===1}function ni(t){return!!t.template}function hA(t){return(t[F]&512)!==0}function Gr(t,e){let n=t.hasOwnProperty(Zc);return n?t[Zc]:null}var ef=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Sn(){return bw}function bw(t){return t.type.prototype.ngOnChanges&&(t.setInput=pA),fA}Sn.ngInherit=!0;function fA(){let t=Cw(this),e=t?.current;if(e){let n=t.previous;if(n===jr)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function pA(t,e,n,i){let r=this.declaredInputs[n],s=Cw(t)||gA(t,{previous:jr,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[r];o[r]=new ef(c&&c.currentValue,e,a===jr),t[i]=e}var Dw="__ngSimpleChanges__";function Cw(t){return t[Dw]||null}function gA(t,e){return t[Dw]=e}var A0=null;var Ht=function(t,e,n){A0?.(t,e,n)},mA="svg",_A="math",yA=!1;function vA(){return yA}function Qt(t){for(;Array.isArray(t);)t=t[Cn];return t}function Tw(t,e){return Qt(e[t])}function Tt(t,e){return Qt(e[t.index])}function Sw(t,e){return t.data[e]}function wA(t,e){return t[e]}function oi(t,e){let n=e[t];return Pi(n)?n:n[Cn]}function EA(t){return(t[F]&4)===4}function Wf(t){return(t[F]&128)===128}function IA(t){return Tn(t[Ue])}function zr(t,e){return e==null?null:t[e]}function Aw(t){t[kr]=0}function bA(t){t[F]&1024||(t[F]|=1024,Wf(t)&&lo(t))}function DA(t,e){for(;t>0;)e=e[Jr],t--;return e}function Rw(t){return t[F]&9216||t[Fi]?.dirty}function tf(t){Rw(t)?lo(t):t[F]&64&&(vA()?(t[F]|=1024,lo(t)):t[Wt].changeDetectionScheduler?.notify())}function lo(t){t[Wt].changeDetectionScheduler?.notify();let e=uo(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!Wf(e)));)e=uo(e)}function Mw(t,e){if((t[F]&256)===256)throw new x(911,!1);t[ei]===null&&(t[ei]=[]),t[ei].push(e)}function CA(t,e){if(t[ei]===null)return;let n=t[ei].indexOf(e);n!==-1&&t[ei].splice(n,1)}function uo(t){let e=t[Ue];return Tn(e)?e[Ue]:e}var K={lFrame:Lw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TA(){return K.lFrame.elementDepthCount}function SA(){K.lFrame.elementDepthCount++}function AA(){K.lFrame.elementDepthCount--}function Ow(){return K.bindingsEnabled}function RA(){return K.skipHydrationRootTNode!==null}function MA(t){return K.skipHydrationRootTNode===t}function OA(){K.skipHydrationRootTNode=null}function ue(){return K.lFrame.lView}function We(){return K.lFrame.tView}function ai(t){return K.lFrame.contextLView=t,t[kt]}function ci(t){return K.lFrame.contextLView=null,t}function it(){let t=Nw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Nw(){return K.lFrame.currentTNode}function NA(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hi(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function Kf(){return K.lFrame.isParent}function xw(){K.lFrame.isParent=!1}function xA(){return K.lFrame.contextLView}function PA(t){return K.lFrame.bindingIndex=t}function Yf(){return K.lFrame.bindingIndex++}function kA(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function FA(){return K.lFrame.inI18n}function LA(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,nf(e)}function VA(){return K.lFrame.currentDirectiveIndex}function nf(t){K.lFrame.currentDirectiveIndex=t}function BA(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Pw(){return K.lFrame.currentQueryIndex}function Qf(t){K.lFrame.currentQueryIndex=t}function UA(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[Ft]:null}function kw(t,e,n){if(n&q.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&q.Host);)if(r=UA(s),r===null||(s=s[Jr],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=K.lFrame=Fw();return i.currentTNode=e,i.lView=t,!0}function Jf(t){let e=Fw(),n=t[W];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Fw(){let t=K.lFrame,e=t===null?null:t.child;return e===null?Lw(t):e}function Lw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Vw(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bw=Vw;function Zf(){let t=Vw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jA(t){return(K.lFrame.contextLView=DA(t,K.lFrame.contextLView))[kt]}function Zr(){return K.lFrame.selectedIndex}function Vi(t){K.lFrame.selectedIndex=t}function Xf(){let t=K.lFrame;return Sw(t.tView,t.selectedIndex)}function $A(){return K.lFrame.currentNamespace}var Uw=!0;function Dl(){return Uw}function Cl(t){Uw=t}function HA(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=bw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Tl(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function qc(t,e,n){jw(t,e,3,n)}function Wc(t,e,n,i){(t[F]&3)===n&&jw(t,e,n,i)}function Fh(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function jw(t,e,n,i){let r=i!==void 0?t[kr]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[kr]+=65536),(a<s||s==-1)&&(GA(t,n,e,c),t[kr]=(t[kr]&4294901760)+c+2),c++}function R0(t,e){Ht(4,t,e);let n=ft(null);try{e.call(t)}finally{ft(n),Ht(5,t,e)}}function GA(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[F]>>14<t[kr]>>16&&(t[F]&3)===e&&(t[F]+=16384,R0(a,s)):R0(a,s)}var Ur=-1,Bi=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function zA(t){return t instanceof Bi}function qA(t){return(t.flags&8)!==0}function WA(t){return(t.flags&16)!==0}function $w(t){return t!==Ur}function nl(t){return t&32767}function KA(t){return t>>16}function il(t,e){let n=KA(t),i=e;for(;n>0;)i=i[Jr],n--;return i}var rf=!0;function M0(t){let e=rf;return rf=t,e}var YA=256,Hw=YA-1,Gw=5,QA=0,Gt={};function JA(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(ro)&&(i=n[ro]),i==null&&(i=n[ro]=QA++);let r=i&Hw,s=1<<r;e.data[t+(r>>Gw)]|=s}function rl(t,e){let n=zw(t,e);if(n!==-1)return n;let i=e[W];i.firstCreatePass&&(t.injectorIndex=e.length,Lh(i.data,t),Lh(e,null),Lh(i.blueprint,null));let r=ep(t,e),s=t.injectorIndex;if($w(r)){let o=nl(r),a=il(r,e),c=a[W].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function Lh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ep(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Qw(r),i===null)return Ur;if(n++,r=r[Jr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ur}function sf(t,e,n){JA(t,e,n)}function ZA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(hw(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function qw(t,e,n){if(n&q.Optional||t!==void 0)return t;Gf(e,"NodeInjector")}function Ww(t,e,n,i){if(n&q.Optional&&i===void 0&&(i=null),!(n&(q.Self|q.Host))){let r=t[$r],s=Dt(void 0);try{return r?r.get(e,i,n&q.Optional):cw(e,i,n&q.Optional)}finally{Dt(s)}}return qw(i,e,n)}function Kw(t,e,n,i=q.Default,r){if(t!==null){if(e[F]&2048&&!(i&q.Self)){let o=nR(t,e,n,i,Gt);if(o!==Gt)return o}let s=Yw(t,e,n,i,Gt);if(s!==Gt)return s}return Ww(e,n,i,r)}function Yw(t,e,n,i,r){let s=eR(n);if(typeof s=="function"){if(!kw(e,t,i))return i&q.Host?qw(r,n,i):Ww(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&q.Optional))Gf(n);else return o}finally{Bw()}}else if(typeof s=="number"){let o=null,a=zw(t,e),c=Ur,l=i&q.Host?e[Kt][Ft]:null;for((a===-1||i&q.SkipSelf)&&(c=a===-1?ep(t,e):e[a+8],c===Ur||!N0(i,!1)?a=-1:(o=e[W],a=nl(c),e=il(c,e)));a!==-1;){let u=e[W];if(O0(s,a,u.data)){let d=XA(a,e,n,o,i,l);if(d!==Gt)return d}c=e[a+8],c!==Ur&&N0(i,e[W].data[a+8]===l)&&O0(s,a,e)?(o=u,a=nl(c),e=il(c,e)):a=-1}}return r}function XA(t,e,n,i,r,s){let o=e[W],a=o.data[t+8],c=i==null?Il(a)&&rf:i!=o&&(a.type&3)!==0,l=r&q.Host&&s===a,u=Kc(a,o,n,c,l);return u!==null?Ui(e,o,u,a):Gt}function Kc(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(r){let f=o[c];if(f&&ni(f)&&f.type===n)return c}return null}function Ui(t,e,n,i){let r=t[n],s=e.data;if(zA(r)){let o=r;o.resolving&&VS(LS(s[n]));let a=M0(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Dt(o.injectImpl):null,u=kw(t,i,q.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&HA(n,s[n],e)}finally{l!==null&&Dt(l),M0(a),o.resolving=!1,Bw()}}return r}function eR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ro)?t[ro]:void 0;return typeof e=="number"?e>=0?e&Hw:tR:e}function O0(t,e,n){let i=1<<t;return!!(n[e+(t>>Gw)]&i)}function N0(t,e){return!(t&q.Self)&&!(t&q.Host&&e)}var ki=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Kw(this._tNode,this._lView,e,wl(i),n)}};function tR(){return new ki(it(),ue())}function Xr(t){return mo(()=>{let e=t.prototype.constructor,n=e[Zc]||of(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Zc]||of(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function of(t){return tw(t)?()=>{let e=of(tt(t));return e&&e()}:Gr(t)}function nR(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[F]&2048&&!(o[F]&512);){let a=Yw(s,o,n,i|q.Self,Gt);if(a!==Gt)return a;let c=s.parent;if(!c){let l=o[Ew];if(l){let u=l.get(n,Gt,i);if(u!==Gt)return u}c=Qw(o),o=o[Jr]}s=c}return r}function Qw(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[Ft]:null}function Sl(t){return ZA(it(),t)}var $c="__parameters__";function iR(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function Jw(t,e,n){return mo(()=>{let i=iR(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty($c)?c[$c]:Object.defineProperty(c,$c,{value:[]})[$c];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function rR(t){return typeof t=="function"}function sR(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function oR(t){return t.flat(Number.POSITIVE_INFINITY)}function tp(t,e){t.forEach(n=>Array.isArray(n)?tp(n,e):e(n))}function Zw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function aR(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function cR(t,e,n){let i=yo(t,e);return i>=0?t[i|1]=n:(i=~i,aR(t,i,e,n)),i}function Vh(t,e){let n=yo(t,e);if(n>=0)return t[n|1]}function yo(t,e){return lR(t,e,1)}function lR(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var Ke=lw(Jw("Optional"),8);var np=lw(Jw("SkipSelf"),4);var qr=new R("ENVIRONMENT_INITIALIZER"),Xw=new R("INJECTOR",-1),eE=new R("INJECTOR_DEF_TYPES"),ol=class{get(e,n=so){if(n===so){let i=new Error(`NullInjectorError: No provider for ${nt(e)}!`);throw i.name="NullInjectorError",i}return n}};function es(t){return{\u0275providers:t}}function ts(...t){return{\u0275providers:tE(!0,t),\u0275fromNgModule:!0}}function tE(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return tp(e,o=>{let a=o;af(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&nE(r,s),n}function nE(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];ip(r,s=>{e(s,i)})}}function af(t,e,n,i){if(t=tt(t),!t)return!1;let r=null,s=w0(t),o=!s&&ti(t);if(!s&&!o){let c=t.ngModule;if(s=w0(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)af(l,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{tp(s.imports,u=>{af(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&nE(l,e)}if(!a){let l=Gr(r)||(()=>new r);e({provide:r,useFactory:l,deps:Ct},r),e({provide:eE,useValue:r,multi:!0},r),e({provide:qr,useValue:()=>A(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=t;ip(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function ip(t,e){for(let n of t)nw(n)&&(n=n.\u0275providers),Array.isArray(n)?ip(n,e):e(n)}var uR=de({provide:String,useValue:de});function iE(t){return t!==null&&typeof t=="object"&&uR in t}function dR(t){return!!(t&&t.useExisting)}function hR(t){return!!(t&&t.useFactory)}function Wr(t){return typeof t=="function"}function fR(t){return!!t.useClass}var Al=new R("Set Injector scope."),Yc={},pR={},Bh;function rp(){return Bh===void 0&&(Bh=new ol),Bh}var qe=class{},ho=class extends qe{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lf(e,o=>this.processProvider(o)),this.records.set(Xw,Fr(void 0,this)),r.has("environment")&&this.records.set(qe,Fr(void 0,this));let s=this.records.get(Al);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eE,Ct,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xn(this),i=Dt(void 0),r;try{return e()}finally{Xn(n),Dt(i)}}get(e,n=so,i=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(y0))return e[y0](this);i=wl(i);let r,s=Xn(this),o=Dt(void 0);try{if(!(i&q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=vR(e)&&vl(e);l&&this.injectableDefInScope(l)?c=Fr(cf(e),Yc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&q.Self?rp():this.parent;return n=i&q.Optional&&n===so?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Xc]=a[Xc]||[]).unshift(nt(e)),s)throw a;return QS(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(o),Xn(s)}}resolveInjectorInitializers(){let e=Xn(this),n=Dt(void 0),i;try{let r=this.get(qr,Ct,q.Self);for(let s of r)s()}finally{Xn(e),Dt(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(nt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=tt(e);let n=Wr(e)?e:tt(e&&e.provide),i=mR(e);if(!Wr(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Fr(void 0,Yc,!0),r.factory=()=>Zh(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Yc&&(n.value=pR,n.value=n.factory()),typeof n.value=="object"&&n.value&&yR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cf(t){let e=vl(t),n=e!==null?e.factory:Gr(t);if(n!==null)return n;if(t instanceof R)throw new x(204,!1);if(t instanceof Function)return gR(t);throw new x(204,!1)}function gR(t){if(t.length>0)throw new x(204,!1);let n=jS(t);return n!==null?()=>n.factory(t):()=>new t}function mR(t){if(iE(t))return Fr(void 0,t.useValue);{let e=rE(t);return Fr(e,Yc)}}function rE(t,e,n){let i;if(Wr(t)){let r=tt(t);return Gr(r)||cf(r)}else if(iE(t))i=()=>tt(t.useValue);else if(hR(t))i=()=>t.useFactory(...Zh(t.deps||[]));else if(dR(t))i=()=>A(tt(t.useExisting));else{let r=tt(t&&(t.useClass||t.provide));if(_R(t))i=()=>new r(...Zh(t.deps));else return Gr(r)||cf(r)}return i}function Fr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _R(t){return!!t.deps}function yR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vR(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function lf(t,e){for(let n of t)Array.isArray(n)?lf(n,e):n&&nw(n)?lf(n.\u0275providers,e):e(n)}function Zt(t,e){t instanceof ho&&t.assertNotDestroyed();let n,i=Xn(t),r=Dt(void 0);try{return e()}finally{Xn(i),Dt(r)}}function wR(t){if(!aw()&&!WS())throw new x(-203,!1)}function x0(t,e=null,n=null,i){let r=sE(t,e,n,i);return r.resolveInjectorInitializers(),r}function sE(t,e=null,n=null,i,r=new Set){let s=[n||Ct,ts(t)];return i=i||(typeof t=="object"?void 0:nt(t)),new ho(s,e||rp(),i||null,r)}var je=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return x0({name:""},r,i,"");{let s=i.name??"";return x0({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=so,e.NULL=new ol,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>A(Xw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var uf;function oE(t){uf=t}function ER(){if(uf!==void 0)return uf;if(typeof document<"u")return document;throw new x(210,!1)}var sp=new R("AppId",{providedIn:"root",factory:()=>IR}),IR="ng",op=new R("Platform Initializer"),_t=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var ap=new R("CSP nonce",{providedIn:"root",factory:()=>ER().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function aE(t){return t instanceof Function?t():t}function bR(t){return(t??w(je)).get(_t)==="browser"}function cE(t){return(t.flags&128)===128}var bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bn||{}),DR=/^>|^->|<!--|-->|--!>|<!-$/g,CR=/(<|>)/g,TR="\u200B$1\u200B";function SR(t){return t.replace(DR,e=>e.replace(CR,TR))}var lE=new Map,AR=0;function RR(){return AR++}function MR(t){lE.set(t[El],t)}function OR(t){lE.delete(t[El])}var P0="__ngContext__";function ii(t,e){Pi(e)?(t[P0]=e[El],MR(e)):t[P0]=e}var NR;function cp(t,e){return NR(t,e)}function Lr(t,e,n,i,r){if(i!=null){let s,o=!1;Tn(i)?s=i:Pi(i)&&(o=!0,i=i[Cn]);let a=Qt(i);t===0&&n!==null?r==null?pE(e,n,a):al(e,n,a,r||null,!0):t===1&&n!==null?al(e,n,a,r||null,!0):t===2?QR(e,a,o):t===3&&e.destroyNode(a),s!=null&&ZR(e,t,s,n,r)}}function xR(t,e){return t.createText(e)}function PR(t,e,n){t.setValue(e,n)}function kR(t,e){return t.createComment(SR(e))}function uE(t,e,n){return t.createElement(e,n)}function FR(t,e){dE(t,e),e[Cn]=null,e[Ft]=null}function LR(t,e,n,i,r,s){i[Cn]=r,i[Ft]=e,Ml(t,i,n,1,r,s)}function dE(t,e){e[Wt].changeDetectionScheduler?.notify(),Ml(t,e,e[Me],2,null,null)}function VR(t){let e=t[co];if(!e)return Uh(t[W],t);for(;e;){let n=null;if(Pi(e))n=e[co];else{let i=e[gt];i&&(n=i)}if(!n){for(;e&&!e[Pt]&&e!==t;)Pi(e)&&Uh(e[W],e),e=e[Ue];e===null&&(e=t),Pi(e)&&Uh(e[W],e),n=e&&e[Pt]}e=n}}function BR(t,e,n,i){let r=gt+i,s=n.length;i>0&&(n[r-1][Pt]=e),i<s-gt?(e[Pt]=n[r],Zw(n,gt+i,e)):(n.push(e),e[Pt]=null),e[Ue]=n;let o=e[_o];o!==null&&n!==o&&UR(o,e);let a=e[zt];a!==null&&a.insertView(t),tf(e),e[F]|=128}function UR(t,e){let n=t[Hr],r=e[Ue][Ue][Kt];e[Kt]!==r&&(t[F]|=zf.HasTransplantedViews),n===null?t[Hr]=[e]:n.push(e)}function hE(t,e){let n=t[Hr],i=n.indexOf(e);n.splice(i,1)}function df(t,e){if(t.length<=gt)return;let n=gt+e,i=t[n];if(i){let r=i[_o];r!==null&&r!==t&&hE(r,i),e>0&&(t[n-1][Pt]=i[Pt]);let s=sl(t,gt+e);FR(i[W],i);let o=s[zt];o!==null&&o.detachView(s[W]),i[Ue]=null,i[Pt]=null,i[F]&=-129}return i}function fE(t,e){if(!(e[F]&256)){let n=e[Me];n.destroyNode&&Ml(t,e,n,3,null,null),VR(e)}}function Uh(t,e){if(!(e[F]&256)){e[F]&=-129,e[F]|=256,e[Fi]&&zv(e[Fi]),$R(t,e),jR(t,e),e[W].type===1&&e[Me].destroy();let n=e[_o];if(n!==null&&Tn(e[Ue])){n!==e[Ue]&&hE(n,e);let i=e[zt];i!==null&&i.detachView(t)}OR(e)}}function jR(t,e){let n=t.cleanup,i=e[ao];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[ao]=null);let r=e[ei];if(r!==null){e[ei]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function $R(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Bi)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Ht(4,a,c);try{c.call(a)}finally{Ht(5,a,c)}}else{Ht(4,r,s);try{s.call(r)}finally{Ht(5,r,s)}}}}}function HR(t,e,n){return GR(t,e.parent,n)}function GR(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Cn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===qt.None||s===qt.Emulated)return null}return Tt(i,n)}}function al(t,e,n,i,r){t.insertBefore(e,n,i,r)}function pE(t,e,n){t.appendChild(e,n)}function k0(t,e,n,i,r){i!==null?al(t,e,n,i,r):pE(t,e,n)}function zR(t,e,n,i){t.removeChild(e,n,i)}function lp(t,e){return t.parentNode(e)}function qR(t,e){return t.nextSibling(e)}function WR(t,e,n){return YR(t,e,n)}function KR(t,e,n){return t.type&40?Tt(t,n):null}var YR=KR,F0;function Rl(t,e,n,i){let r=HR(t,i,e),s=e[Me],o=i.parent||e[Ft],a=WR(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)k0(s,r,n[c],a,!1);else k0(s,r,n,a,!1);F0!==void 0&&F0(s,i,e,n,r)}function Qc(t,e){if(e!==null){let n=e.type;if(n&3)return Tt(e,t);if(n&4)return hf(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Qc(t,i);{let r=t[e.index];return Tn(r)?hf(-1,r):Qt(r)}}else{if(n&32)return cp(e,t)()||Qt(t[e.index]);{let i=gE(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=uo(t[Kt]);return Qc(r,i)}else return Qc(t,e.next)}}}return null}function gE(t,e){if(e!==null){let i=t[Kt][Ft],r=e.projection;return i.projection[r]}return null}function hf(t,e){let n=gt+t+1;if(n<e.length){let i=e[n],r=i[W].firstChild;if(r!==null)return Qc(i,r)}return e[Li]}function QR(t,e,n){let i=lp(t,e);i&&zR(t,i,e,n)}function up(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&ii(Qt(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)up(t,e,n.child,i,r,s,!1),Lr(e,t,r,a,s);else if(c&32){let l=cp(n,i),u;for(;u=l();)Lr(e,t,r,u,s);Lr(e,t,r,a,s)}else c&16?JR(t,e,i,n,r,s):Lr(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Ml(t,e,n,i,r,s){up(n,i,t.firstChild,e,r,s,!1)}function JR(t,e,n,i,r,s){let o=n[Kt],c=o[Ft].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Lr(e,t,r,u,s)}else{let l=c,u=o[Ue];cE(i)&&(l.flags|=128),up(t,e,l,u,r,s,!0)}}function ZR(t,e,n,i,r){let s=n[Li],o=Qt(n);s!==o&&Lr(e,t,i,s,r);for(let a=gt;a<n.length;a++){let c=n[a];Ml(c[W],c,t,e,i,s)}}function XR(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:bn.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=bn.Important),t.setStyle(n,i,r,s))}}function eM(t,e,n){t.setAttribute(e,"style",n)}function mE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _E(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&Xh(t,e,i),r!==null&&mE(t,e,r),s!==null&&eM(t,e,s)}var Hc;function tM(){if(Hc===void 0&&(Hc=null,xi.trustedTypes))try{Hc=xi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hc}function L0(t){return tM()?.createScriptURL(t)||t}var cl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iw})`}};function vo(t){return t instanceof cl?t.changingThisBreaksApplicationSecurity:t}function dp(t,e){let n=nM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iw})`)}return n===e}function nM(t){return t instanceof cl&&t.getTypeName()||null}var iM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yE(t){return t=String(t),t.match(iM)?t:"unsafe:"+t}var Ol=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ol||{});function Xt(t){let e=wE();return e?e.sanitize(Ol.URL,t)||"":dp(t,"URL")?vo(t):yE(yl(t))}function rM(t){let e=wE();if(e)return L0(e.sanitize(Ol.RESOURCE_URL,t)||"");if(dp(t,"ResourceURL"))return L0(vo(t));throw new x(904,!1)}function sM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rM:Xt}function vE(t,e,n){return sM(e,n)(t)}function wE(){let t=ue();return t&&t[Wt].sanitizer}var ff=class{};var oM="h",aM="b";var cM=()=>null;function hp(t,e,n=!1){return cM(t,e,n)}var pf=class{},ll=class{};function lM(t){let e=Error(`No component factory found for ${nt(t)}.`);return e[uM]=t,e}var uM="ngComponent";var gf=class{resolveComponentFactory(e){throw lM(e)}},Nl=(()=>{let e=class e{};e.NULL=new gf;let t=e;return t})();function dM(){return ns(it(),ue())}function ns(t,e){return new yt(Tt(t,e))}var yt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=dM;let t=e;return t})();function hM(t){return t instanceof yt?t.nativeElement:t}var fo=class{},li=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>fM();let t=e;return t})();function fM(){let t=ue(),e=it(),n=oi(e.index,t);return(Pi(n)?n:t)[Me]}var pM=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),jh={};function EE(t){return mM(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function mM(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var mf=class{constructor(){}supports(e){return EE(e)}create(e){return new _f(e)}},_M=(t,e)=>e,_f=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_M}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<V0(i,r,s)?n:i,a=V0(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;u<=g&&g<l&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!EE(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,gM(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new yf(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ul),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ul),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},ul=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new vf,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function V0(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function B0(){return new fp([new mf])}var fp=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||B0()),deps:[[e,new np,new Ke]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new x(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:B0});let t=e;return t})();function dl(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Qt(s)),Tn(s)&&yM(s,i);let o=n.type;if(o&8)dl(t,e,n.child,i);else if(o&32){let a=cp(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=gE(e,n);if(Array.isArray(a))i.push(...a);else{let c=uo(e[Kt]);dl(c[W],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function yM(t,e){for(let n=gt;n<t.length;n++){let i=t[n],r=i[W].firstChild;r!==null&&dl(i[W],i,r,e)}t[Li]!==t[Cn]&&e.push(t[Li])}var IE=[];function vM(t){return t[Fi]??wM(t)}function wM(t){let e=IE.pop()??Object.create(IM);return e.lView=t,e}function EM(t){t.lView[Fi]!==t&&(t.lView=null,IE.push(t))}var IM=ce(S({},$v),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{lo(t.lView)},consumerOnSignalRead(){this.lView[Fi]=this}});function bE(t){return CE(t[co])}function DE(t){return CE(t[Pt])}function CE(t){for(;t!==null&&!Tn(t);)t=t[Pt];return t}var bM="ngOriginalError";function $h(t){return t[bM]}var Jt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$h(e);for(;n&&$h(n);)n=$h(n);return n||null}},TE=new R("",{providedIn:"root",factory:()=>w(Jt).handleError.bind(void 0)});var SE=!1,DM=new R("",{providedIn:"root",factory:()=>SE});var Gi={};function X(t=1){AE(We(),ue(),Zr()+t,!1)}function AE(t,e,n,i){if(!i)if((e[F]&3)===3){let s=t.preOrderCheckHooks;s!==null&&qc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Wc(e,s,0,n)}Vi(n)}function P(t,e=q.Default){let n=ue();if(n===null)return A(t,e);let i=it();return Kw(i,n,tt(t),e)}function RE(){let t="invalid";throw new Error(t)}function CM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Vi(~r);else{let s=r,o=n[++i],a=n[++i];LA(o,s);let c=e[s];a(2,c)}}}finally{Vi(-1)}}function xl(t,e,n,i,r,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Cn]=r,d[F]=i|4|128|8|64,(l!==null||t&&t[F]&2048)&&(d[F]|=2048),Aw(d),d[Ue]=d[Jr]=t,d[kt]=n,d[Wt]=o||t&&t[Wt],d[Me]=a||t&&t[Me],d[$r]=c||t&&t[$r]||null,d[Ft]=s,d[El]=RR(),d[el]=u,d[Ew]=l,d[Kt]=e.type==2?t[Kt]:d,d}function wo(t,e,n,i,r){let s=t.data[e];if(s===null)s=TM(t,e,n,i,r),FA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=NA();s.injectorIndex=o===null?-1:o.injectorIndex}return Hi(s,!0),s}function TM(t,e,n,i,r){let s=Nw(),o=Kf(),a=o?s:s&&s.parent,c=t.data[e]=NM(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function ME(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function OE(t,e,n,i,r){let s=Zr(),o=i&2;try{Vi(-1),o&&e.length>Yt&&AE(t,e,Yt,!1),Ht(o?2:0,r),n(i,r)}finally{Vi(s),Ht(o?3:1,r)}}function pp(t,e,n){if(qf(e)){let i=ft(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ft(i)}}}function gp(t,e,n){Ow()&&(VM(t,e,n,Tt(n,e)),(n.flags&64)===64&&kE(t,e,n))}function mp(t,e,n=Tt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function NE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_p(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _p(t,e,n,i,r,s,o,a,c,l,u){let d=Yt+i,h=d+r,f=SM(d,h),g=typeof l=="function"?l():l;return f[W]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function SM(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Gi);return n}function AM(t,e,n,i){let s=i.get(DM,SE)||n===qt.ShadowDom,o=t.selectRootElement(e,s);return RM(o),o}function RM(t){MM(t)}var MM=()=>null;function OM(t,e,n,i){let r=BE(e);r.push(n),t.firstCreatePass&&UE(t).push(i,r.length-1)}function NM(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return RA()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function U0(t,e,n,i){for(let r in t)if(t.hasOwnProperty(r)){n=n===null?{}:n;let s=t[r];i===null?j0(n,e,r,s):i.hasOwnProperty(r)&&j0(n,e,i[r],s)}return n}function j0(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function xM(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=U0(d.inputs,u,c,f),l=U0(d.outputs,u,l,g);let T=c!==null&&o!==null&&!pw(e)?YM(c,u,o):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function PM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xE(t,e,n,i,r,s,o,a){let c=Tt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(vp(t,n,u,i,r),Il(e)&&kM(n,e.index)):e.type&3?(i=PM(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function kM(t,e){let n=oi(e,t);n[F]&16||(n[F]|=64)}function yp(t,e,n,i){if(Ow()){let r=i===null?null:{"":-1},s=UM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&PE(t,e,n,o,r,a),r&&jM(n,i,r)}n.mergedAttrs=oo(n.mergedAttrs,n.attrs)}function PE(t,e,n,i,r,s){for(let l=0;l<i.length;l++)sf(rl(n,e),t,i[l].type);HM(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=ME(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=oo(n.mergedAttrs,u.hostAttrs),GM(t,n,e,c,u),$M(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}xM(t,n,s)}function FM(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;LM(o)!=a&&o.push(a),o.push(n,i,s)}}function LM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VM(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Il(n)&&zM(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||rl(n,e),ii(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],l=Ui(e,t,a,n);if(ii(l,e),o!==null&&KM(e,a-r,l,c,n,o),ni(c)){let u=oi(n.index,e);u[kt]=Ui(e,t,a,n)}}}function kE(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=VA();try{Vi(s);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];nf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&BM(c,l)}}finally{Vi(-1),nf(o)}}function BM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UM(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(iA(e,o.selectors,!1))if(i||(i=[]),ni(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;wf(t,e,c)}else i.unshift(o),wf(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function wf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function jM(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new x(-301,!1);i.push(e[r],s)}}}function $M(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ni(e)&&(n[""]=t)}}function HM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GM(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Gr(r.type,!0)),o=new Bi(s,ni(r),P);t.blueprint[i]=o,n[i]=o,FM(t,e,i,ME(t,n,r.hostVars,Gi),r)}function zM(t,e,n){let i=Tt(e,t),r=NE(n),s=t[Wt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Pl(t,xl(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function qM(t,e,n,i,r,s){let o=Tt(t,e);WM(e[Me],o,s,t.value,n,i,r)}function WM(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?yl(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function KM(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++];FE(i,n,c,l,u)}}function FE(t,e,n,i,r){let s=ft(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),t.setInput!==null?t.setInput(e,r,n,i):e[i]=r}finally{ft(s)}}function YM(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],n[r+1]);break}}r+=2}return i}function LE(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function VE(t,e){let n=t.contentQueries;if(n!==null){let i=ft(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Qf(s),a.contentQueries(2,e[o],o)}}}finally{ft(i)}}}function Pl(t,e){return t[co]?t[S0][Pt]=e:t[co]=e,t[S0]=e,e}function Ef(t,e,n){Qf(0);let i=ft(null);try{e(t,n)}finally{ft(i)}}function BE(t){return t[ao]||(t[ao]=[])}function UE(t){return t.cleanup||(t.cleanup=[])}function jE(t,e){let n=t[$r],i=n?n.get(Jt,null):null;i&&i.handleError(e)}function vp(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],l=t.data[o];FE(l,c,i,a,r)}}function QM(t,e,n){let i=Tw(e,t);PR(t[Me],i,n)}var JM=100;function ZM(t,e=!0){let n=t[Wt],i=n.rendererFactory,r=!1;r||i.begin?.();try{XM(t)}catch(s){throw e&&jE(t,s),s}finally{r||(i.end?.(),n.inlineEffectRunner?.flush())}}function XM(t){If(t,0);let e=0;for(;Rw(t);){if(e===JM)throw new x(103,!1);e++,If(t,1)}}function eO(t,e,n,i){let r=e[F];if((r&256)===256)return;let s=!1;!s&&e[Wt].inlineEffectRunner?.flush(),Jf(e);let o=null,a=null;!s&&tO(t)&&(a=vM(e),o=Hv(a));try{Aw(e),PA(t.bindingStartIndex),n!==null&&OE(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&qc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Wc(e,d,0,null),Fh(e,0)}if(nO(e),$E(e,0),t.contentQueries!==null&&VE(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&qc(e,d)}else{let d=t.contentHooks;d!==null&&Wc(e,d,1),Fh(e,1)}CM(t,e);let l=t.components;l!==null&&GE(e,l,0);let u=t.viewQuery;if(u!==null&&Ef(2,u,i),!s)if(c){let d=t.viewCheckHooks;d!==null&&qc(e,d)}else{let d=t.viewHooks;d!==null&&Wc(e,d,2),Fh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kh]){for(let d of e[kh])d();e[kh]=null}s||(e[F]&=-73)}catch(c){throw lo(e),c}finally{a!==null&&(Gv(a,o),EM(a)),Zf()}}function tO(t){return t.type!==2}function $E(t,e){for(let n=bE(t);n!==null;n=DE(n))for(let i=gt;i<n.length;i++){let r=n[i];HE(r,e)}}function nO(t){for(let e=bE(t);e!==null;e=DE(e)){if(!(e[F]&zf.HasTransplantedViews))continue;let n=e[Hr];for(let i=0;i<n.length;i++){let r=n[i],s=r[Ue];bA(r)}}}function iO(t,e,n){let i=oi(e,t);HE(i,n)}function HE(t,e){Wf(t)&&If(t,e)}function If(t,e){let i=t[W],r=t[F],s=t[Fi],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&fh(s)),s&&(s.dirty=!1),t[F]&=-9217,o)eO(i,t,i.template,t[kt]);else if(r&8192){$E(t,1);let a=i.components;a!==null&&GE(t,a,1)}}function GE(t,e,n){for(let i=0;i<e.length;i++)iO(t,e[i],n)}function wp(t){for(t[Wt].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=uo(t);if(hA(t)&&!e)return t;t=e}return null}var ji=class{get rootNodes(){let e=this._lView,n=e[W];return dl(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ue];if(Tn(e)){let n=e[tl],i=n?n.indexOf(this):-1;i>-1&&(df(e,i),sl(n,i))}this._attachedToViewContainer=!1}fE(this._lView[W],this._lView)}onDestroy(e){Mw(this._lView,e)}markForCheck(){wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){tf(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,ZM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,dE(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e,tf(this._lView)}},An=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rO;let t=e;return t})();function rO(t){return sO(it(),ue(),(t&16)===16)}function sO(t,e,n){if(Il(t)&&!n){let i=oi(t.index,e);return new ji(i,i)}else if(t.type&47){let i=e[Kt];return new ji(i,e)}return null}var Ep=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oO,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),bf=class extends Ep{constructor(e){super(),this._lView=e}onDestroy(e){return Mw(this._lView,e),()=>CA(this._lView,e)}};function oO(){return new bf(ue())}var $0=new Set;function kl(t){$0.has(t)||($0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Df=class extends at{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Hh(s),r&&(r=Hh(r)),o&&(o=Hh(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function Hh(t){return e=>{setTimeout(t,void 0,e)}}var ge=Df;function H0(...t){}function aO(){let t=typeof xi.requestAnimationFrame=="function",e=xi[t?"requestAnimationFrame":"setTimeout"],n=xi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=aO().nativeRequestAnimationFrame,uO(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,cO,H0,H0);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},cO={};function Ip(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cf(t),t.isCheckStableRunning=!0,Ip(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cf(t))}function uO(t){let e=()=>{lO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(dO(a))return n.invokeTask(r,s,o,a);try{return G0(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),z0(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return G0(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),z0(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cf(t),Ip(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function G0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function z0(t){t._nesting--,Ip(t)}function dO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Vr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Vr||{}),hO={destroy(){}};function bp(t,e){!e&&wR(bp);let n=e?.injector??w(je);if(!bR(n))return hO;kl("NgAfterNextRender");let i=n.get(Dp),r=i.handler??=new Sf,s=e?.phase??Vr.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(Ep).onDestroy(o),c=new Tf(n,s,()=>{o(),t()});return r.register(c),{destroy:o}}var Tf=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(te),this.errorHandler=e.get(Jt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Sf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Vr.EarlyRead]:new Set,[Vr.Write]:new Set,[Vr.MixedReadWrite]:new Set,[Vr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let i of n)e=!0,i.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Dp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of i)s();return!!this.handler?.execute()||i.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function fO(t,e){let n=oi(e,t),i=n[W];pO(i,n);let r=n[Cn];r!==null&&n[el]===null&&(n[el]=hp(r,n[$r])),Cp(i,n,n[kt])}function pO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Cp(t,e,n){Jf(e);try{let i=t.viewQuery;i!==null&&Ef(1,i,n);let r=t.template;r!==null&&OE(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&VE(t,e),t.staticViewQueries&&Ef(2,t.viewQuery,n);let s=t.components;s!==null&&gO(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[F]&=-5,Zf()}}function gO(t,e){for(let n=0;n<e.length;n++)fO(t,e[n])}function hl(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=_0(r,a);else if(s==2){let c=a,l=e[++o];i=_0(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var fl=class extends Nl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ti(e);return new Kr(n,this.ngModule)}};function q0(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push({propName:i,templateName:n})}return e}function mO(t){let e=t.toLowerCase();return e==="svg"?mA:e==="math"?_A:null}var Af=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=wl(i);let r=this.injector.get(e,jh,i);return r!==jh||n===jh?r:this.parentInjector.get(e,n,i)}},Kr=class extends ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=q0(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return q0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let s=r instanceof qe?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Af(e,s):e,a=o.get(fo,null);if(a===null)throw new x(407,!1);let c=o.get(pM,null),l=o.get(Dp,null),u=o.get(ff,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=i?AM(h,i,this.componentDef.encapsulation,o):uE(h,f,mO(f)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let y=null;g!==null&&(y=hp(g,o,!0));let b=_p(0,null,null,1,0,null,null,null,null,null,null),z=xl(null,b,null,T,null,null,d,h,o,null,y);Jf(z);let re,B;try{let fe=this.componentDef,se,et=null;fe.findHostDirectiveDefs?(se=[],et=new Map,fe.findHostDirectiveDefs(fe,se,et),se.push(fe)):se=[fe];let Gn=_O(z,g),Ai=yO(Gn,g,fe,se,z,d,h);B=Sw(b,Yt),g&&EO(h,fe,g,i),n!==void 0&&IO(B,this.ngContentSelectors,n),re=wO(Ai,fe,se,et,z,[bO]),Cp(b,z,null)}finally{Zf()}return new Rf(this.componentType,re,ns(B,z),z,B)}},Rf=class extends pf{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ji(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;vp(s[W],s,r,e,n),this.previousInputValues.set(e,n);let o=oi(this._tNode.index,s);wp(o)}}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _O(t,e){let n=t[W],i=Yt;return t[i]=e,wo(n,i,2,"#host",null)}function yO(t,e,n,i,r,s,o){let a=r[W];vO(i,t,e,o);let c=null;e!==null&&(c=hp(e,r[$r]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=xl(r,NE(n),null,u,r[t.index],t,s,l,null,null,c);return a.firstCreatePass&&wf(a,t,i.length-1),Pl(r,d),r[t.index]=d}function vO(t,e,n,i){for(let r of t)e.mergedAttrs=oo(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(hl(e,e.mergedAttrs,!0),n!==null&&_E(i,n,e))}function wO(t,e,n,i,r,s){let o=it(),a=r[W],c=Tt(o,r);PE(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Ui(r,a,d,o);ii(h,r)}kE(a,r,o),c&&ii(c,r);let l=Ui(r,a,o.directiveStart+o.componentOffset,o);if(t[kt]=r[kt]=l,s!==null)for(let u of s)u(l,e);return pp(a,o,t),l}function EO(t,e,n,i){if(i)Xh(t,n,["ng-version","17.0.9"]);else{let{attrs:r,classes:s}=cA(e.selectors[0]);r&&Xh(t,n,r),s&&s.length>0&&mE(t,n,s.join(" "))}}function IO(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function bO(){let t=it();Tl(ue()[W],t)}function DO(t){return Object.getPrototypeOf(t.prototype).constructor}function zi(t){let e=DO(t.type),n=!0,i=[t];for(;e;){let r;if(ni(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=Gc(t.inputs),o.inputTransforms=Gc(t.inputTransforms),o.declaredInputs=Gc(t.declaredInputs),o.outputs=Gc(t.outputs);let a=r.hostBindings;a&&AO(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&TO(t,c),l&&SO(t,l),jc(t.inputs,r.inputs),jc(t.declaredInputs,r.declaredInputs),jc(t.outputs,r.outputs),r.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),jc(o.inputTransforms,r.inputTransforms)),ni(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zi&&(n=!1)}}e=Object.getPrototypeOf(e)}CO(i)}function CO(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=oo(r.hostAttrs,n=oo(n,r.hostAttrs))}}function Gc(t){return t===jr?{}:t===Ct?[]:t}function TO(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function SO(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function AO(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Tp(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[2]&&(n[i]=r[2])}t.inputTransforms=n}function Fl(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Eo(t,e,n,i){let r=ue(),s=Yf();if(Fl(r,s,e)){let o=We(),a=Xf();qM(a,r,t,e,n,i)}return Eo}function zE(t,e,n,i){return Fl(t,Yf(),n)?e+yl(n)+i:Gi}function zc(t,e){return t<<17|e<<2}function $i(t){return t>>17&32767}function RO(t){return(t&2)==2}function MO(t,e){return t&131071|e<<17}function Mf(t){return t|2}function Yr(t){return(t&131068)>>2}function Gh(t,e){return t&-131069|e<<2}function OO(t){return(t&1)===1}function Of(t){return t|1}function NO(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=$i(o),c=Yr(o);t[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||yo(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let h=$i(t[a+1]);t[i+1]=zc(h,a),h!==0&&(t[h+1]=Gh(t[h+1],i)),t[a+1]=MO(t[a+1],i)}else t[i+1]=zc(a,0),a!==0&&(t[a+1]=Gh(t[a+1],i)),a=i;else t[i+1]=zc(c,0),a===0?a=i:t[c+1]=Gh(t[c+1],i),c=i;l&&(t[i+1]=Mf(t[i+1])),W0(t,u,i,!0),W0(t,u,i,!1),xO(e,u,t,i,s),o=zc(a,c),s?e.classBindings=o:e.styleBindings=o}function xO(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&yo(s,e)>=0&&(n[i+1]=Of(n[i+1]))}function W0(t,e,n,i){let r=t[n+1],s=e===null,o=i?$i(r):Yr(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];PO(c,e)&&(a=!0,t[o+1]=i?Of(l):Mf(l)),o=i?$i(l):Yr(l)}a&&(t[n+1]=i?Mf(r):Of(r))}function PO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yo(t,e)>=0:!1}function ht(t,e,n){let i=ue(),r=Yf();if(Fl(i,r,e)){let s=We(),o=Xf();xE(s,o,i,t,e,i[Me],n,!1)}return ht}function K0(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";vp(t,n,s[o],o,i)}function Ll(t,e){return kO(t,e,null,!0),Ll}function kO(t,e,n,i){let r=ue(),s=We(),o=kA(2);if(s.firstUpdatePass&&LO(s,t,o,i),e!==Gi&&Fl(r,o,e)){let a=s.data[Zr()];$O(s,a,r,r[Me],t,r[o+1]=HO(e,n),i,o)}}function FO(t,e){return e>=t.expandoStartIndex}function LO(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Zr()],o=FO(t,n);GO(s,i)&&e===null&&!o&&(e=!1),e=VO(r,s,e,i),NO(r,s,e,n,o,i)}}function VO(t,e,n,i){let r=BA(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=zh(null,t,e,n,i),n=po(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=zh(r,t,e,n,i),s===null){let c=BO(t,e,i);c!==void 0&&Array.isArray(c)&&(c=zh(null,t,e,c[1],i),c=po(c,e.attrs,i),UO(t,e,i,c))}else s=jO(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function BO(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Yr(i)!==0)return t[$i(i)]}function UO(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[$i(r)]=i}function jO(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=po(i,o,n)}return po(i,e.attrs,n)}function zh(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=po(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function po(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),cR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function $O(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=OO(l)?Y0(c,e,n,r,Yr(l),o):void 0;if(!pl(u)){pl(s)||RO(l)&&(s=Y0(c,null,n,r,a,o));let d=Tw(Zr(),n);XR(i,o,d,r,s)}}function Y0(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[r+1];h===Gi&&(h=d?Ct:void 0);let f=d?Vh(h,i):u===i?h:void 0;if(l&&!pl(f)&&(f=Vh(c,i)),pl(f)&&(a=f,o))return a;let g=t[r+1];r=o?$i(g):Yr(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Vh(c,i))}return a}function pl(t){return t!==void 0}function HO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nt(vo(t)))),t}function GO(t,e){return(t.flags&(e?8:16))!==0}var O5=new RegExp(`^(\\d+)*(${aM}|${oM})*(.*)`);var zO=()=>null;function Q0(t,e){return zO(t,e)}function qO(t,e,n,i){let r=e.tView,o=t[F]&4096?4096:16,a=xl(t,r,n,o,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[_o]=c;let l=t[zt];return l!==null&&(a[zt]=l.createEmbeddedView(r)),Cp(r,a,n),a}function J0(t,e){return!e||e.firstChild===null||cE(t)}function WO(t,e,n,i=!0){let r=e[W];if(BR(r,e,t,n),i){let o=hf(n,t),a=e[Me],c=lp(a,t[Li]);c!==null&&LR(r,t[Ft],a,e,c,o)}let s=e[el];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Rn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KO;let t=e;return t})();function KO(){let t=it();return WE(t,ue())}var YO=Rn,qE=class extends YO{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ns(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=ep(this._hostTNode,this._hostLView);if($w(e)){let n=il(e,this._hostLView),i=nl(e),r=n[W].data[i+8];return new ki(r,n)}else return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Z0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Q0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,J0(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!rR(e),a;if(o)a=n;else{let g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Kr(ti(e)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let T=(o?l:this.parentInjector).get(qe,null);T&&(s=T)}let u=ti(c.componentType??{}),d=Q0(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,r,h,s);return this.insertImpl(f.hostView,a,J0(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(IA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ue],l=new qE(c,c[Ft],c[Ue]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return WO(o,r,s,i),e.attachToViewContainerRef(),Zw(qh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Z0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=df(this._lContainer,n);i&&(sl(qh(this._lContainer),n),fE(i[W],i))}detach(e){let n=this._adjustIndex(e,-1),i=df(this._lContainer,n);return i&&sl(qh(this._lContainer),n)!=null?new ji(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function Z0(t){return t[tl]}function qh(t){return t[tl]||(t[tl]=[])}function WE(t,e){let n,i=e[t.index];return Tn(i)?n=i:(n=LE(i,e,null,t),e[t.index]=n,Pl(e,n)),JO(n,e,t,i),new qE(n,t,e)}function QO(t,e){let n=t[Me],i=n.createComment(""),r=Tt(e,t),s=lp(n,r);return al(n,s,i,qR(n,r),!1),i}var JO=eN,ZO=()=>!1;function XO(t,e,n){return ZO(t,e,n)}function eN(t,e,n,i){if(t[Li])return;let r;n.type&8?r=Qt(i):r=QO(e,n),t[Li]=r}function tN(t,e,n,i,r,s,o,a,c){let l=e.consts,u=wo(e,t,4,o||null,zr(l,a));yp(e,n,u,zr(l,c)),Tl(e,u);let d=u.tView=_p(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function St(t,e,n,i,r,s,o,a){let c=ue(),l=We(),u=t+Yt,d=l.firstCreatePass?tN(u,l,c,e,n,i,r,s,o):l.data[u];Hi(d,!1);let h=nN(l,c,d,t);Dl()&&Rl(l,c,h,d),ii(h,c);let f=LE(h,c,h,d);return c[u]=f,Pl(c,f),XO(f,d,c),bl(d)&&gp(l,c,d),o!=null&&mp(c,d,a),St}var nN=iN;function iN(t,e,n,i){return Cl(!0),e[Me].createComment("")}function rN(t,e,n,i,r,s){let o=e.consts,a=zr(o,r),c=wo(e,t,2,i,a);return yp(e,n,c,zr(o,s)),c.attrs!==null&&hl(c,c.attrs,!1),c.mergedAttrs!==null&&hl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _(t,e,n,i){let r=ue(),s=We(),o=Yt+t,a=r[Me],c=s.firstCreatePass?rN(o,s,r,e,n,i):s.data[o],l=sN(s,r,c,a,e,t);r[o]=l;let u=bl(c);return Hi(c,!0),_E(a,l,c),(c.flags&32)!==32&&Dl()&&Rl(s,r,l,c),TA()===0&&ii(l,r),SA(),u&&(gp(s,r,c),pp(s,c,r)),i!==null&&mp(r,c),_}function v(){let t=it();Kf()?xw():(t=t.parent,Hi(t,!1));let e=t;MA(e)&&OA(),AA();let n=We();return n.firstCreatePass&&(Tl(n,t),qf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&qA(e)&&K0(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&WA(e)&&K0(n,e,ue(),e.stylesWithoutHost,!1),v}function me(t,e,n,i){return _(t,e,n,i),v(),me}var sN=(t,e,n,i,r,s)=>(Cl(!0),uE(i,r,$A()));function oN(t,e,n,i,r){let s=e.consts,o=zr(s,i),a=wo(e,t,8,"ng-container",o);o!==null&&hl(a,o,!0);let c=zr(s,r);return yp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Io(t,e,n){let i=ue(),r=We(),s=t+Yt,o=r.firstCreatePass?oN(s,r,i,e,n):r.data[s];Hi(o,!0);let a=aN(r,i,o,t);return i[s]=a,Dl()&&Rl(r,i,a,o),ii(a,i),bl(o)&&(gp(r,i,o),pp(r,o,i)),n!=null&&mp(i,o),Io}function bo(){let t=it(),e=We();return Kf()?xw():(t=t.parent,Hi(t,!1)),e.firstCreatePass&&(Tl(e,t),qf(t)&&e.queries.elementEnd(t)),bo}var aN=(t,e,n,i)=>(Cl(!0),kR(e[Me],""));function Vl(){return ue()}var gl="en-US";var cN=gl;function lN(t){BS(t,"Expected localeId to be defined"),typeof t=="string"&&(cN=t.toLowerCase().replace(/_/g,"-"))}function qi(t){return!!t&&typeof t.then=="function"}function KE(t){return!!t&&typeof t.subscribe=="function"}function ke(t,e,n,i){let r=ue(),s=We(),o=it();return dN(s,r,r[Me],o,t,e,i),ke}function uN(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[ao],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function dN(t,e,n,i,r,s,o){let a=bl(i),l=t.firstCreatePass&&UE(t),u=e[kt],d=BE(e),h=!0;if(i.type&3||o){let T=Tt(i,e),y=o?o(T):T,b=d.length,z=o?B=>o(Qt(B[i.index])):i.index,re=null;if(!o&&a&&(re=uN(t,e,r,i.index)),re!==null){let B=re.__ngLastListenerFn__||re;B.__ngNextListenerFn__=s,re.__ngLastListenerFn__=s,h=!1}else{s=ew(i,e,u,s,!1);let B=n.listen(y,r,s);d.push(s,B),l&&l.push(r,z,b,b+1)}}else s=ew(i,e,u,s,!1);let f=i.outputs,g;if(h&&f!==null&&(g=f[r])){let T=g.length;if(T)for(let y=0;y<T;y+=2){let b=g[y],z=g[y+1],fe=e[b][z].subscribe(s),se=d.length;d.push(s,fe),l&&l.push(r,i.index,se,-(se+1))}}}function X0(t,e,n,i){try{return Ht(6,e,n),n(i)!==!1}catch(r){return jE(t,r),!1}finally{Ht(7,e,n)}}function ew(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?oi(t.index,e):e;wp(a);let c=X0(e,n,i,o),l=s.__ngNextListenerFn__;for(;l;)c=X0(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Ye(t=1){return jA(t)}function en(t,e,n){return Bl(t,"",e,"",n),en}function Bl(t,e,n,i,r){let s=ue(),o=zE(s,e,n,i);if(o!==Gi){let a=We(),c=Xf();xE(a,c,s,t,o,s[Me],r,!1)}return Bl}function Ul(t){let e=xA();return wA(e,Yt+t)}function C(t,e=""){let n=ue(),i=We(),r=t+Yt,s=i.firstCreatePass?wo(i,r,1,e,null):i.data[r],o=hN(i,n,s,e,t);n[r]=o,Dl()&&Rl(i,n,o,s),Hi(s,!1)}var hN=(t,e,n,i,r)=>(Cl(!0),xR(e[Me],i));function rt(t){return Wi("",t,""),rt}function Wi(t,e,n){let i=ue(),r=zE(i,t,e,n);return r!==Gi&&QM(i,Zr(),r),Wi}function fN(t,e,n){let i=We();if(i.firstCreatePass){let r=ni(t);Nf(n,i.data,i.blueprint,r,!0),Nf(e,i.data,i.blueprint,r,!1)}}function Nf(t,e,n,i,r){if(t=tt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Nf(t[s],e,n,i,r);else{let s=We(),o=ue(),a=it(),c=Wr(t)?t:tt(t.provide),l=rE(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Wr(t)||!t.multi){let f=new Bi(l,r,P),g=Kh(c,e,r?u:u+h,d);g===-1?(sf(rl(a,o),s,c),Wh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=Kh(c,e,u+h,d),g=Kh(c,e,u,u+h),T=f>=0&&n[f],y=g>=0&&n[g];if(r&&!y||!r&&!T){sf(rl(a,o),s,c);let b=mN(r?gN:pN,n.length,r,i,l);!r&&y&&(n[g].providerFactory=b),Wh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else{let b=YE(n[r?g:f],l,!r&&i);Wh(s,t,f>-1?f:g,b)}!r&&i&&y&&n[g].componentProviders++}}}function Wh(t,e,n,i){let r=Wr(e),s=fR(e);if(r||s){let c=(s?tt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function YE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kh(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function pN(t,e,n,i){return xf(this.multi,[])}function gN(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ui(n,n[W],this.providerFactory.index,i);s=a.slice(0,o),xf(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],xf(r,s);return s}function xf(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function mN(t,e,n,i,r){let s=new Bi(t,n,P);return s.multi=[],s.index=e,s.componentProviders=0,YE(s,r,i&&!n),s}function jl(t,e=[]){return n=>{n.providersResolver=(i,r)=>fN(i,r?r(t):t,e)}}var ri=class{},go=class{};var Pf=class extends ri{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);let r=yw(e);this._bootstrapComponents=aE(r.bootstrap),this._r3Injector=sE(e,n,[{provide:ri,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver},...i],nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},kf=class extends go{constructor(e){super(),this.moduleType=e}create(e){return new Pf(this.moduleType,e,[])}};var ml=class extends ri{constructor(e){super(),this.componentFactoryResolver=new fl(this),this.instance=null;let n=new ho([...e.providers,{provide:ri,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver}],e.parent||rp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $l(t,e,n=null){return new ml({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var _N=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=tE(!1,i.type),s=r.length>0?$l([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(A(qe))});let t=e;return t})();function vt(t){kl("NgStandalone"),t.getStandaloneInjector=e=>e.get(_N).getOrCreateStandaloneInjector(t)}function yN(){return this._results[Symbol.iterator]()}var Ff=class t{get changes(){return this._changes??=new ge}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=yN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=oR(e);(this._changesDetected=!sR(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EN;let t=e;return t})(),vN=si,wN=class extends vN{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=qO(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new ji(r)}};function EN(){return Hl(it(),ue())}function Hl(t,e){return t.type&4?new wN(e,t,ns(t,e)):null}var Lf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Vf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)JE(e,n).matches!==null&&this.queries[n].setDirty()}},Bf=class{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}},Uf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,IN(n,s)),this.matchTNodeWithReadOption(e,n,Kc(n,e,s,!1,!1))}else i===si?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Kc(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===yt||r===Rn||r===si&&n.type&4)this.addMatch(n.index,-2);else{let s=Kc(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function IN(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function bN(t,e){return t.type&11?ns(t,e):t.type&4?Hl(t,e):null}function DN(t,e,n,i){return n===-1?bN(e,t):n===-2?CN(t,e,i):Ui(t,t[W],n,e)}function CN(t,e,n){if(n===yt)return ns(e,t);if(n===si)return Hl(e,t);if(n===Rn)return WE(e,t)}function QE(t,e,n,i){let r=e[zt].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(DN(e,u,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function $f(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=QE(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=gt;d<u.length;d++){let h=u[d];h[_o]===h[Ue]&&$f(h[W],h,l,i)}if(u[Hr]!==null){let d=u[Hr];for(let h=0;h<d.length;h++){let f=d[h];$f(f[W],f,l,i)}}}}}return i}function Sp(t){let e=ue(),n=We(),i=Pw();Qf(i+1);let r=JE(n,i);if(t.dirty&&EA(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=r.crossesNgTemplate?$f(n,e,i,[]):QE(n,e,r,i);t.reset(s,hM),t.notifyOnChanges()}return!0}return!1}function Ap(t,e,n,i){let r=We();if(r.firstCreatePass){let s=it();AN(r,new Bf(e,n,i),s.index),RN(r,t),(n&2)===2&&(r.staticContentQueries=!0)}SN(r,ue(),n)}function Rp(){return TN(ue(),Pw())}function TN(t,e){return t[zt].queries[e].queryList}function SN(t,e,n){let i=new Ff((n&4)===4);OM(t,e,i,i.destroy),e[zt]===null&&(e[zt]=new Vf),e[zt].queries.push(new Lf(i))}function AN(t,e,n){t.queries===null&&(t.queries=new Uf),t.queries.track(new jf(e,n))}function RN(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function JE(t,e){return t.queries.getByIndex(e)}function Gl(t,e){return Hl(t,e)}var Dn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ZE=new Dn("17.0.9");var zl=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Hf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ql=(()=>{let e=class e{compileModuleSync(i){return new kf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=yw(i),o=aE(s.declarations).reduce((a,c)=>{let l=ti(c);return l&&a.push(new Kr(l)),a},[]);return new Hf(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ki=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XE=new R("");var Wl=new R("Application Initializer"),eI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=w(Wl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(qi(o))i.push(o);else if(KE(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Do=new R("appBootstrapListener");function MN(){qv(()=>{throw new x(600,!1)})}function ON(t){return t.isBoundToModule}function NN(t,e,n){try{let i=n();return qi(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Yi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(TE),this.afterRenderEffectManager=w(Dp),this.componentTypes=[],this.components=[],this.isStable=w(Ki).hasPendingTasks.pipe($(i=>!i)),this._injector=w(qe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof ll;if(!this._injector.get(eI).done){let f=!s&&_w(i),g=!1;throw new x(405,g)}let a;s?a=i:a=this._injector.get(Nl).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=ON(a)?void 0:this._injector.get(ri),l=r||a.selector,u=a.create(je.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(XE,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Yh(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{try{let i=this.afterRenderEffectManager.execute()}catch(i){this.internalErrorHandler(i)}this._runningTick=!1}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Yh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Do,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Yh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new x(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var xN=(()=>{let e=class e{constructor(){this.zone=w(te),this.applicationRef=w(Yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PN(t){return[{provide:te,useFactory:t},{provide:qr,multi:!0,useFactory:()=>{let e=w(xN,{optional:!0});return()=>e.initialize()}},{provide:qr,multi:!0,useFactory:()=>{let e=w(VN);return()=>{e.initialize()}}},{provide:TE,useFactory:kN}]}function kN(){let t=w(te),e=w(Jt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function FN(t){let e=PN(()=>new te(LN(t)));return es([[],e])}function LN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VN=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=w(te),this.pendingTasks=w(Ki)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BN(){return typeof $localize<"u"&&$localize.locale||gl}var Kl=new R("LocaleId",{providedIn:"root",factory:()=>w(Kl,q.Optional|q.SkipSelf)||BN()});var tI=new R("PlatformDestroyListeners");var Jc=null;function UN(t=[],e){return je.create({name:e,providers:[{provide:Al,useValue:"platform"},{provide:tI,useValue:new Set([()=>Jc=null])},...t]})}function jN(t=[]){if(Jc)return Jc;let e=UN(t);return Jc=e,MN(),$N(e),e}function $N(t){t.get(op,null)?.forEach(n=>n())}function nI(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=jN(i),s=[FN(),...n||[]],a=new ml({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(te);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Jt,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=r.get(tI);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),NN(l,c,()=>{let f=a.get(eI);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Kl,gl);lN(g||gl);let T=a.get(Yi);return e!==void 0&&T.bootstrap(e),T})})})}catch(e){return Promise.reject(e)}}function Qi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function iI(t){let e=ti(t);if(!e)return null;let n=new Kr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Mp=null;function On(){return Mp}function cI(t){Mp||(Mp=t)}var Yl=class{},He=new R("DocumentToken"),kp=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>w(GN))(),providedIn:"platform"});let t=e;return t})(),lI=new R("Location Initialized"),GN=(()=>{let e=class e extends kp{constructor(){super(),this._doc=w(He),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(i){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Fp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Mn(t){return t&&t[0]!=="?"?"?"+t:t}var Nn=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>w(Lp))(),providedIn:"root"});let t=e;return t})(),uI=new R("appBaseHref"),Lp=(()=>{let e=class e extends Nn{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Fp(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Mn(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Mn(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Mn(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(A(kp),A(uI,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dI=(()=>{let e=class e extends Nn{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=Fp(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Mn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Mn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(A(kp),A(uI,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),rs=(()=>{let e=class e{constructor(i){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=WN(rI(sI(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Mn(r))}normalize(i){return e.stripTrailingSlash(qN(this._basePath,sI(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Mn(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Mn(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Mn,e.joinWithSlash=Fp,e.stripTrailingSlash=rI,e.\u0275fac=function(r){return new(r||e)(A(Nn))},e.\u0275prov=M({token:e,factory:()=>zN(),providedIn:"root"});let t=e;return t})();function zN(){return new rs(A(Nn))}function qN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sI(t){return t.replace(/\/index.html$/,"")}function WN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ql(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Op=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hI=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(!1)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Op(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),oI(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);oI(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(P(Rn),P(si),P(fp))},e.\u0275dir=dt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function oI(t,e){t.context.$implicit=e.item}var fI=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Np,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){aI("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){aI("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(P(Rn),P(si))},e.\u0275dir=dt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Np=class{constructor(){this.$implicit=null,this.ngIf=null}};function aI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nt(e)}'.`)}var xn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({});let t=e;return t})(),Vp="browser",KN="server";function YN(t){return t===Vp}function Bp(t){return t===KN}var pI=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>YN(w(_t))?new xp(w(He),window):new Pp});let t=e;return t})(),xp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=QN(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function QN(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Pp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},is=class{};var To=class{},Xl=class{},Ji=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var jp=class{encodeKey(e){return gI(e)}encodeValue(e){return gI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function XN(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var ex=/%(\d[a-f0-9])/gi,tx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gI(t){return encodeURIComponent(t).replace(ex,(e,n)=>tx[n]??e)}function Zl(t){return`${t}`}var ui=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=XN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Zl):[Zl(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Zl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Zl(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $p=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function nx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function _I(t){return typeof Blob<"u"&&t instanceof Blob}function yI(t){return typeof FormData<"u"&&t instanceof FormData}function ix(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Co=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(nx(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Ji),this.context||(this.context=new $p),!this.params)this.params=new ui,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:mI(this.body)||_I(this.body)||yI(this.body)||ix(this.body)||typeof this.body=="string"?this.body:this.body instanceof ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||yI(this.body)?null:_I(this.body)?this.body.type||null:mI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,i,s,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:o})}},ss=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ss||{}),So=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Ji,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Hp=class t extends So{constructor(e={}){super(e),this.type=ss.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},eu=class t extends So{constructor(e={}){super(e),this.type=ss.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tu=class extends So{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Up(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ao=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Co)o=i;else{let l;s.headers instanceof Ji?l=s.headers:l=new Ji(s.headers);let u;s.params&&(s.params instanceof ui?u=s.params:u=new ui({fromObject:s.params})),o=new Co(i,r,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=N(o).pipe(En(l=>this.handler.handle(l)));if(i instanceof Co||s.observe==="events")return a;let c=a.pipe(lt(l=>l instanceof eu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe($(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe($(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe($(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe($(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new ui().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Up(s,r))}post(i,r,s={}){return this.request("POST",i,Up(s,r))}put(i,r,s={}){return this.request("PUT",i,Up(s,r))}};e.\u0275fac=function(r){return new(r||e)(A(To))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function II(t,e){return e(t)}function rx(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function sx(t,e,n){return(i,r)=>Zt(n,()=>e(i,s=>t(s,r)))}var ox=new R(""),Gp=new R(""),ax=new R(""),cx=new R("");function lx(){let t=null;return(e,n)=>{t===null&&(t=(w(ox,{optional:!0})??[]).reduceRight(rx,II));let i=w(Ki),r=i.add();return t(e,n).pipe(Zn(()=>i.remove(r)))}}var vI=(()=>{let e=class e extends To{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=w(Ki);let s=w(cx,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Gp),...this.injector.get(ax,[])]));this.chain=s.reduceRight((o,a)=>sx(o,a,this.injector),II)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Zn(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(A(Xl),A(qe))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();var ux=/^\)\]\}',?\n/;function dx(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var wI=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):N(null)).pipe(ut(()=>new Y(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((y,b)=>a.setRequestHeader(y,b.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let y=i.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(i.responseType){let y=i.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let c=i.serializeBody(),l=null,u=()=>{if(l!==null)return l;let y=a.statusText||"OK",b=new Ji(a.getAllResponseHeaders()),z=dx(a)||i.url;return l=new Hp({headers:b,status:a.status,statusText:y,url:z}),l},d=()=>{let{headers:y,status:b,statusText:z,url:re}=u(),B=null;b!==204&&(B=typeof a.response>"u"?a.responseText:a.response),b===0&&(b=B?200:0);let fe=b>=200&&b<300;if(i.responseType==="json"&&typeof B=="string"){let se=B;B=B.replace(ux,"");try{B=B!==""?JSON.parse(B):null}catch(et){B=se,fe&&(fe=!1,B={error:et,text:B})}}fe?(o.next(new eu({body:B,headers:y,status:b,statusText:z,url:re||void 0})),o.complete()):o.error(new tu({error:B,headers:y,status:b,statusText:z,url:re||void 0}))},h=y=>{let{url:b}=u(),z=new tu({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});o.error(z)},f=!1,g=y=>{f||(o.next(u()),f=!0);let b={type:ss.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),i.responseType==="text"&&a.responseText&&(b.partialText=a.responseText),o.next(b)},T=y=>{let b={type:ss.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),o.next(b)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",T)),a.send(c),o.next({type:ss.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",T)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(A(is))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),bI=new R("XSRF_ENABLED"),hx="XSRF-TOKEN",fx=new R("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>hx}),px="X-XSRF-TOKEN",gx=new R("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>px}),nu=class{},mx=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ql(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(A(He),A(_t),A(fx))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function _x(t,e){let n=t.url.toLowerCase();if(!w(bI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=w(nu).getToken(),r=w(gx);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var DI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(DI||{});function yx(t,e){return{\u0275kind:t,\u0275providers:e}}function vx(...t){let e=[Ao,wI,vI,{provide:To,useExisting:vI},{provide:Xl,useExisting:wI},{provide:Gp,useValue:_x,multi:!0},{provide:bI,useValue:!0},{provide:nu,useClass:mx}];for(let n of t)e.push(...n.\u0275providers);return es(e)}var EI=new R("LEGACY_INTERCEPTOR_FN");function wx(){return yx(DI.LegacyInterceptors,[{provide:EI,useFactory:lx},{provide:Gp,useExisting:EI,multi:!0}])}var CI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({providers:[vx(wx())]});let t=e;return t})();var Wp=class extends Yl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kp=class t extends Wp{static makeCurrent(){cI(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ex();return n==null?null:Ix(n)}resetBaseElement(){Ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ql(document.cookie,e)}},Ro=null;function Ex(){return Ro=Ro||document.querySelector("base"),Ro?Ro.getAttribute("href"):null}function Ix(t){return new URL(t,document.baseURI).pathname}var bx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Yp=new R("EventManagerPlugins"),MI=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(A(Yp),A(te))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),iu=class{constructor(e){this._doc=e}},zp="ng-app-id",OI=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bp(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${zp}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(zp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(zp,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(A(He),A(sp),A(ap,8),A(_t))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jp=/%COMP%/g,NI="%COMP%",Dx=`_nghost-${NI}`,Cx=`_ngcontent-${NI}`,Tx=!0,Sx=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Tx});function Ax(t){return Cx.replace(Jp,t)}function Rx(t){return Dx.replace(Jp,t)}function xI(t,e){return e.map(n=>n.replace(Jp,t))}var SI=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Bp(c),this.defaultRenderer=new Mo(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qt.ShadowDom&&(r=ce(S({},r),{encapsulation:qt.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof ru?s.applyToHost(i):s instanceof Oo&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case qt.Emulated:o=new ru(l,u,r,this.appId,d,a,c,h);break;case qt.ShadowDom:return new Qp(l,u,i,r,a,c,this.nonce,h);default:o=new Oo(l,u,r,d,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(A(MI),A(OI),A(sp),A(Sx),A(He),A(_t),A(te),A(ap))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Mo=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AI(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(AI(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new x(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=qp[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=qp[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(bn.DashCase|bn.Important)?e.style.setProperty(n,i,r&bn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=On().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function AI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qp=class extends Mo{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xI(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oo=class extends Mo{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?xI(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ru=class extends Oo{constructor(e,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,n,i,s,o,a,c,l),this.contentAttr=Ax(l),this.hostAttr=Rx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Mx=(()=>{let e=class e extends iu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(A(He))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),RI=["alt","control","meta","shift"],Ox={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xx=(()=>{let e=class e extends iu{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),RI.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=Ox[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),RI.forEach(a=>{if(a!==s){let c=Nx[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(A(He))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function PI(t,e){return nI(S({rootComponent:t},Px(e)))}function Px(t){return{appProviders:[...Bx,...t?.providers??[]],platformProviders:Vx}}function kx(){Kp.makeCurrent()}function Fx(){return new Jt}function Lx(){return oE(document),document}var Vx=[{provide:_t,useValue:Vp},{provide:op,useValue:kx,multi:!0},{provide:He,useFactory:Lx,deps:[]}];var Bx=[{provide:Al,useValue:"root"},{provide:Jt,useFactory:Fx,deps:[]},{provide:Yp,useClass:Mx,multi:!0,deps:[He,te,_t]},{provide:Yp,useClass:xx,multi:!0,deps:[He]},SI,OI,MI,{provide:fo,useExisting:SI},{provide:is,useClass:bx,deps:[]},[]];function Ux(){return new Zp(A(He))}var Zp=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(A(He))},e.\u0275prov=M({token:e,factory:function(r){let s=null;return r?s=new r:s=Ux(),s},providedIn:"root"});let t=e;return t})();var H="primary",Wo=Symbol("RouteTitle"),ig=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function us(t){return new ig(t)}function $x(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Hx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}function tn(t,e){let n=t?rg(t):void 0,i=e?rg(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!HI(t[r],e[r]))return!1;return!0}function rg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function HI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function gi(t){return Ah(t)?t:qi(t)?he(Promise.resolve(t)):N(t)}var Gx={exact:zI,subset:qI},GI={exact:zx,subset:qx,ignored:()=>!0};function kI(t,e,n){return Gx[n.paths](t.root,e.root,n.matrixParams)&&GI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zx(t,e){return tn(t,e)}function zI(t,e,n){if(!Xi(t.segments,e.segments)||!au(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!zI(t.children[i],e.children[i],n))return!1;return!0}function qx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>HI(t[n],e[n]))}function qI(t,e,n){return WI(t,e,e.segments,n)}function WI(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Xi(r,n)||e.hasChildren()||!au(r,n,i))}else if(t.segments.length===n.length){if(!Xi(t.segments,n)||!au(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!qI(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Xi(t.segments,r)||!au(t.segments,r,i)||!t.children[H]?!1:WI(t.children[H],e,s,i)}}function au(t,e,n){return e.every((i,r)=>GI[n](t[r].parameters,i.parameters))}var di=class{constructor(e=new oe([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return Yx.serialize(this)}},oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}},Zi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=us(this.parameters)),this._parameterMap}toString(){return YI(this)}};function Wx(t,e){return Xi(t,e)&&t.every((n,i)=>tn(n.parameters,e[i].parameters))}function Xi(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function Kx(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===H&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==H&&(n=n.concat(e(r,i)))}),n}var Ko=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>new Vo)(),providedIn:"root"});let t=e;return t})(),Vo=class{parse(e){let n=new og(e);return new di(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${No(e.root,!0)}`,i=Zx(e.queryParams),r=typeof e.fragment=="string"?`#${Qx(e.fragment)}`:"";return`${n}${i}${r}`}},Yx=new Vo;function cu(t){return t.segments.map(e=>YI(e)).join("/")}function No(t,e){if(!t.hasChildren())return cu(t);if(e){let n=t.children[H]?No(t.children[H],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==H&&i.push(`${r}:${No(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Kx(t,(i,r)=>r===H?[No(t.children[H],!1)]:[`${r}:${No(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${cu(t)}/${n[0]}`:`${cu(t)}/(${n.join("//")})`}}function KI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(t){return KI(t).replace(/%3B/gi,";")}function Qx(t){return encodeURI(t)}function sg(t){return KI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lu(t){return decodeURIComponent(t)}function FI(t){return lu(t.replace(/\+/g,"%20"))}function YI(t){return`${sg(t.path)}${Jx(t.parameters)}`}function Jx(t){return Object.entries(t).map(([e,n])=>`;${sg(e)}=${sg(n)}`).join("")}function Zx(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${su(n)}=${su(r)}`).join("&"):`${su(n)}=${su(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Xx=/^[^\/()?;#]+/;function Xp(t){let e=t.match(Xx);return e?e[0]:""}var eP=/^[^\/()?;=#]+/;function tP(t){let e=t.match(eP);return e?e[0]:""}var nP=/^[^=?&#]+/;function iP(t){let e=t.match(nP);return e?e[0]:""}var rP=/^[^&#]+/;function sP(t){let e=t.match(rP);return e?e[0]:""}var og=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[H]=new oe(e,n)),i}parseSegment(){let e=Xp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Zi(lu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tP(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Xp(this.remaining);r&&(i=r,this.capture(i))}e[lu(n)]=lu(i)}parseQueryParam(e){let n=iP(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=sP(this.remaining);o&&(i=o,this.capture(i))}let r=FI(n),s=FI(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Xp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new x(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function QI(t){return t.segments.length>0?new oe([],{[H]:t}):t}function JI(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=JI(r);if(i===H&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new oe(t.segments,e);return oP(n)}function oP(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new oe(t.segments.concat(e.segments),e.children)}return t}function ds(t){return t instanceof di}function aP(t,e,n=null,i=null){let r=ZI(t);return XI(r,e,n,i)}function ZI(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new oe(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=QI(i);return e??r}function XI(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return eg(r,r,r,n,i);let s=cP(e);if(s.toRoot())return eg(r,r,new oe([],{}),n,i);let o=lP(s,r,t),a=o.processChildren?ko(o.segmentGroup,o.index,s.commands):tb(o.segmentGroup,o.index,s.commands);return eg(r,o.segmentGroup,a,n,i)}function uu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Bo(t){return typeof t=="object"&&t!=null&&t.outlets}function eg(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=eb(t,e,n);let a=QI(JI(o));return new di(a,s,r)}function eb(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=eb(s,e,n)}),new oe(t.segments,i)}var du=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&uu(i[0]))throw new x(4003,!1);let r=i.find(Bo);if(r&&r!==i.at(-1))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new du(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new du(n,e,i)}var cs=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function lP(t,e,n){if(t.isAbsolute)return new cs(e,!0,0);if(!n)return new cs(e,!1,NaN);if(n.parent===null)return new cs(n,!0,0);let i=uu(t.commands[0])?0:1,r=n.segments.length-1+i;return uP(n,r,t.numberOfDoubleDots)}function uP(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new x(4005,!1);r=i.segments.length}return new cs(i,!1,r-s)}function dP(t){return Bo(t[0])?t[0].outlets:{[H]:t}}function tb(t,e,n){if(t||(t=new oe([],{})),t.segments.length===0&&t.hasChildren())return ko(t,e,n);let i=hP(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new oe(t.segments.slice(0,i.pathIndex),{});return s.children[H]=new oe(t.segments.slice(i.pathIndex),t.children),ko(s,0,r)}else return i.match&&r.length===0?new oe(t.segments,{}):i.match&&!t.hasChildren()?ag(t,e,n):i.match?ko(t,0,r):ag(t,e,n)}function ko(t,e,n){if(n.length===0)return new oe(t.segments,{});{let i=dP(n),r={};if(Object.keys(i).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=ko(t.children[H],e,n);return new oe(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=tb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new oe(t.segments,r)}}function hP(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Bo(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!VI(c,l,o))return s;i+=2}else{if(!VI(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ag(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Bo(s)){let c=fP(s.outlets);return new oe(i,c)}if(r===0&&uu(n[0])){let c=t.segments[e];i.push(new Zi(c.path,LI(n[0]))),r++;continue}let o=Bo(s)?s.outlets[H]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&uu(a)?(i.push(new Zi(o,LI(a))),r+=2):(i.push(new Zi(o,{})),r++)}return new oe(i,{})}function fP(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=ag(new oe([],{}),0,i))}),e}function LI(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function VI(t,e,n){return t==n.path&&tn(e,n.parameters)}var Fo="imperative",At=class{constructor(e,n){this.id=e,this.url=n}},hs=class extends At{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lt=class extends At{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hi=class extends At{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends At{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}},Uo=class extends At{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hu=class extends At{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends At{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends At{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ug=class extends At{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends At{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fg=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pg=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fu=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jo=class{},$o=class{constructor(e){this.url=e}};var yg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yo,this.attachRef=null}},Yo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new yg,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vg(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=vg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=wg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return wg(e,this._root).map(n=>n.value)}};function vg(t,e){if(t===e.value)return e;for(let n of e.children){let i=vg(t,n);if(i)return i}return null}function wg(t,e){if(t===e.value)return[e];for(let n of e.children){let i=wg(t,n);if(i.length)return i.unshift(e),i}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function as(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gu=class extends pu{constructor(e,n){super(e),this.snapshot=n,Mg(this,e)}toString(){return this.snapshot.toString()}};function nb(t){let e=pP(t),n=new Be([new Zi("",{})]),i=new Be({}),r=new Be({}),s=new Be({}),o=new Be(""),a=new nn(n,i,s,o,r,H,t,e.root);return a.snapshot=e.root,new gu(new wt(a,[]),e)}function pP(t){let e={},n={},i={},r="",s=new Ho([],e,i,r,n,H,t,null,{});return new mu("",new wt(s,[]))}var nn=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(l=>l[Wo]))??N(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($(e=>us(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($(e=>us(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rg(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),r?.data),t._resolvedData)}:i={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},r&&rb(r)&&(i.resolve[Wo]=r.title),i}var Ho=class{get title(){return this.data?.[Wo]}constructor(e,n,i,r,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=us(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mu=class extends pu{constructor(e,n){super(n),this.url=e,Mg(this,n)}toString(){return ib(this._root)}};function Mg(t,e){e.value._routerState=t,e.children.forEach(n=>Mg(t,n))}function ib(t){let e=t.children.length>0?` { ${t.children.map(ib).join(", ")} } `:"";return`${t.value}${e}`}function tg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tn(e.params,n.params)||t.paramsSubject.next(n.params),Hx(e.url,n.url)||t.urlSubject.next(n.url),tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Eg(t,e){let n=tn(t.params,e.params)&&Wx(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Eg(t.parent,e.parent))}function rb(t){return typeof t.title=="string"||t.title===null}var Og=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=w(Yo),this.location=w(Rn),this.changeDetector=w(An),this.environmentInjector=w(qe),this.inputBinder=w(wu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Ig(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=dt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sn]});let t=e;return t})(),Ig=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===nn?this.route:e===Yo?this.childContexts:this.parent.get(e,n)}},wu=new R(""),BI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=io([r.queryParams,r.params,r.data]).pipe(ut(([o,a,c],l)=>(c=S(S(S({},o),a),c),l===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=iI(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function gP(t,e,n){let i=Go(t,e._root,n?n._root:void 0);return new gu(i,e)}function Go(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=mP(t,e,n);return new wt(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Go(t,a)),o}}let i=_P(e.value),r=e.children.map(s=>Go(t,s));return new wt(i,r)}}function mP(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Go(t,i,r);return Go(t,i)})}function _P(t){return new nn(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var sb="ngNavigationCancelingError";function ob(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ab(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function ab(t,e,n){let i=new Error("NavigationCancelingError: "+(t||""));return i[sb]=!0,i.cancellationCode=e,n&&(i.url=n),i}function yP(t){return cb(t)&&ds(t.url)}function cb(t){return t&&t[sb]}var vP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=mt({type:e,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,s){r&1&&me(0,"router-outlet")},dependencies:[Og],encapsulation:2});let t=e;return t})();function wP(t,e){return t.providers&&!t._injector&&(t._injector=$l(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ng(t){let e=t.children&&t.children.map(Ng),n=e?ce(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=vP),n}function rn(t){return t.outlet||H}function EP(t,e){let n=t.filter(i=>rn(i)===e);return n.push(...t.filter(i=>rn(i)!==e)),n}function Qo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var IP=(t,e,n,i)=>$(r=>(new bg(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),bg=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),tg(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=as(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=as(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=as(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=as(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new _g(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gg(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(tg(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Qo(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},_u=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ls=class{constructor(e,n){this.component=e,this.route=n}};function bP(t,e,n){let i=t._root,r=e?e._root:null;return xo(i,r,n,[i.value])}function DP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ps(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!rw(t)?t:e.get(t):i}function xo(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=as(e);return t.children.forEach(o=>{CP(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Lo(a,n.getContext(o),r)),r}function CP(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=TP(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new _u(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xo(t,e,a?a.children:null,i,r):xo(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ls(a.outlet.component,o))}else o&&Lo(e,a,r),r.canActivateChecks.push(new _u(i)),s.component?xo(t,null,a?a.children:null,i,r):xo(t,null,n,i,r);return r}function TP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eg(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Eg(t,e)}}function Lo(t,e,n){let i=as(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Lo(o,e.children.getContext(s),n):Lo(o,null,n):Lo(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ls(e.outlet.component,r)):n.canDeactivateChecks.push(new ls(null,r)):n.canDeactivateChecks.push(new ls(null,r))}function Jo(t){return typeof t=="function"}function SP(t){return typeof t=="boolean"}function AP(t){return t&&Jo(t.canLoad)}function RP(t){return t&&Jo(t.canActivate)}function MP(t){return t&&Jo(t.canActivateChild)}function OP(t){return t&&Jo(t.canDeactivate)}function NP(t){return t&&Jo(t.canMatch)}function lb(t){return t instanceof wn||t?.name==="EmptyError"}var ou=Symbol("INITIAL_VALUE");function fs(){return ut(t=>io(t.map(e=>e.pipe(In(1),xh(ou)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===ou)return ou;if(n===!1||n instanceof di)return n}return!0}),lt(e=>e!==ou),In(1)))}function xP(t,e){return Ce(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(ce(S({},n),{guardsResult:!0})):PP(o,i,r,t).pipe(Ce(a=>a&&SP(a)?kP(i,s,t,e):N(a)),$(a=>ce(S({},n),{guardsResult:a})))})}function PP(t,e,n,i){return he(t).pipe(Ce(r=>UP(r.component,r.route,n,e,i)),$t(r=>r!==!0,!0))}function kP(t,e,n,i){return he(e).pipe(En(r=>xr(LP(r.route.parent,i),FP(r.route,i),BP(t,r.path,n),VP(t,r.route,n))),$t(r=>r!==!0,!0))}function FP(t,e){return t!==null&&e&&e(new mg(t)),N(!0)}function LP(t,e){return t!==null&&e&&e(new pg(t)),N(!0)}function VP(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return N(!0);let r=i.map(s=>Bc(()=>{let o=Qo(e)??n,a=ps(s,o),c=RP(a)?a.canActivate(e,t):Zt(o,()=>a(e,t));return gi(c).pipe($t())}));return N(r).pipe(fs())}function BP(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>DP(o)).filter(o=>o!==null).map(o=>Bc(()=>{let a=o.guards.map(c=>{let l=Qo(o.node)??n,u=ps(c,l),d=MP(u)?u.canActivateChild(i,t):Zt(l,()=>u(i,t));return gi(d).pipe($t())});return N(a).pipe(fs())}));return N(s).pipe(fs())}function UP(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=Qo(e)??r,l=ps(a,c),u=OP(l)?l.canDeactivate(t,e,n,i):Zt(c,()=>l(t,e,n,i));return gi(u).pipe($t())});return N(o).pipe(fs())}function jP(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return N(!0);let s=r.map(o=>{let a=ps(o,t),c=AP(a)?a.canLoad(e,n):Zt(t,()=>a(e,n));return gi(c)});return N(s).pipe(fs(),ub(i))}function ub(t){return Eh(Ie(e=>{if(ds(e))throw ob(t,e)}),$(e=>e===!0))}function $P(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return N(!0);let s=r.map(o=>{let a=ps(o,t),c=NP(a)?a.canMatch(e,n):Zt(t,()=>a(e,n));return gi(c)});return N(s).pipe(fs(),ub(i))}var zo=class{constructor(e){this.segmentGroup=e||null}},yu=class extends Error{constructor(e){super(),this.urlTree=e}};function os(t){return Nr(new zo(t))}function HP(t){return Nr(new x(4e3,!1))}function GP(t){return Nr(ab(!1,3))}var Dg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return N(i);if(r.numberOfChildren>1||!r.children[H])return HP(e.redirectTo);r=r.children[H]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new yu(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new di(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new oe(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new x(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zP(t,e,n,i,r){let s=xg(t,e,n);return s.matched?(i=wP(e,i),$P(i,e,n,r).pipe($(o=>o===!0?s:S({},Cg)))):N(s)}function xg(t,e,n){if(e.path==="**")return qP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Cg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||$x)(n,t,e);if(!r)return S({},Cg);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?S(S({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function qP(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function UI(t,e,n,i){return n.length>0&&YP(t,n,i)?{segmentGroup:new oe(e,KP(i,new oe(n,t.children))),slicedSegments:[]}:n.length===0&&QP(t,n,i)?{segmentGroup:new oe(t.segments,WP(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new oe(t.segments,t.children),slicedSegments:n}}function WP(t,e,n,i){let r={};for(let s of n)if(Eu(t,e,s)&&!i[rn(s)]){let o=new oe([],{});r[rn(s)]=o}return S(S({},i),r)}function KP(t,e){let n={};n[H]=e;for(let i of t)if(i.path===""&&rn(i)!==H){let r=new oe([],{});n[rn(i)]=r}return n}function YP(t,e,n){return n.some(i=>Eu(t,e,i)&&rn(i)!==H)}function QP(t,e,n){return n.some(i=>Eu(t,e,i))}function Eu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JP(t,e,n,i){return rn(t)!==i&&(i===H||!Eu(e,n,t))?!1:xg(e,t,n).matched}function ZP(t,e,n){return e.length===0&&!t.children[n]}var Tg=class{};function XP(t,e,n,i,r,s,o="emptyOnly"){return new Sg(t,e,n,i,r,o,s).recognize()}var ek=31,Sg=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Dg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=UI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let i=new Ho([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),r=new wt(i,n),s=new mu("",r),o=aP(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,H).pipe(Qn(i=>{if(i instanceof yu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof zo?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Rg(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe($(s=>s instanceof wt?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return he(r).pipe(En(s=>{let o=i.children[s],a=EP(n,s);return this.processSegmentGroup(e,a,o,s)}),Nh((s,o)=>(s.push(...o),s)),Jn(null),Oh(),Ce(s=>{if(s===null)return os(i);let o=db(s);return tk(o),N(o)}))}processSegment(e,n,i,r,s,o){return he(n).pipe(En(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(Qn(c=>{if(c instanceof zo)return N(null);throw c}))),$t(a=>!!a),Qn(a=>{if(lb(a))return ZP(i,r,s)?N(new Tg):os(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return JP(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):os(r):os(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=xg(n,r,s);if(!a)return os(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ek&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ce(h=>this.processSegment(e,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=zP(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(ut(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ut(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Ho(u,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,ik(i),rn(i),i.component??i._loadedComponent??null,i,rk(i)),{segmentGroup:g,slicedSegments:T}=UI(n,u,d,c);if(T.length===0&&g.hasChildren())return this.processChildren(l,c,g).pipe($(b=>b===null?null:new wt(f,b)));if(c.length===0&&T.length===0)return N(new wt(f,[]));let y=rn(i)===s;return this.processSegment(l,c,g,T,y?H:s,!0).pipe($(b=>new wt(f,b instanceof wt?[b]:[])))}))):os(n)))}getChildConfig(e,n,i){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):jP(e,n,i,this.urlSerializer).pipe(Ce(r=>r?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):GP(n))):N({routes:[],injector:e})}};function tk(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function nk(t){let e=t.value.routeConfig;return e&&e.path===""}function db(t){let e=[],n=new Set;for(let i of t){if(!nk(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=db(i.children);e.push(new wt(i.value,r))}return e.filter(i=>!n.has(i))}function ik(t){return t.data||{}}function rk(t){return t.resolve||{}}function sk(t,e,n,i,r,s){return Ce(o=>XP(t,e,n,i,o.extractedUrl,r,s).pipe($(({state:a,tree:c})=>ce(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function ok(t,e){return Ce(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return N(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of hb(c))o.add(l);let a=0;return he(o).pipe(En(c=>s.has(c)?ak(c,i,t,e):(c.data=Rg(c,c.parent,t).resolve,N(void 0))),Ie(()=>a++),Pr(1),Ce(c=>a===o.size?N(n):bt))})}function hb(t){let e=t.children.map(n=>hb(n)).flat();return[t,...e]}function ak(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!rb(r)&&(s[Wo]=r.title),ck(s,t,e,i).pipe($(o=>(t._resolvedData=o,t.data=Rg(t,t.parent,n).resolve,null)))}function ck(t,e,n,i){let r=rg(t);if(r.length===0)return N({});let s={};return he(r).pipe(Ce(o=>lk(t[o],e,n,i).pipe($t(),Ie(a=>{s[o]=a}))),Pr(1),Mh(s),Qn(o=>lb(o)?bt:Nr(o)))}function lk(t,e,n,i){let r=Qo(e)??i,s=ps(t,r),o=s.resolve?s.resolve(e,n):Zt(r,()=>s(e,n));return gi(o)}function ng(t){return ut(e=>{let n=t(e);return n?he(n).pipe($(()=>e)):N(e)})}var fb=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(i){return i.data[Wo]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>w(uk))(),providedIn:"root"});let t=e;return t})(),uk=(()=>{let e=class e extends fb{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(A(Zp))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zo=new R("",{providedIn:"root",factory:()=>({})}),qo=new R("ROUTES"),Pg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(ql)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return N(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=gi(i.loadComponent()).pipe($(pb),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Zn(()=>{this.componentLoaders.delete(i)})),s=new Ar(r,()=>new at).pipe(Sr());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dk(r,this.compiler,i,this.onLoadEndListener).pipe(Zn(()=>{this.childrenLoaders.delete(r)})),a=new Ar(o,()=>new at).pipe(Sr());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dk(t,e,n,i){return gi(t.loadChildren()).pipe($(pb),Ce(r=>r instanceof go||Array.isArray(r)?N(r):he(e.compileModuleAsync(r))),$(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(qo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ng),injector:s}}))}function hk(t){return t&&typeof t=="object"&&"default"in t}function pb(t){return hk(t)?t.default:t}var kg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>w(fk))(),providedIn:"root"});let t=e;return t})(),fk=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gb=new R(""),mb=new R("");function pk(t,e,n){let i=t.get(mb),r=t.get(He);return t.get(te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),gk(t))),{onViewTransitionCreated:c}=i;return c&&Zt(t,()=>c({transition:a,from:e,to:n})),o})}function gk(t){return new Promise(e=>{bp(e,{injector:t})})}var Fg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=w(Pg),this.environmentInjector=w(qe),this.urlSerializer=w(Ko),this.rootContexts=w(Yo),this.location=w(rs),this.inputBindingEnabled=w(wu,{optional:!0})!==null,this.titleStrategy=w(fb),this.options=w(Zo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(kg),this.createViewTransition=w(gb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let i=s=>this.events.next(new hg(s)),r=s=>this.events.next(new fg(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ce(S(S({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Be({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(o=>o.id!==0),$(o=>ce(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ut(o=>{this.currentTransition=o;let a=!1,c=!1;return N(o).pipe(Ie(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ce(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ut(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),bt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return N(l).pipe(ut(h=>{let f=this.transitions?.getValue();return this.events.next(new hs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?bt:Promise.resolve(h)}),sk(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new hu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:T,extras:y}=l,b=new hs(h,this.urlSerializer.serialize(f),g,T);this.events.next(b);let z=nb(this.rootComponentType).snapshot;return this.currentTransition=o=ce(S({},l),{targetSnapshot:z,urlAfterRedirects:f,extras:ce(S({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,N(o)}else{let h="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),bt}}),Ie(l=>{let u=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),$(l=>(this.currentTransition=o=ce(S({},l),{guards:bP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),xP(this.environmentInjector,l=>this.events.next(l)),Ie(l=>{if(o.guardsResult=l.guardsResult,ds(l.guardsResult))throw ob(this.urlSerializer,l.guardsResult);let u=new lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),lt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),ng(l=>{if(l.guards.canActivateChecks.length)return N(l).pipe(Ie(u=>{let d=new ug(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ut(u=>{let d=!1;return N(u).pipe(ok(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Ie(u=>{let d=new dg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ng(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...u(f));return h};return io(u(l.targetSnapshot.root)).pipe(Jn(null),In(1))}),ng(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?he(d).pipe($(()=>o)):N(o)}),$(l=>{let u=gP(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ce(S({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ie(()=>{this.events.next(new jo)}),IP(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),In(1),Ie({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ph(this.transitionAbortSubject.pipe(Ie(l=>{throw l}))),Zn(()=>{if(!a&&!c){let l="";this.cancelNavigationTransition(o,l,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Qn(l=>{if(c=!0,cb(l))this.events.next(new hi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),yP(l)?this.events.next(new $o(l.url)):o.resolve(!1);else{this.events.next(new Uo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(l))}catch(u){o.reject(u)}}return bt}))}))}cancelNavigationTransition(i,r,s){let o=new hi(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mk(t){return t!==Fo}var _k=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>w(yk))(),providedIn:"root"});let t=e;return t})(),Ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},yk=(()=>{let e=class e extends Ag{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Xr(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_b=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>(()=>w(vk))(),providedIn:"root"});let t=e;return t})(),vk=(()=>{let e=class e extends _b{constructor(){super(...arguments),this.location=w(rs),this.urlSerializer=w(Ko),this.options=w(Zo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(kg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new di,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof hs)this.stateMemento=this.createStateMemento();else if(i instanceof fi)this.rawUrlTree=r.initialUrl;else if(i instanceof hu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof jo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof hi&&(i.code===3||i.code===2)?this.restoreHistory(r):i instanceof Uo?this.restoreHistory(r,!0):i instanceof Lt&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=S(S({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Xr(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Po||{});function yb(t,e){t.events.pipe(lt(n=>n instanceof Lt||n instanceof hi||n instanceof Uo||n instanceof fi),$(n=>n instanceof Lt||n instanceof fi?Po.COMPLETE:(n instanceof hi?n.code===0||n.code===1:!1)?Po.REDIRECTING:Po.FAILED),lt(n=>n!==Po.REDIRECTING),In(1)).subscribe(()=>{e()})}function wk(t){throw t}var Ek={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ik={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_e=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(zl),this.stateManager=w(_b),this.options=w(Zo,{optional:!0})||{},this.pendingTasks=w(Ki),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(Fg),this.urlSerializer=w(Ko),this.location=w(rs),this.urlHandlingStrategy=w(kg),this._events=new at,this.errorHandler=this.options.errorHandler||wk,this.navigated=!1,this.routeReuseStrategy=w(_k),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(qo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(wu,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=w(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hi&&r.code!==0&&r.code!==1)this.navigated=!0;else if(r instanceof Lt)this.navigated=!0;else if(r instanceof $o){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||mk(s.source)};this.scheduleNavigation(a,Fo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Dk(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)}))}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=S({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=ZI(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return XI(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ds(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Fo,null,r)}navigate(i,r={skipLocationChange:!1}){return bk(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=S({},Ek):r===!1?s=S({},Ik):s=r,ds(i))return kI(this.currentUrlTree,i,s);let o=this.parseUrl(i);return kI(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return yb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function Dk(t){return!(t instanceof jo)&&!(t instanceof $o)}var pi=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Lt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let i=this.href===null?null:vE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(P(_e),P(nn),Sl("tabindex"),P(li),P(yt),P(Nn))},e.\u0275dir=dt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&ke("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Eo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Qi],skipLocationChange:["skipLocationChange","skipLocationChange",Qi],replaceUrl:["replaceUrl","replaceUrl",Qi],routerLink:"routerLink"},standalone:!0,features:[Tp,Sn]});let t=e;return t})(),gs=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ge,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof Lt&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(Yn()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=he(i).pipe(Yn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=Ck(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?i.isActive(s.urlTree,r):!1}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(P(_e),P(yt),P(li),P(An),P(pi,8))},e.\u0275dir=dt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Ap(o,pi,5),r&2){let a;Sp(a=Rp())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Sn]});let t=e;return t})();function Ck(t){return!!t.paths}var vu=class{};var Tk=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(lt(i=>i instanceof Lt),En(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$l(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return he(s).pipe(Yn())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=N(null);let o=s.pipe(Ce(a=>a===null?N(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return he([o,a]).pipe(Yn())}else return o})}};e.\u0275fac=function(r){return new(r||e)(A(_e),A(ql),A(qe),A(vu),A(Pg))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vb=new R(""),Sk=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof hs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Lt?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof fi&&i.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof fu&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fu(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){RE()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function wb(t,...e){return es([{provide:qo,multi:!0,useValue:t},[],{provide:nn,useFactory:Eb,deps:[_e]},{provide:Do,multi:!0,useFactory:Ib},e.map(n=>n.\u0275providers)])}function Eb(t){return t.routerState.root}function Xo(t,e){return{\u0275kind:t,\u0275providers:e}}function Ib(){let t=w(je);return e=>{let n=t.get(Yi);if(e!==n.components[0])return;let i=t.get(_e),r=t.get(bb);t.get(Lg)===1&&i.initialNavigation(),t.get(Db,null,q.Optional)?.setUpPreloading(),t.get(vb,null,q.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var bb=new R("",{factory:()=>new at}),Lg=new R("",{providedIn:"root",factory:()=>1});function Ak(){return Xo(2,[{provide:Lg,useValue:0},{provide:Wl,multi:!0,deps:[je],useFactory:e=>{let n=e.get(lI,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(_e),s=e.get(bb);yb(r,()=>{i(!0)}),e.get(Fg).afterPreactivation=()=>(i(!0),s.closed?N(void 0):s),r.initialNavigation()}))}}])}function Rk(){return Xo(3,[{provide:Wl,multi:!0,useFactory:()=>{let e=w(_e);return()=>{e.setUpLocationChangeListener()}}},{provide:Lg,useValue:2}])}var Db=new R("");function Mk(t){return Xo(0,[{provide:Db,useExisting:Tk},{provide:vu,useExisting:t}])}function Vg(){return Xo(8,[BI,{provide:wu,useExisting:BI}])}function Ok(t){let e=[{provide:gb,useValue:pk},{provide:mb,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return Xo(9,e)}var jI=new R("ROUTER_FORROOT_GUARD"),Nk=[rs,{provide:Ko,useClass:Vo},_e,Yo,{provide:nn,useFactory:Eb,deps:[_e]},Pg,[]],mi=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Nk,[],{provide:qo,multi:!0,useValue:i},{provide:jI,useFactory:Fk,deps:[[_e,new Ke,new np]]},{provide:Zo,useValue:r||{}},r?.useHash?Pk():kk(),xk(),r?.preloadingStrategy?Mk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Lk(r):[],r?.bindToComponentInputs?Vg().\u0275providers:[],r?.enableViewTransitions?Ok().\u0275providers:[],Vk()]}}static forChild(i){return{ngModule:e,providers:[{provide:qo,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(A(jI,8))},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({});let t=e;return t})();function xk(){return{provide:vb,useFactory:()=>{let t=w(pI),e=w(te),n=w(Zo),i=w(Fg),r=w(Ko);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Sk(r,i,t,e,n)}}}function Pk(){return{provide:Nn,useClass:dI}}function kk(){return{provide:Nn,useClass:Lp}}function Fk(t){return"guarded"}function Lk(t){return[t.initialNavigation==="disabled"?Rk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Ak().\u0275providers:[]]}var $I=new R("");function Vk(){return[{provide:$I,useFactory:Ib},{provide:Do,multi:!0,useExisting:$I}]}var Tb=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Bk=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||d==null)throw new Ug;let h=s<<2|a>>4;if(i.push(h),l!==64){let f=a<<4&240|l>>2;if(i.push(f),d!==64){let g=l<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Uk=function(t){let e=Tb(t);return Sb.encodeByteArray(e,!0)},ea=function(t){return Uk(t).replace(/\./g,"")},$g=function(t){try{return Sb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $k=()=>jk().__FIREBASE_DEFAULTS__,Hk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$g(t[1]);return e&&JSON.parse(e)},bu=()=>{try{return $k()||Hk()||Gk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hg=t=>{var e,n;return(n=(e=bu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ab=t=>{let e=Hg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Gg=()=>{var t;return(t=bu())===null||t===void 0?void 0:t.config},zg=t=>{var e;return(e=bu())===null||e===void 0?void 0:e[`_${t}`]};var Iu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Rb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ea(JSON.stringify(n)),ea(JSON.stringify(o)),a].join(".")}function ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function zk(){var t;let e=(t=bu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ob(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xb(){let t=ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pb(){return!zk()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Du(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var qk="FirebaseError",Et=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=qk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Wk(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Et(r,a,i)}};function Wk(t,e){return t.replace(Kk,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Kk=/\{\$([^}]+)}/g;function Fb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function er(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Cb(s)&&Cb(o)){if(!er(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Cb(t){return t!==null&&typeof t=="object"}function _s(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Lb(t,e){let n=new jg(t,e);return n.subscribe.bind(n)}var jg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Yk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Bg),r.error===void 0&&(r.error=Bg),r.complete===void 0&&(r.complete=Bg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Yk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}var iW=4*60*60*1e3;function kn(t){return t&&t._delegate?t._delegate:t}var Rt=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var tr="[DEFAULT]";var qg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Iu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jk(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Qk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Qk(t){return t===tr?void 0:t}function Jk(t){return t.instantiationMode==="EAGER"}var Cu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Zk=[],J=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(J||{}),Xk={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},eF=J.INFO,tF={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},nF=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=tF[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_i=class{constructor(e){this.name=e,this._logLevel=eF,this._logHandler=nF,this._userLogHandler=null,Zk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}};var iF=(t,e)=>e.some(n=>t instanceof n),Vb,Bb;function rF(){return Vb||(Vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sF(){return Bb||(Bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ub=new WeakMap,Kg=new WeakMap,jb=new WeakMap,Wg=new WeakMap,Qg=new WeakMap;function oF(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sn(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ub.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function aF(t){if(Kg.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kg.set(t,e)}var Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $b(t){Yg=t(Yg)}function cF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Tu(this),e,...n);return jb.set(i,e.sort?e.sort():[e]),sn(i)}:sF().includes(t)?function(...e){return t.apply(Tu(this),e),sn(Ub.get(this))}:function(...e){return sn(t.apply(Tu(this),e))}}function lF(t){return typeof t=="function"?cF(t):(t instanceof IDBTransaction&&aF(t),iF(t,rF())?new Proxy(t,Yg):t)}function sn(t){if(t instanceof IDBRequest)return oF(t);if(Wg.has(t))return Wg.get(t);let e=lF(t);return e!==t&&(Wg.set(t,e),Qg.set(e,t)),e}var Tu=t=>Qg.get(t);function Gb(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=sn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(sn(o.result),c.oldVersion,c.newVersion,sn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var uF=["get","getKey","getAll","getAllKeys","count"],dF=["put","add","delete","clear"],Jg=new Map;function Hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=dF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||uF.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Jg.set(e,s),s}$b(t=>ce(S({},t),{get:(e,n,i)=>Hb(e,n)||t.get(e,n,i),has:(e,n)=>!!Hb(e,n)||t.has(e,n)}));var Xg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hF(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function hF(t){let e=t.getComponent();return e?.type==="VERSION"}var em="@firebase/app",zb="0.9.26";var nr=new _i("@firebase/app"),fF="@firebase/app-compat",pF="@firebase/analytics-compat",gF="@firebase/analytics",mF="@firebase/app-check-compat",_F="@firebase/app-check",yF="@firebase/auth",vF="@firebase/auth-compat",wF="@firebase/database",EF="@firebase/database-compat",IF="@firebase/functions",bF="@firebase/functions-compat",DF="@firebase/installations",CF="@firebase/installations-compat",TF="@firebase/messaging",SF="@firebase/messaging-compat",AF="@firebase/performance",RF="@firebase/performance-compat",MF="@firebase/remote-config",OF="@firebase/remote-config-compat",NF="@firebase/storage",xF="@firebase/storage-compat",PF="@firebase/firestore",kF="@firebase/firestore-compat",FF="firebase",LF="10.7.2";var tm="[DEFAULT]",VF={[em]:"fire-core",[fF]:"fire-core-compat",[gF]:"fire-analytics",[pF]:"fire-analytics-compat",[_F]:"fire-app-check",[mF]:"fire-app-check-compat",[yF]:"fire-auth",[vF]:"fire-auth-compat",[wF]:"fire-rtdb",[EF]:"fire-rtdb-compat",[IF]:"fire-fn",[bF]:"fire-fn-compat",[DF]:"fire-iid",[CF]:"fire-iid-compat",[TF]:"fire-fcm",[SF]:"fire-fcm-compat",[AF]:"fire-perf",[RF]:"fire-perf-compat",[MF]:"fire-rc",[OF]:"fire-rc-compat",[NF]:"fire-gcs",[xF]:"fire-gcs-compat",[PF]:"fire-fst",[kF]:"fire-fst-compat","fire-js":"fire-js",[FF]:"fire-js-all"};var ta=new Map,nm=new Map;function BF(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vi(t){let e=t.name;if(nm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,t);for(let n of ta.values())BF(n,t);return!0}function ia(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var UF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yi=new Pn("app","Firebase",UF);var im=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}};var wi=LF;function om(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:tm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw yi.create("bad-app-name",{appName:String(r)});if(n||(n=Gg()),!n)throw yi.create("no-options");let s=ta.get(r);if(s){if(er(n,s.options)&&er(i,s.config))return s;throw yi.create("duplicate-app",{appName:r})}let o=new Cu(r);for(let c of nm.values())o.addComponent(c);let a=new im(n,i,o);return ta.set(r,a),a}function ys(t=tm){let e=ta.get(t);if(!e&&t===tm&&Gg())return om();if(!e)throw yi.create("no-app",{appName:t});return e}function Su(){return Array.from(ta.values())}function xe(t,e,n){var i;let r=(i=VF[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}vi(new Rt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var jF="firebase-heartbeat-database",$F=1,na="firebase-heartbeat-store",Zg=null;function Yb(){return Zg||(Zg=Gb(jF,$F,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(na)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Zg}function HF(t){return p(this,null,function*(){try{return yield(yield Yb()).transaction(na).objectStore(na).get(Qb(t))}catch(e){if(e instanceof Et)nr.warn(e.message);else{let n=yi.create("idb-get",{originalErrorMessage:e?.message});nr.warn(n.message)}}})}function qb(t,e){return p(this,null,function*(){try{let i=(yield Yb()).transaction(na,"readwrite");yield i.objectStore(na).put(e,Qb(t)),yield i.done}catch(n){if(n instanceof Et)nr.warn(n.message);else{let i=yi.create("idb-set",{originalErrorMessage:n?.message});nr.warn(i.message)}}})}function Qb(t){return`${t.name}!${t.options.appId}`}var GF=1024,zF=30*24*60*60*1e3,rm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sm(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=zF}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Wb(),{heartbeatsToSend:i,unsentEntries:r}=qF(this._heartbeatsCache.heartbeats),s=ea(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Wb(){return new Date().toISOString().substring(0,10)}function qF(t,e=GF){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Kb(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Kb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var sm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Du()?kb().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield HF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Kb(t){return ea(JSON.stringify({version:2,heartbeats:t})).length}function WF(t){vi(new Rt("platform-logger",e=>new Xg(e),"PRIVATE")),vi(new Rt("heartbeat",e=>new rm(e),"PRIVATE")),xe(em,zb,t),xe(em,zb,"esm2017"),xe("fire-js","")}WF("");var KF="firebase",YF="10.7.2";xe(KF,YF,"app");var rr=new Dn("ANGULARFIRE2_VERSION");function Ru(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ra=(t,e)=>{let n=e?[e]:Su(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},ws=class{constructor(){return ra(QF)}},QF="app-check";function vs(){}var Au=class{zone;delegate;constructor(e,n=Sh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},am=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vs,{},vs,vs)),n.pipe(Ie({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Es=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Au(Zone.current)),this.insideAngular=n.run(()=>new Au(Zone.current,Th)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(A(te))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function JF(t){return Mu().ngZone.runOutsideAngular(()=>t())}function ir(t){return Mu().ngZone.run(()=>t())}function ZF(t){return XF(Mu())(t)}function XF(t){return function(n){return n=n.lift(new am(t.ngZone)),n.pipe(Kn(t.outsideAngular),Wn(t.insideAngular))}}var eL=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ir(()=>t.apply(void 0,i))},Fn=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=ir(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vs,{},vs,vs))),i[s]=eL(i[s],n));let r=JF(()=>t.apply(this,i));if(!e)if(r instanceof Y){let s=Mu();return r.pipe(Kn(s.outsideAngular),Wn(s.insideAngular))}else return ir(()=>r);return r instanceof Y?r.pipe(ZF):r instanceof Promise?ir(()=>new Promise((s,o)=>r.then(a=>ir(()=>s(a)),a=>ir(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:ir(()=>r)};var Ln=class{constructor(e){return e}},sr=class{constructor(){return Su()}};function tL(t){return t&&t.length===1?t[0]:new Ln(ys())}var cm=new R("angularfire2._apps"),nL={provide:Ln,useFactory:tL,deps:[[new Ke,cm]]},iL={provide:sr,deps:[[new Ke,cm]]};function rL(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ln(i)}}var sL=(()=>{class t{constructor(n){xe("angularfire",rr.full,"core"),xe("angularfire",rr.full,"app"),xe("angular",ZE.full,n.toString())}static \u0275fac=function(i){return new(i||t)(A(_t))};static \u0275mod=Ne({type:t});static \u0275inj=Oe({providers:[nL,iL]})}return t})();function Jb(t,...e){return{ngModule:sL,providers:[{provide:cm,useFactory:rL(t),multi:!0,deps:[te,je,Es,...e]}]}}var Zb=Fn(om,!0);function hD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fD=hD,pD=new Pn("auth","Firebase",hD());var Fu=new _i("@firebase/auth");function oL(t,...e){Fu.logLevel<=J.WARN&&Fu.warn(`Auth (${wi}): ${t}`,...e)}function Nu(t,...e){Fu.logLevel<=J.ERROR&&Fu.error(`Auth (${wi}): ${t}`,...e)}function cn(t,...e){throw Cm(t,...e)}function on(t,...e){return Cm(t,...e)}function gD(t,e,n){let i=Object.assign(Object.assign({},fD()),{[e]:n});return new Pn("auth","Firebase",i).create(e,{appName:t.name})}function aL(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&cn(t,"argument-error"),gD(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cm(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pD.create(t,...e)}function V(t,e,...n){if(!t)throw Cm(e,...n)}function Vn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Un(t,e){t||Vn(e)}function dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cL(){return Xb()==="http:"||Xb()==="https:"}function Xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cL()||Ob()||"connection"in navigator)?navigator.onLine:!0}function uL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var or=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Un(n>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||Nb()}get(){return lL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Tm(t,e){Un(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Lu=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hL=new or(3e4,6e4);function Sm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bs(s,o,a,c){return p(this,arguments,function*(t,e,n,i,r={}){return mD(t,r,()=>p(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let d=_s(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Lu.fetch()(_D(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function mD(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},dL),e);try{let r=new hm(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ou(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ou(t,"user-disabled",o);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gD(t,u,l);cn(t,u)}}catch(r){if(r instanceof Et)throw r;cn(t,"network-request-failed",{message:String(r)})}})}function fL(s,o,a,c){return p(this,arguments,function*(t,e,n,i,r={}){let l=yield bs(t,e,n,i,r);return"mfaPendingCredential"in l&&cn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function _D(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Tm(t.config,r):`${t.config.apiScheme}://${r}`}var hm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(on(this.auth,"network-request-failed")),hL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ou(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=on(t,e,i);return r.customData._tokenResponse=n,r}function pL(t,e){return p(this,null,function*(){return bs(t,"POST","/v1/accounts:delete",e)})}function gL(t,e){return p(this,null,function*(){return bs(t,"POST","/v1/accounts:lookup",e)})}function sa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Am(t,e=!1){return p(this,null,function*(){let n=kn(t),i=yield n.getIdToken(e),r=Rm(i);V(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:sa(lm(r.auth_time)),issuedAtTime:sa(lm(r.iat)),expirationTime:sa(lm(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lm(t){return Number(t)*1e3}function Rm(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{let r=$g(n);return r?JSON.parse(r):(Nu("Failed to decode base64 JWT payload"),null)}catch(r){return Nu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function mL(t){let e=Rm(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function oa(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Et&&_L(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function _L({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Vu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bu(t){return p(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield oa(t,gL(n,{idToken:i}));V(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vL(s.providerUserInfo):[],a=yL(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vu(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Mm(t){return p(this,null,function*(){let e=kn(t);yield Bu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function vL(t){return t.map(e=>{var{providerId:n}=e,i=Cc(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function wL(t,e){return p(this,null,function*(){let n=yield mD(t,{},()=>p(this,null,function*(){let i=_s({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=_D(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lu.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function EL(t,e){return p(this,null,function*(){return bs(t,"POST","/v2/accounts:revokeToken",Sm(t,e))})}var Uu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield wL(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(V(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(V(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vn("not implemented")}};function Ei(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var aa=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Cc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield oa(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Am(this,e)}reload(){return Mm(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Bu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield oa(this,pL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:re,emailVerified:B,isAnonymous:fe,providerData:se,stsTokenManager:et}=n;V(re&&et,e,"internal-error");let Gn=Uu.fromJSON(this.name,et);V(typeof re=="string",e,"internal-error"),Ei(d,e.name),Ei(h,e.name),V(typeof B=="boolean",e,"internal-error"),V(typeof fe=="boolean",e,"internal-error"),Ei(f,e.name),Ei(g,e.name),Ei(T,e.name),Ei(y,e.name),Ei(b,e.name),Ei(z,e.name);let Ai=new t({uid:re,auth:e,email:h,emailVerified:B,displayName:d,isAnonymous:fe,photoURL:g,phoneNumber:f,tenantId:T,stsTokenManager:Gn,createdAt:b,lastLoginAt:z});return se&&Array.isArray(se)&&(Ai.providerData=se.map(pc=>Object.assign({},pc))),y&&(Ai._redirectEventId=y),Ai}static _fromIdTokenResponse(e,n,i=!1){return p(this,null,function*(){let r=new Uu;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Bu(s),s})}};var eD=new Map;function Bn(t){Un(t instanceof Function,"Expected a class definition");let e=eD.get(t);return e?(Un(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eD.set(t,e),e)}var IL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,i){return p(this,null,function*(){this.storage[n]=i})}_get(n){return p(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),pm=IL;function xu(t,e,n){return`firebase:${t}:${e}:${n}`}var ju=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=xu(this.userKey,r.apiKey,s),this.fullPersistenceKey=xu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?aa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return p(this,null,function*(){if(!n.length)return new t(Bn(pm),e,i);let r=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||Bn(pm),o=xu(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=aa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function tD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ID(e))return"Blackberry";if(bD(e))return"Webos";if(Om(e))return"Safari";if((e.includes("chrome/")||vD(e))&&!e.includes("edge/"))return"Chrome";if(ED(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function yD(t=ye()){return/firefox\//i.test(t)}function Om(t=ye()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vD(t=ye()){return/crios\//i.test(t)}function wD(t=ye()){return/iemobile/i.test(t)}function ED(t=ye()){return/android/i.test(t)}function ID(t=ye()){return/blackberry/i.test(t)}function bD(t=ye()){return/webos/i.test(t)}function Ku(t=ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bL(t=ye()){var e;return Ku(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DL(){return xb()&&document.documentMode===10}function DD(t=ye()){return Ku(t)||ED(t)||bD(t)||ID(t)||/windows phone/i.test(t)||wD(t)}function CL(){try{return!!(window&&window!==window.top)}catch{return!1}}function CD(t,e=[]){let n;switch(t){case"Browser":n=tD(ye());break;case"Worker":n=`${tD(ye())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wi}/${i}`}var gm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function TL(n){return p(this,arguments,function*(t,e={}){return bs(t,"GET","/v2/passwordPolicy",Sm(t,e))})}var SL=6,mm=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var _m=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $u(this),this.idTokenSubscription=new $u(this),this.beforeStateQueue=new gm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield ju.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Bu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uL()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?kn(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield TL(this),n=new mm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield EL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Bn(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=yield ju.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&oL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Yu(t){return kn(t)}var $u=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lb(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function AL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function RL(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=on("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",AL().appendChild(i)})}function TD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Nm(t,e){let n=ia(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(er(s,e??{}))return r;cn(r,"already-initialized")}return n.initialize({options:e})}function ML(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function xm(t,e,n){let i=Yu(t);V(i._canInitEmulator,i,"emulator-config-failed"),V(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=SD(e),{host:o,port:a}=OL(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||NL()}function SD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OL(t){let e=SD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:nD(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:nD(o)}}}function nD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function NL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ca=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}};function Is(t,e){return p(this,null,function*(){return fL(t,"POST","/v1/accounts:signInWithIdp",Sm(t,e))})}var xL="http://localhost",la=class t extends ca{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Cc(n,["providerId","signInMethod"]);if(!i||!r)return null;let o=new t(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Is(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,Is(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Is(e,n)}buildRequest(){let e={requestUri:xL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_s(n)}return e}};var ua=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var da=class extends ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var pa=(()=>{class t extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return la._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),ga=(()=>{class t extends da{constructor(){super("github.com")}static credential(n){return la._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})();var ha=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return p(this,null,function*(){let s=yield aa._fromIdTokenResponse(e,i,r),o=iD(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return p(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=iD(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function iD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ym=class t extends Et{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function AD(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ym._fromErrorAndOperation(t,s,e,i):s})}function PL(t,e,n=!1){return p(this,null,function*(){let i=yield oa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ha._forOperation(t,"link",i)})}function kL(t,e,n=!1){return p(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let s=yield oa(t,AD(i,r,e,t),n);V(s.idToken,i,"internal-error");let o=Rm(s.idToken);V(o,i,"internal-error");let{sub:a}=o;return V(t.uid===a,i,"user-mismatch"),ha._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&cn(i,"user-mismatch"),s}})}function FL(t,e,n=!1){return p(this,null,function*(){let i="signIn",r=yield AD(t,i,e),s=yield ha._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Pm(t,e,n,i){return kn(t).onIdTokenChanged(e,n,i)}function km(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}var Hu="__sak";var Gu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function LL(){let t=ye();return Om(t)||Ku(t)}var VL=1e3,BL=10,UL=(()=>{class t extends Gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LL()&&CL(),this.fallbackToPolling=DD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);DL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,BL):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return p(this,null,function*(){yield zn(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return p(this,null,function*(){let i=yield zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return p(this,null,function*(){yield zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),RD=UL;var jL=(()=>{class t extends Gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Fm=jL;function $L(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var HL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(u=>p(this,null,function*(){return u(i.origin,o)})),l=yield $L(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Lm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var vm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return p(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=Lm("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function an(){return window}function GL(t){an().location.href=t}function MD(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}function zL(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function qL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WL(){return MD()?self:null}var OD="firebaseLocalStorageDb",KL=1,zu="firebaseLocalStorage",ND="fbase_key",ar=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Qu(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function YL(){let t=indexedDB.deleteDatabase(OD);return new ar(t).toPromise()}function wm(){let t=indexedDB.open(OD,KL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(zu,{keyPath:ND})}catch(r){n(r)}}),t.addEventListener("success",()=>p(this,null,function*(){let i=t.result;i.objectStoreNames.contains(zu)?e(i):(i.close(),yield YL(),e(yield wm()))}))})}function rD(t,e,n){return p(this,null,function*(){let i=Qu(t,!0).put({[ND]:e,value:n});return new ar(i).toPromise()})}function QL(t,e){return p(this,null,function*(){let n=Qu(t,!1).get(e),i=yield new ar(n).toPromise();return i===void 0?null:i.value})}function sD(t,e){let n=Qu(t,!0).delete(e);return new ar(n).toPromise()}var JL=800,ZL=3,XL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield wm(),this.db)})}_withRetries(n){return p(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>ZL)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return MD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=HL._getInstance(WL()),this.receiver._subscribe("keyChanged",(n,i)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,i;if(this.activeServiceWorker=yield zL(),!this.activeServiceWorker)return;this.sender=new vm(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||qL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield wm();return yield rD(n,Hu,"1"),yield sD(n,Hu),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>rD(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let i=yield this._withRetries(r=>QL(r,n));return this.localCache[n]=i,i})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>sD(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=Qu(s,!1).getAll();return new ar(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),xD=XL;var YW=TD("rcb"),QW=new or(3e4,6e4);function PD(t,e){return e?Bn(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var fa=class extends ca{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Is(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function eV(t){return FL(t.auth,new fa(t),t.bypassAuthState)}function tV(t){let{auth:e,user:n}=t;return V(n,e,"internal-error"),kL(n,new fa(t),t.bypassAuthState)}function nV(t){return p(this,null,function*(){let{auth:e,user:n}=t;return V(n,e,"internal-error"),PL(n,new fa(t),t.bypassAuthState)})}var qu=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eV;case"linkViaPopup":case"linkViaRedirect":return nV;case"reauthViaPopup":case"reauthViaRedirect":return tV;default:cn(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var iV=new or(2e3,1e4);function Vm(t,e,n){return p(this,null,function*(){let i=Yu(t);aL(t,e,ua);let r=PD(i,n);return new rV(i,"signInViaPopup",e,r).executeNotNull()})}var rV=(()=>{class t extends qu{constructor(n,i,r,s,o){super(n,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return V(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){Un(this.filter.length===1,"Popup operations only handle one event");let n=Lm();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,iV.get())};n()}}t.currentPopupAction=null;return t})(),sV="pendingRedirect",Pu=new Map,Em=class t extends qu{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return p(this,null,function*(){let e=Pu.get(this.auth._key());if(!e){try{let i=(yield oV(this.resolver,this.auth))?yield zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function oV(t,e){return p(this,null,function*(){let n=lV(e),i=cV(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function aV(t,e){Pu.set(t._key(),e)}function cV(t){return Bn(t._redirectPersistence)}function lV(t){return xu(sV,t.config.apiKey,t.name)}function uV(t,e,n=!1){return p(this,null,function*(){let i=Yu(t),r=PD(i,e),o=yield new Em(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var dV=10*60*1e3,Im=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!kD(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(on(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dV&&this.cachedEventUids.clear(),this.cachedEventUids.has(oD(e))}saveEventToCache(e){this.cachedEventUids.add(oD(e)),this.lastProcessedEventTime=Date.now()}};function oD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kD(t);default:return!1}}function fV(n){return p(this,arguments,function*(t,e={}){return bs(t,"GET","/v1/projects",e)})}var pV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gV=/^https?/;function mV(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield fV(t);for(let n of e)try{if(_V(n))return}catch{}cn(t,"unauthorized-domain")})}function _V(t){let e=dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!gV.test(n))return!1;if(pV.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var yV=new or(3e4,6e4);function aD(){let t=an().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vV(t){return new Promise((e,n)=>{var i,r,s;function o(){aD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aD(),n(on(t,"network-request-failed"))},timeout:yV.get()})}if(!((r=(i=an().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=an().gapi)===null||s===void 0)&&s.load)o();else{let a=TD("iframefcb");return an()[a]=()=>{gapi.load?o():n(on(t,"network-request-failed"))},RL(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ku=null,e})}var ku=null;function wV(t){return ku=ku||vV(t),ku}var EV=new or(5e3,15e3),IV="__/auth/iframe",bV="emulator/auth/iframe",DV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TV(t){let e=t.config;V(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Tm(e,bV):`https://${t.config.authDomain}/${IV}`,i={apiKey:e.apiKey,appName:t.name,v:wi},r=CV.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${_s(i).slice(1)}`}function SV(t){return p(this,null,function*(){let e=yield wV(t),n=an().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:TV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DV,dontclear:!0},i=>new Promise((r,s)=>p(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=on(t,"network-request-failed"),a=an().setTimeout(()=>{s(o)},EV.get());function c(){an().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var AV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RV=500,MV=600,OV="_blank",NV="http://localhost",Wu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function xV(t,e,n,i=RV,r=MV){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},AV),{width:i.toString(),height:r.toString(),top:s,left:o}),l=ye().toLowerCase();n&&(a=vD(l)?OV:n),yD(l)&&(e=e||NV,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(bL(l)&&a!=="_self")return PV(e||"",a),new Wu(null);let d=window.open(e||"",a,u);V(d,t,"popup-blocked");try{d.focus()}catch{}return new Wu(d)}function PV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var kV="__/auth/handler",FV="emulator/auth/handler",LV=encodeURIComponent("fac");function cD(t,e,n,i,r,s){return p(this,null,function*(){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wi,eventId:r};if(e instanceof ua){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof da){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${LV}=${encodeURIComponent(c)}`:"";return`${VV(t)}?${_s(a).slice(1)}${l}`})}function VV({config:t}){return t.emulator?Tm(t,FV):`https://${t.authDomain}/${kV}`}var um="webStorageSupport",bm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fm,this._completeRedirectFn=uV,this._overrideRedirectResult=aV}_openPopup(e,n,i,r){return p(this,null,function*(){var s;Un((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield cD(e,n,i,dm(),r);return xV(e,o,Lm())})}_openRedirect(e,n,i,r){return p(this,null,function*(){yield this._originValidation(e);let s=yield cD(e,n,i,dm(),r);return GL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Un(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return p(this,null,function*(){let n=yield SV(e),i=new Im(e);return n.register("authEvent",r=>(V(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[um];o!==void 0&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DD()||Om()||Ku()}},FD=bm;var lD="@firebase/auth",uD="1.5.1";var Dm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UV(t){vi(new Rt("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CD(t)},l=new _m(i,r,s,c);return ML(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),vi(new Rt("auth-internal",e=>{let n=Yu(e.getProvider("auth").getImmediate());return(i=>new Dm(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(lD,uD,BV(t)),xe(lD,uD,"esm2017")}var jV=5*60,$V=zg("authIdTokenMaxAge")||jV,dD=null,HV=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$V)return;let r=n?.token;dD!==r&&(dD=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bm(t=ys()){let e=ia(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Nm(t,{popupRedirectResolver:FD,persistence:[xD,RD,Fm]}),i=zg("authTokenSyncURL");if(i){let s=HV(i);km(n,s,()=>s(n.currentUser)),Pm(n,o=>s(o))}let r=Hg("auth");return r&&xm(n,`http://${r}`),n}UV("Browser");var LD="auth",ma=class{constructor(e){return e}},_a=class{constructor(){return ra(LD)}};var Um=new R("angularfire2.auth-instances");function F2(t,e){let n=Ru(LD,t,e);return n&&new ma(n)}function L2(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ma(i)}}var V2={provide:_a,deps:[[new Ke,Um]]},B2={provide:ma,useFactory:F2,deps:[[new Ke,Um],Ln]},U2=(()=>{class t{constructor(){xe("angularfire",rr.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Oe({providers:[B2,V2]})}return t})();function VD(t,...e){return{ngModule:U2,providers:[{provide:Um,useFactory:L2(t),multi:!0,deps:[te,je,Es,sr,[new Ke,ws],...e]}]}}var ya=Fn(Bm,!0);var jm=Fn(Vm,!0);var j2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bt={},I,l_=l_||{},L=j2||self;function ud(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Na(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $2(t){return Object.prototype.hasOwnProperty.call(t,$m)&&t[$m]||(t[$m]=++H2)}var $m="closure_uid_"+(1e9*Math.random()>>>0),H2=0;function G2(t,e,n){return t.call.apply(t.bind,arguments)}function z2(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Qe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qe=G2:Qe=z2,Qe.apply(null,arguments)}function Ju(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Le(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Ii(){this.s=this.s,this.o=this.o}var q2=0;Ii.prototype.s=!1;Ii.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),q2!=0)&&$2(this)};Ii.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var JD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function u_(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function BD(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(ud(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function Je(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var W2=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function Da(t){return/^[\s\xa0]*$/.test(t)}function dd(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function ln(t){return dd().indexOf(t)!=-1}function d_(t){return d_[" "](t),t}d_[" "]=function(){};function K2(t,e){var n=FB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Y2=ln("Opera"),Ss=ln("Trident")||ln("MSIE"),ZD=ln("Edge"),Wm=ZD||Ss,XD=ln("Gecko")&&!(dd().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge"))&&!(ln("Trident")||ln("MSIE"))&&!ln("Edge"),Q2=dd().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge");function eC(){var t=L.document;return t?t.documentMode:void 0}var Km;e:{if(Zu="",Xu=function(){var t=dd();if(XD)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZD)return/Edge\/([\d\.]+)/.exec(t);if(Ss)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Q2)return/WebKit\/(\S+)/.exec(t);if(Y2)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Xu&&(Zu=Xu?Xu[1]:""),Ss&&(ed=eC(),ed!=null&&ed>parseFloat(Zu))){Km=String(ed);break e}Km=Zu}var Zu,Xu,ed,Ym;L.document&&Ss?(Hm=eC(),Ym=Hm||parseInt(Km,10)||void 0):Ym=void 0;var Hm,J2=Ym;function Ca(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XD){e:{try{d_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Z2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ca.$.h.call(this)}}Le(Ca,Je);var Z2={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),X2=0;function eB(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++X2,this.fa=this.ia=!1}function hd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function h_(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function tB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function tC(t){let e={};for(let n in t)e[n]=t[n];return e}var UD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nC(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<UD.length;s++)n=UD[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function fd(t){this.src=t,this.g={},this.h=0}fd.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jm(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new eB(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Qm(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=JD(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(hd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jm(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var f_="closure_lm_"+(1e6*Math.random()|0),Gm={};function iC(t,e,n,i,r){if(i&&i.once)return sC(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iC(t,e[s],n,i,r);return null}return n=m_(n),t&&t[xa]?t.O(e,n,Na(i)?!!i.capture:!!i,r):rC(t,e,n,!1,i,r)}function rC(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Na(r)?!!r.capture:!!r,a=g_(t);if(a||(t[f_]=a=new fd(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=nB(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)W2||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(aC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nB(){function t(n){return e.call(t.src,t.listener,n)}let e=iB;return t}function sC(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sC(t,e[s],n,i,r);return null}return n=m_(n),t&&t[xa]?t.P(e,n,Na(i)?!!i.capture:!!i,r):rC(t,e,n,!0,i,r)}function oC(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)oC(t,e[s],n,i,r);else i=Na(i)?!!i.capture:!!i,n=m_(n),t&&t[xa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jm(s,n,i,r),-1<n&&(hd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=g_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jm(e,n,i,r)),(n=-1<t?e[t]:null)&&p_(n))}function p_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xa])Qm(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(aC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=g_(e))?(Qm(n,t),n.h==0&&(n.src=null,e[f_]=null)):hd(t)}}}function aC(t){return t in Gm?Gm[t]:Gm[t]="on"+t}function iB(t,e){if(t.fa)t=!0;else{e=new Ca(e,this);var n=t.listener,i=t.la||t.src;t.ia&&p_(t),t=n.call(i,e)}return t}function g_(t){return t=t[f_],t instanceof fd?t:null}var zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function m_(t){return typeof t=="function"?t:(t[zm]||(t[zm]=function(e){return t.handleEvent(e)}),t[zm])}function Fe(){Ii.call(this),this.i=new fd(this),this.S=this,this.J=null}Le(Fe,Ii);Fe.prototype[xa]=!0;Fe.prototype.removeEventListener=function(t,e,n,i){oC(this,t,e,n,i)};function ze(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Je(e,t);else if(e instanceof Je)e.target=e.target||t;else{var r=e;e=new Je(i,t),nC(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=td(o,i,!0,e)&&r}if(o=e.g=t,r=td(o,i,!0,e)&&r,r=td(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=td(o,i,!1,e)&&r}Fe.prototype.N=function(){if(Fe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)hd(n[i]);delete t.g[e],t.h--}}this.J=null};Fe.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Fe.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function td(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Qm(t.i,o),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var __=L.JSON.stringify,Zm=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function rB(){var t=y_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Xm=class{constructor(){this.h=this.g=null}add(e,n){let i=cC.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},cC=new Zm(()=>new e_,t=>t.reset()),e_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function sB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oB(t){L.setTimeout(()=>{throw t},0)}var Ta,Sa=!1,y_=new Xm,lC=()=>{let t=L.Promise.resolve(void 0);Ta=()=>{t.then(aB)}},aB=()=>{for(var t;t=rB();){try{t.h.call(t.g)}catch(n){oB(n)}var e=cC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sa=!1};function pd(t,e){Fe.call(this),this.h=t||1,this.g=e||L,this.j=Qe(this.qb,this),this.l=Date.now()}Le(pd,Fe);I=pd.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ze(this,"tick"),this.ga&&(v_(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function v_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){pd.$.N.call(this),v_(this),delete this.g};function w_(t,e,n){if(typeof t=="function")n&&(t=Qe(t,n));else if(t&&typeof t.handleEvent=="function")t=Qe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function uC(t){t.g=w_(()=>{t.g=null,t.i&&(t.i=!1,uC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var t_=class extends Ii{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uC(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Aa(t){Ii.call(this),this.h=t,this.g={}}Le(Aa,Ii);var jD=[];function dC(t,e,n,i){Array.isArray(n)||(n&&(jD[0]=n.toString()),n=jD);for(var r=0;r<n.length;r++){var s=iC(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function hC(t){h_(t.g,function(e,n){this.g.hasOwnProperty(n)&&p_(e)},t),t.g={}}Aa.prototype.N=function(){Aa.$.N.call(this),hC(this)};Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gd(){this.g=!0}gd.prototype.Ea=function(){this.g=!1};function cB(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function lB(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Cs(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dB(t,n)+(i?" "+i:"")})}function uB(t,e){t.info(function(){return"TIMEOUT: "+e})}gd.prototype.info=function(){};function dB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return __(n)}catch{return e}}var dr={},$D=null;function md(){return $D=$D||new Fe}dr.Ta="serverreachability";function fC(t){Je.call(this,dr.Ta,t)}Le(fC,Je);function Ra(t){let e=md();ze(e,new fC(e))}dr.STAT_EVENT="statevent";function pC(t,e){Je.call(this,dr.STAT_EVENT,t),this.stat=e}Le(pC,Je);function st(t){let e=md();ze(e,new pC(e,t))}dr.Ua="timingevent";function gC(t,e){Je.call(this,dr.Ua,t),this.size=e}Le(gC,Je);function Pa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var _d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function E_(){}E_.prototype.h=null;function HD(t){return t.h||(t.h=t.i())}function _C(){}var ka={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function I_(){Je.call(this,"d")}Le(I_,Je);function b_(){Je.call(this,"c")}Le(b_,Je);var n_;function yd(){}Le(yd,E_);yd.prototype.g=function(){return new XMLHttpRequest};yd.prototype.i=function(){return{}};n_=new yd;function Fa(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Aa(this),this.P=hB,t=Wm?125:void 0,this.V=new pd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yC}function yC(){this.i=null,this.g="",this.h=!1}var hB=45e3,vC={},i_={};I=Fa.prototype;I.setTimeout=function(t){this.P=t};function r_(t,e,n){t.L=1,t.A=wd($n(e)),t.u=n,t.S=!0,wC(t,null)}function wC(t,e){t.G=Date.now(),La(t),t.B=$n(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),AC(n.i,"t",i),t.o=0,n=t.l.J,t.h=new yC,t.g=YC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new t_(Qe(t.Pa,t,t.g),t.O)),dC(t.U,t.g,"readystatechange",t.nb),e=t.I?tC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ra(),cB(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&un(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let u=un(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||Wm||this.g&&(this.h.h||this.g.ja()||WD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Ra(3):Ra(2)),vd(this);var n=this.g.da();this.ca=n;t:if(EC(this)){var i=WD(this.g);t="";var r=i.length,s=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),ba(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,lB(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Da(a)){var l=a;break t}}l=null}if(n=l)Cs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,s_(this,n);else{this.i=!1,this.s=3,st(12),cr(this),ba(this);break e}}this.S?(IC(this,u,o),Wm&&this.i&&u==3&&(dC(this.U,this.V,"tick",this.mb),this.V.start())):(Cs(this.j,this.m,o,null),s_(this,o)),u==4&&cr(this),this.i&&!this.J&&(u==4?zC(this.l,this):(this.i=!1,La(this)))}else xB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),cr(this),ba(this)}}}catch{}finally{}};function EC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function IC(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=fB(t,n),r==i_){e==4&&(t.s=4,st(14),i=!1),Cs(t.j,t.m,null,"[Incomplete Response]");break}else if(r==vC){t.s=4,st(15),Cs(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Cs(t.j,t.m,r,null),s_(t,r);EC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,st(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),R_(e),e.M=!0,st(11))):(Cs(t.j,t.m,n,"[Invalid Chunked Response]"),cr(t),ba(t))}I.mb=function(){if(this.g){var t=un(this.g),e=this.g.ja();this.o<e.length&&(vd(this),IC(this,t,e),this.i&&t!=4&&La(this))}};function fB(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?i_:(n=Number(e.substring(n,i)),isNaN(n)?vC:(i+=1,i+n>e.length?i_:(e=e.slice(i,i+n),t.o=i+n,e)))}I.cancel=function(){this.J=!0,cr(this)};function La(t){t.Y=Date.now()+t.P,bC(t,t.P)}function bC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Pa(Qe(t.lb,t),e)}function vd(t){t.C&&(L.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(uB(this.j,this.B),this.L!=2&&(Ra(),st(17)),cr(this),this.s=2,ba(this)):bC(this,this.Y-t)};function ba(t){t.l.H==0||t.J||zC(t.l,t)}function cr(t){vd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,v_(t.V),hC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function s_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||o_(n.i,t))){if(!t.K&&o_(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)od(n),bd(n);else break e;A_(n),st(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pa(Qe(n.ib,n),6e3));if(1>=OC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lr(n,11)}else if((t.K||n.g==t)&&od(n),!Da(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=i.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(D_(s,s.h),s.h=null))}if(i.F){let T=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(i.Da=T,pe(i.I,i.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=KC(i,i.J?i.pa:null,i.Y),o.K){NC(i.i,o);var a=o,c=i.L;c&&a.setTimeout(c),a.C&&(vd(a),La(a)),i.g=o}else HC(i);0<n.j.length&&Dd(n)}else l[0]!="stop"&&l[0]!="close"||lr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?lr(n,7):S_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ra(4)}catch{}}function pB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ud(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function gB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ud(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function DC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ud(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gB(t),i=pB(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var CC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ur(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ur){this.h=t.h,rd(this,t.j),this.s=t.s,this.g=t.g,sd(this,t.m),this.l=t.l;var e=t.i,n=new Ma;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),GD(this,n),this.o=t.o}else t&&(e=String(t).match(CC))?(this.h=!1,rd(this,e[1]||"",!0),this.s=Ea(e[2]||""),this.g=Ea(e[3]||"",!0),sd(this,e[4]),this.l=Ea(e[5]||"",!0),GD(this,e[6]||"",!0),this.o=Ea(e[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}ur.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ia(e,zD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ia(e,zD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ia(n,n.charAt(0)=="/"?vB:yB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ia(n,EB)),t.join("")};function $n(t){return new ur(t)}function rd(t,e,n){t.j=n?Ea(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function GD(t,e,n){e instanceof Ma?(t.i=e,IB(t.i,t.h)):(n||(e=Ia(e,wB)),t.i=new Ma(e,t.h))}function pe(t,e,n){t.i.set(e,n)}function wd(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ea(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ia(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_B),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _B(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zD=/[#\/\?@]/g,yB=/[#\?:]/g,vB=/[#\?]/g,wB=/[#\?@]/g,EB=/#/g;function Ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bi(t){t.g||(t.g=new Map,t.h=0,t.i&&mB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=Ma.prototype;I.add=function(t,e){bi(this),this.i=null,t=As(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TC(t,e){bi(t),e=As(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SC(t,e){return bi(t),e=As(t,e),t.g.has(e)}I.forEach=function(t,e){bi(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};I.ta=function(){bi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};I.Z=function(t){bi(this);let e=[];if(typeof t=="string")SC(this,t)&&(e=e.concat(this.g.get(As(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return bi(this),this.i=null,t=As(this,t),SC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function AC(t,e,n){TC(t,e),0<n.length&&(t.i=null,t.g.set(As(t,e),u_(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function As(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IB(t,e){e&&!t.j&&(bi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(TC(this,i),AC(this,r,n))},t)),t.j=e}var bB=class{constructor(t,e){this.g=t,this.map=e}};function RC(t){this.l=t||DB,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DB=10;function MC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function OC(t){return t.h?1:t.g?t.g.size:0}function o_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function D_(t,e){t.g?t.g.add(e):t.h=e}function NC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RC.prototype.cancel=function(){if(this.i=xC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function xC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return u_(t.i)}var CB=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function TB(){this.g=new CB}function SB(t,e,n){let i=n||"";try{DC(t,function(r,s){let o=r;Na(r)&&(o=__(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function AB(t,e){let n=new gd;if(L.Image){let i=new Image;i.onload=Ju(nd,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ju(nd,n,i,"TestLoadImage: error",!1,e),i.onabort=Ju(nd,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ju(nd,n,i,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function nd(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Va(t){this.l=t.ec||null,this.j=t.ob||!1}Le(Va,E_);Va.prototype.g=function(){return new Ed(this.l,this.j)};Va.prototype.i=function(t){return function(){return t}}({});function Ed(t,e){Fe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=C_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Le(Ed,Fe);var C_=0;I=Ed.prototype;I.open=function(t,e){if(this.readyState!=C_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=C_};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function PC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ba(this):Oa(this),this.readyState==3&&PC(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,Ba(this))};I.Ya=function(t){this.g&&(this.response=t,Ba(this))};I.ka=function(){this.g&&Ba(this)};function Ba(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ed.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RB=L.JSON.parse;function ve(t){Fe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kC,this.L=this.M=!1}Le(ve,Fe);var kC="",MB=/^https?$/i,OB=["POST","PUT"];I=ve.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():n_.g(),this.C=this.u?HD(this.u):HD(n_),this.g.onreadystatechange=Qe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){qD(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=L.FormData&&t instanceof L.FormData,!(0<=JD(OB,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{VC(this),0<this.B&&((this.L=NB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qe(this.ua,this)):this.A=w_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qD(this,s)}};function NB(t){return Ss&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof l_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))};function qD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,FC(t),Id(t)}function FC(t){t.F||(t.F=!0,ze(t,"complete"),ze(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ze(this,"complete"),ze(this,"abort"),Id(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Id(this,!0)),ve.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?LC(this):this.kb())};I.kb=function(){LC(this)};function LC(t){if(t.h&&typeof l_<"u"&&(!t.C[1]||un(t)!=4||t.da()!=2)){if(t.v&&un(t)==4)w_(t.La,0,t);else if(ze(t,"readystatechange"),un(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(CC)[1]||null;!r&&L.self&&L.self.location&&(r=L.self.location.protocol.slice(0,-1)),i=!MB.test(r?r.toLowerCase():"")}n=i}if(n)ze(t,"complete"),ze(t,"success");else{t.m=6;try{var s=2<un(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",FC(t)}}finally{Id(t)}}}}function Id(t,e){if(t.g){VC(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ze(t,"ready");try{n.onreadystatechange=i}catch{}}}function VC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function un(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RB(e)}};function WD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case kC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xB(t){let e={};t=(t.g&&2<=un(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Da(t[i]))continue;var n=sB(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}tB(e,function(i){return i.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function BC(t){let e="";return h_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function T_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=BC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pe(t,e,n))}function va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UC(t){this.Ga=0,this.j=[],this.l=new gd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=va("baseRetryDelayMs",5e3,t),this.hb=va("retryDelaySeedMs",1e4,t),this.eb=va("forwardChannelMaxRetries",2,t),this.xa=va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RC(t&&t.concurrentRequestLimit),this.Ja=new TB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=UC.prototype;I.ra=8;I.H=1;function S_(t){if(jC(t),t.H==3){var e=t.W++,n=$n(t.I);if(pe(n,"SID",t.K),pe(n,"RID",e),pe(n,"TYPE","terminate"),Ua(t,n),e=new Fa(t,t.l,e),e.L=2,e.A=wd($n(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=YC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),La(e)}WC(t)}function bd(t){t.g&&(R_(t),t.g.cancel(),t.g=null)}function jC(t){bd(t),t.u&&(L.clearTimeout(t.u),t.u=null),od(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function Dd(t){if(!MC(t.i)&&!t.m){t.m=!0;var e=t.Na;Ta||lC(),Sa||(Ta(),Sa=!0),y_.add(e,t),t.C=0}}function PB(t,e){return OC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Pa(Qe(t.Na,t,e),qC(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Fa(this,this.l,t),s=this.s;if(this.U&&(s?(s=tC(s),nC(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$C(this,r,e),n=$n(this.I),pe(n,"RID",t),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),Ua(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(BC(s)))+"&"+e:this.o&&T_(n,this.o,s)),D_(this.i,r),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",e),pe(n,"SID","null"),r.aa=!0,r_(r,n,null)):r_(r,n,e),this.H=2}}else this.H==3&&(t?KD(this,t):this.j.length==0||MC(this.i)||KD(this))};function KD(t,e){var n;e?n=e.m:n=t.W++;let i=$n(t.I);pe(i,"SID",t.K),pe(i,"RID",n),pe(i,"AID",t.V),Ua(t,i),t.o&&t.s&&T_(i,t.o,t.s),n=new Fa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=$C(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),D_(t.i,n),r_(n,i,e)}function Ua(t,e){t.na&&h_(t.na,function(n,i){pe(e,i,n)}),t.h&&DC({},function(n,i){pe(e,i,n)})}function $C(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Qe(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=s,0>l)s=Math.max(0,r[c].g-100),a=!1;else try{SB(u,o,"req"+l+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function HC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ta||lC(),Sa||(Ta(),Sa=!0),y_.add(e,t),t.A=0}}function A_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Pa(Qe(t.Ma,t),qC(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,GC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Pa(Qe(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,st(10),bd(this),GC(this))};function R_(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function GC(t){t.g=new Fa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$n(t.wa);pe(e,"RID","rpc"),pe(e,"SID",t.K),pe(e,"AID",t.V),pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pe(e,"TO",t.qa),pe(e,"TYPE","xmlhttp"),Ua(t,e),t.o&&t.s&&T_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wd($n(e)),n.u=null,n.S=!0,wC(n,t)}I.ib=function(){this.v!=null&&(this.v=null,bd(this),A_(this),st(19))};function od(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function zC(t,e){var n=null;if(t.g==e){od(t),R_(t),t.g=null;var i=2}else if(o_(t.i,e))n=e.F,NC(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=md(),ze(i,new gC(i,n)),Dd(t)}else HC(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&PB(t,e)||i==2&&A_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:lr(t,5);break;case 4:lr(t,10);break;case 3:lr(t,6);break;default:lr(t,2)}}}function qC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Qe(t.pb,t);n||(n=new ur("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||rd(n,"https"),wd(n)),AB(n.toString(),i)}else st(2);t.H=0,t.h&&t.h.za(e),WC(t),jC(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),st(2)):(this.l.info("Failed to ping google.com"),st(1))};function WC(t){if(t.H=0,t.ma=[],t.h){let e=xC(t.i);(e.length!=0||t.j.length!=0)&&(BD(t.ma,e),BD(t.ma,t.j),t.i.i.length=0,u_(t.j),t.j.length=0),t.h.ya()}}function KC(t,e,n){var i=n instanceof ur?$n(n):new ur(n);if(i.g!="")e&&(i.g=e+"."+i.g),sd(i,i.m);else{var r=L.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new ur(null);i&&rd(s,i),e&&(s.g=e),r&&sd(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&pe(i,n,e),pe(i,"VER",t.ra),Ua(t,i),i}function YC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ve(new Va({ob:n})):new ve(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function QC(){}I=QC.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function ad(){if(Ss&&!(10<=Number(J2)))throw Error("Environmental error: no available transport.")}ad.prototype.g=function(t,e){return new It(t,e)};function It(t,e){Fe.call(this),this.g=new UC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Da(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Da(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rs(this)}Le(It,Fe);It.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;st(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=KC(t,null,t.Y),Dd(t)};It.prototype.close=function(){S_(this.g)};It.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=__(t),t=n);e.j.push(new bB(e.fb++,t)),e.H==3&&Dd(e)};It.prototype.N=function(){this.g.h=null,delete this.j,S_(this.g),delete this.g,It.$.N.call(this)};function JC(t){I_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Le(JC,I_);function ZC(){b_.call(this),this.status=1}Le(ZC,b_);function Rs(t){this.g=t}Le(Rs,QC);Rs.prototype.Ba=function(){ze(this.g,"a")};Rs.prototype.Aa=function(t){ze(this.g,new JC(t))};Rs.prototype.za=function(t){ze(this.g,new ZC)};Rs.prototype.ya=function(){ze(this.g,"b")};function kB(){this.blockSize=-1}function Vt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Le(Vt,kB);Vt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function qm(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}Vt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)qm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){qm(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){qm(this,i),r=0;break}}this.h=r,this.i+=e};Vt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function le(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var FB={};function M_(t){return-128<=t&&128>t?K2(t,function(e){return new le([e|0],0>e?-1:0)}):new le([t|0],0>t?-1:0)}function dn(t){if(isNaN(t)||!isFinite(t))return Ts;if(0>t)return Ge(dn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=a_;return new le(e,0)}function XC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ge(XC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dn(Math.pow(e,8)),i=Ts,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=dn(Math.pow(e,s)),i=i.R(s).add(dn(o))):(i=i.R(n),i=i.add(dn(o)))}return i}var a_=4294967296,Ts=M_(0),c_=M_(1),YD=M_(16777216);I=le.prototype;I.ea=function(){if(Mt(this))return-Ge(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:a_+i)*e,e*=a_}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jn(this))return"0";if(Mt(this))return"-"+Ge(this).toString(t);for(var e=dn(Math.pow(t,6)),n=this,i="";;){var r=ld(n,e).g;n=cd(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,jn(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mt(t){return t.h==-1}I.X=function(t){return t=cd(this,t),Mt(t)?-1:jn(t)?0:1};function Ge(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new le(n,~t.h).add(c_)}I.abs=function(){return Mt(this)?Ge(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new le(n,n[n.length-1]&-2147483648?-1:0)};function cd(t,e){return t.add(Ge(e))}I.R=function(t){if(jn(this)||jn(t))return Ts;if(Mt(this))return Mt(t)?Ge(this).R(Ge(t)):Ge(Ge(this).R(t));if(Mt(t))return Ge(this.R(Ge(t)));if(0>this.X(YD)&&0>t.X(YD))return dn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=o*c,id(n,2*i+2*r),n[2*i+2*r+1]+=s*c,id(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,id(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,id(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new le(n,0)};function id(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wa(t,e){this.g=t,this.h=e}function ld(t,e){if(jn(e))throw Error("division by zero");if(jn(t))return new wa(Ts,Ts);if(Mt(t))return e=ld(Ge(t),e),new wa(Ge(e.g),Ge(e.h));if(Mt(e))return e=ld(t,Ge(e)),new wa(Ge(e.g),e.h);if(30<t.g.length){if(Mt(t)||Mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=c_,i=e;0>=i.X(t);)n=QD(n),i=QD(i);var r=Ds(n,1),s=Ds(i,1);for(i=Ds(i,2),n=Ds(n,2);!jn(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Ds(i,1),n=Ds(n,1)}return e=cd(t,r.R(e)),new wa(r,e)}for(r=Ts;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=dn(n),o=s.R(e);Mt(o)||0<o.X(t);)n-=i,s=dn(n),o=s.R(e);jn(s)&&(s=c_),r=r.add(s),t=cd(t,o)}return new wa(r,t)}I.gb=function(t){return ld(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new le(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new le(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new le(n,this.h^t.h)};function QD(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new le(n,t.h)}function Ds(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new le(r,t.h)}ad.prototype.createWebChannel=ad.prototype.g;It.prototype.send=It.prototype.u;It.prototype.open=It.prototype.m;It.prototype.close=It.prototype.close;_d.NO_ERROR=0;_d.TIMEOUT=8;_d.HTTP_ERROR=6;mC.COMPLETE="complete";_C.EventType=ka;ka.OPEN="a";ka.CLOSE="b";ka.ERROR="c";ka.MESSAGE="d";Fe.prototype.listen=Fe.prototype.O;ve.prototype.listenOnce=ve.prototype.P;ve.prototype.getLastError=ve.prototype.Sa;ve.prototype.getLastErrorCode=ve.prototype.Ia;ve.prototype.getStatus=ve.prototype.da;ve.prototype.getResponseJson=ve.prototype.Wa;ve.prototype.getResponseText=ve.prototype.ja;ve.prototype.send=ve.prototype.ha;ve.prototype.setWithCredentials=ve.prototype.Oa;Vt.prototype.digest=Vt.prototype.l;Vt.prototype.reset=Vt.prototype.reset;Vt.prototype.update=Vt.prototype.j;le.prototype.add=le.prototype.add;le.prototype.multiply=le.prototype.R;le.prototype.modulo=le.prototype.gb;le.prototype.compare=le.prototype.X;le.prototype.toNumber=le.prototype.ea;le.prototype.toString=le.prototype.toString;le.prototype.getBits=le.prototype.D;le.fromNumber=dn;le.fromString=XC;var eT=Bt.createWebChannelTransport=function(){return new ad},tT=Bt.getStatEventTarget=function(){return md()},Cd=Bt.ErrorCode=_d,nT=Bt.EventType=mC,iT=Bt.Event=dr,O_=Bt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},k8=Bt.FetchXmlHttpFactory=Va,ja=Bt.WebChannel=_C,rT=Bt.XhrIo=ve,sT=Bt.Md5=Vt,hr=Bt.Integer=le;var oT="@firebase/firestore";var Ve=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");var Zs="10.7.2";var yr=new _i("@firebase/firestore");function $a(){return yr.logLevel}function D(t,...e){if(yr.logLevel<=J.DEBUG){let n=e.map(gv);yr.debug(`Firestore (${Zs}): ${t}`,...n)}}function mn(t,...e){if(yr.logLevel<=J.ERROR){let n=e.map(gv);yr.error(`Firestore (${Zs}): ${t}`,...n)}}function Bs(t,...e){if(yr.logLevel<=J.WARN){let n=e.map(gv);yr.warn(`Firestore (${Zs}): ${t}`,...n)}}function gv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function j(t="Unexpected state"){let e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw mn(e),new Error(e)}function Re(t,e){t||j()}function ie(t,e){return t}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Rd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},L_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}},V_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},B_=class{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Re(typeof i.accessToken=="string"),new Rd(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Ve(e)}},U_=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},j_=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new U_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},H_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new $_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function LB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var G_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=LB(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function ae(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Ot=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var G=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ot(0,0))}static max(){return new t(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Md=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&j(),i===void 0?i=e.length-n:i>e.length-n&&j(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ae=class t extends Md{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new O(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},VB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ut=class t extends Md{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return VB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new O(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new O(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new O(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new O(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var k=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var z_=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};z_.UNKNOWN_ID=-1;function BB(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=G.fromTimestamp(i===1e9?new Ot(n+1,0):new Ot(n,i));return new vr(r,k.empty(),e)}function UB(t){return new vr(t.readTime,t.key,-1)}var vr=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(G.min(),k.empty(),-1)}static max(){return new t(G.max(),k.empty(),-1)}};function jB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=k.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var $B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",q_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function mv(t){return p(this,null,function*(){if(t.code!==E.FAILED_PRECONDITION||t.message!==$B)throw t;D("LocalStore","Unexpectedly lost primary lease")})}var m=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var W_=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _r(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=_v(i.target.error);this.V.reject(new _r(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new _r(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Y_(n)}},Od=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(ye())===12.2&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),fr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Du())return!1;if(t.C())return!0;let e=ye(),n=t.S(e),i=0<n&&n<10,r=t.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return p(this,null,function*(){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new _r(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new O(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new O(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new _r(e,o))},r.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,r.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=W_.open(this.db,e,s?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),m.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},K_=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return fr(this.k.delete())}},_r=class extends O{constructor(e,n){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function oc(t){return t.name==="IndexedDbTransactionError"}var Y_=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),fr(i)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),fr(this.store.add(e))}get(e){return fr(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),fr(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),fr(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new m((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(i),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new m((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new m((i,r)=>{n.onerror=s=>{let o=_v(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){let i=[];return new m((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let c=new K_(a),l=n(a.primaryKey,a.value,c);if(l instanceof m){let u=l.catch(d=>(c.done(),m.reject(d)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>m.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function fr(t){return new m((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=_v(i.target.error);n(r)}})}var aT=!1;function _v(t){let e=Od.S(ye());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aT||(aT=!0,setTimeout(()=>{throw i},0)),i}}return t}var kT=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function th(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}var HB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],z8=[...HB,"documentOverlays"],GB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zB=GB,q8=[...zB,"indexConfiguration","indexState","indexEntries"];function cT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nh(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qB(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var be=class t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,i,r,s){return this}insert(e,n,i){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xd(this.data.getIterator())}getIteratorFrom(e){return new xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pr=class t{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(Ut.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Pd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Pd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ot.EMPTY_BYTE_STRING=new ot("");var WB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Re(!!t),typeof t=="string"){let e=0,n=WB.exec(t);if(Re(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:we(t.seconds),nanos:we(t.nanos)}}function we(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}function yv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vv(t){let e=t.mapValue.fields.__previous_value__;return yv(e)?vv(e):e}function Ya(t){let e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}var Q_=class{constructor(e,n,i,r,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},kd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yv(t)?4:FT(t)?9007199254740991:10:j()}function _n(t,e){if(t===e)return!0;let n=wr(t);if(n!==wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Di(r.timestampValue),a=Di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ci(r.bytesValue).isEqual(Ci(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return we(r.geoPointValue.latitude)===we(s.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return we(r.integerValue)===we(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=we(r.doubleValue),a=we(s.doubleValue);return o===a?Nd(o)===Nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(cT(o)!==cT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!_n(o[c],a[c])))return!1;return!0}(t,e);default:return j()}}function Qa(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function js(t,e){if(t===e)return 0;let n=wr(t),i=wr(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=we(s.integerValue||s.doubleValue),c=we(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return lT(t.timestampValue,e.timestampValue);case 4:return lT(Ya(t),Ya(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ci(s),c=Ci(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ae(a[l],c[l]);if(u!==0)return u}return ae(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ae(we(s.latitude),we(o.latitude));return a!==0?a:ae(we(s.longitude),we(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=js(a[l],c[l]);if(u)return u}return ae(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Td.mapValue&&o===Td.mapValue)return 0;if(s===Td.mapValue)return 1;if(o===Td.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=ae(c[d],u[d]);if(h!==0)return h;let f=js(a[c[d]],l[u[d]]);if(f!==0)return f}return ae(c.length,u.length)}(t.mapValue,e.mapValue);default:throw j()}}function lT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=Di(t),i=Di(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function $s(t){return J_(t)}function J_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Di(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return k.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=J_(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${J_(n.fields[o])}`;return r+"}"}(t.mapValue):j()}function Z_(t){return!!t&&"integerValue"in t}function wv(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function dT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function N_(t){return!!t&&"mapValue"in t}function Ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return nh(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ga(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!N_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=Ut.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ga(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());N_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];N_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){nh(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(Ga(this.value))}};var jt=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,G.min(),G.min(),G.min(),Hn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,G.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,G.min(),G.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,G.min(),G.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function hT(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=k.comparator(k.fromName(o.referenceValue),n.key):i=js(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var Gs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fd=class{},Pe=class t extends Fd{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new ey(e,n,i):n==="array-contains"?new iy(e,i):n==="in"?new ry(e,i):n==="not-in"?new sy(e,i):n==="array-contains-any"?new oy(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ty(e,i):new ny(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&wr(this.value)===wr(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yn=class t extends Fd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return LT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function LT(t){return t.op==="and"}function VT(t){return YB(t)&&LT(t)}function YB(t){for(let e of t.filters)if(e instanceof yn)return!1;return!0}function X_(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(VT(t))return t.filters.map(e=>X_(e)).join(",");{let e=t.filters.map(n=>X_(n)).join(",");return`${t.op}(${e})`}}function BT(t,e){return t instanceof Pe?function(i,r){return r instanceof Pe&&i.op===r.op&&i.field.isEqual(r.field)&&_n(i.value,r.value)}(t,e):t instanceof yn?function(i,r){return r instanceof yn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&BT(o,r.filters[a]),!0):!1}(t,e):void j()}function UT(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(UT).join(" ,")+"}"}(t):"Filter"}var ey=class extends Pe{constructor(e,n,i){super(e,n,i),this.key=k.fromName(i.referenceValue)}matches(e){let n=k.comparator(e.key,this.key);return this.matchesComparison(n)}},ty=class extends Pe{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ny=class extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function jT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>k.fromName(i.referenceValue))}var iy=class extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wv(n)&&Qa(n.arrayValue,this.value)}},ry=class extends Pe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}},sy=class extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}},oy=class extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qa(this.value.arrayValue,i))}};var ay=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function pT(t,e=null,n=[],i=[],r=null,s=null,o=null){return new ay(t,e,n,i,r,s,o)}function Ev(t){let e=ie(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>X_(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$s(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$s(i)).join(",")),e.ce=n}return e.ce}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function cy(t){return k.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zs=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function QB(t,e,n,i,r,s,o,a){return new zs(t,e,n,i,r,s,o,a)}function $T(t){return new zs(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JB(t){return t.collectionGroup!==null}function za(t){let e=ie(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(Ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Gs(s,i))}),n.has(Ut.keyField().canonicalString())||e.le.push(new Gs(Ut.keyField(),i))}return e.le}function gn(t){let e=ie(t);return e.he||(e.he=ZB(e,za(t))),e.he}function ZB(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Gs(r.field,s)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ly(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ih(t,e){return Iv(gn(t),gn(e))&&t.limitType===e.limitType}function HT(t){return`${Ev(gn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>UT(r)).join(", ")}]`),th(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$s(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$s(r)).join(",")),`Target(${i})`}(gn(t))}; limitType=${t.limitType})`}function rh(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):k.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of za(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=hT(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,za(i),r)||i.endAt&&!function(o,a,c){let l=hT(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,za(i),r))}(t,e)}function XB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GT(t){return(e,n)=>{let i=!1;for(let r of za(t)){let s=eU(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function eU(t,e,n){let i=t.field.isKeyField()?k.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?js(c,l):j()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return j()}}var Ti=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nh(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return qB(this.inner)}size(){return this.innerSize}};var tU=new be(k.comparator);function Si(){return tU}var zT=new be(k.comparator);function Ha(...t){let e=zT;for(let n of t)e=e.insert(n.key,n);return e}function nU(t){let e=zT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function gr(){return qa()}function qT(){return qa()}function qa(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}var K8=new be(k.comparator),iU=new Xe(k.comparator);function ne(...t){let e=iU;for(let n of t)e=e.add(n);return e}var rU=new Xe(ae);function sU(){return rU}function oU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function aU(t){return{integerValue:""+t}}var qs=class{constructor(){this._=void 0}};function cU(t,e,n){return t instanceof Ja?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&yv(s)&&(s=vv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ws?WT(t,e):t instanceof Ks?KT(t,e):function(r,s){let o=uU(r,s),a=mT(o)+mT(r.Ie);return Z_(o)&&Z_(r.Ie)?aU(a):oU(r.serializer,a)}(t,e)}function lU(t,e,n){return t instanceof Ws?WT(t,e):t instanceof Ks?KT(t,e):n}function uU(t,e){return t instanceof Za?function(i){return Z_(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Ja=class extends qs{},Ws=class extends qs{constructor(e){super(),this.elements=e}};function WT(t,e){let n=YT(e);for(let i of t.elements)n.some(r=>_n(r,i))||n.push(i);return{arrayValue:{values:n}}}var Ks=class extends qs{constructor(e){super(),this.elements=e}};function KT(t,e){let n=YT(e);for(let i of t.elements)n=n.filter(r=>!_n(r,i));return{arrayValue:{values:n}}}var Za=class extends qs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function mT(t){return we(t.integerValue||t.doubleValue)}function YT(t){return wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dU(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ws&&r instanceof Ws||i instanceof Ks&&r instanceof Ks?Us(i.elements,r.elements,_n):i instanceof Za&&r instanceof Za?_n(i.Ie,r.Ie):i instanceof Ja&&r instanceof Ja}(t.transform,e.transform)}var Wa=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Xa=class{};function QT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uy(t.key,Wa.none()):new ec(t.key,t.data,Wa.none());{let n=t.data,i=Hn.empty(),r=new Xe(Ut.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ys(t.key,i,new pr(r.toArray()),Wa.none())}}function hU(t,e,n){t instanceof ec?function(r,s,o){let a=r.value.clone(),c=yT(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ys?function(r,s,o){if(!Ad(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=yT(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(JT(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,i){return t instanceof ec?function(s,o,a,c){if(!Ad(s.precondition,o))return a;let l=s.value.clone(),u=vT(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ys?function(s,o,a,c){if(!Ad(s.precondition,o))return a;let l=vT(s.fieldTransforms,c,o),u=o.data;return u.setAll(JT(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Ad(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Us(i,r,(s,o)=>dU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ec=class extends Xa{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ys=class extends Xa{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function JT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function yT(t,e,n){let i=new Map;Re(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,lU(o,a,n[r]))}return i}function vT(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,cU(s,o,e))}return i}var uy=class extends Xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var dy=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&hU(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ka(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ka(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=qT();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=QT(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(G.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,i)=>_T(n,i))&&Us(this.baseMutations,e.baseMutations,(n,i)=>_T(n,i))}};var hy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Te,ee;function ZT(t){if(t===void 0)return mn("GRPC error has no .code"),E.UNKNOWN;switch(t){case Te.OK:return E.OK;case Te.CANCELLED:return E.CANCELLED;case Te.UNKNOWN:return E.UNKNOWN;case Te.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Te.INTERNAL:return E.INTERNAL;case Te.UNAVAILABLE:return E.UNAVAILABLE;case Te.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Te.NOT_FOUND:return E.NOT_FOUND;case Te.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Te.ABORTED:return E.ABORTED;case Te.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Te.DATA_LOSS:return E.DATA_LOSS;default:return j()}}(ee=Te||(Te={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";var wT=null;function fU(){return new TextEncoder}var pU=new hr([4294967295,4294967295],0);function ET(t){let e=fU().encode(t),n=new sT;return n.update(e),new Uint8Array(n.digest())}function IT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hr([n,i],0),new hr([r,s],0)]}var py=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mr(`Invalid padding: ${n}`);if(i<0)throw new mr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=hr.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(hr.fromNumber(i)));return r.compare(pU)===1&&(r=new hr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=ET(e),[i,r]=IT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=ET(e),[i,r]=IT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},mr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ld=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(G.min(),r,new be(ae),Si(),ne())}},tc=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ne(),ne(),ne())}};var ks=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Vd=class{constructor(e,n){this.targetId=e,this.fe=n}},Bd=class{constructor(e,n,i=ot.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Ud=class{constructor(){this.ge=0,this.pe=DT(),this.ye=ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),i=ne();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:j()}}),new tc(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=DT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Re(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},gy=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Si(),this.Qe=bT(),this.Ke=new be(ae)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let s=r.target;if(cy(s))if(i===0){let o=new k(s.path);this.We(n,o,jt.newNoDocument(o,G.min()))}else Re(i===1);else{let o=this.Ze(n);if(o!==i){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}wT?.tt(function(u,d,h,f,g){var T,y,b,z,re,B;let fe={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},se=d.unchangedNames;return se&&(fe.bloomFilter={applied:g===0,hashCount:(T=se?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(z=(b=(y=se?.bits)===null||y===void 0?void 0:y.bitmap)===null||b===void 0?void 0:b.length)!==null&&z!==void 0?z:0,padding:(B=(re=se?.bits)===null||re===void 0?void 0:re.padding)!==null&&B!==void 0?B:0,mightContain:et=>{var Gn;return(Gn=f?.mightContain(et))!==null&&Gn!==void 0&&Gn}}),fe}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=Ci(i).toUint8Array()}catch(c){if(c instanceof Pd)return Bs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new py(o,r,s)}catch(c){return Bs(c instanceof mr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&cy(a.target)){let c=new k(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,jt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let r=new Ld(e,n,this.Ke,this.qe,i);return this.qe=Si(),this.Qe=bT(),this.Ke=new be(ae),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ud,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Xe(ae),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ud),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function bT(){return new be(k.comparator)}function DT(){return new be(k.comparator)}var gU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_U=(()=>({and:"AND",or:"OR"}))(),my=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _y(t,e){return t.useProto3Json||th(e)?e:{value:e}}function yU(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fs(t){return Re(!!t),G.fromTimestamp(function(n){let i=Di(n);return new Ot(i.seconds,i.nanos)}(t))}function wU(t,e){return yy(t,e).canonicalString()}function yy(t,e){let n=function(r){return new Ae(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XT(t){let e=Ae.fromString(t);return Re(r1(e)),e}function x_(t,e){let n=XT(e);if(n.get(1)!==t.databaseId.projectId)throw new O(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(t1(n))}function e1(t,e){return wU(t.databaseId,e)}function EU(t){let e=XT(t);return e.length===4?Ae.emptyPath():t1(e)}function CT(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t1(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IU(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Re(u===void 0||typeof u=="string"),ot.fromBase64String(u||"")):(Re(u===void 0||u instanceof Uint8Array),ot.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?E.UNKNOWN:ZT(l.code);return new O(u,l.message||"")}(o);n=new Bd(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=x_(t,i.document.name),s=Fs(i.document.updateTime),o=i.document.createTime?Fs(i.document.createTime):G.min(),a=new Hn({mapValue:{fields:i.document.fields}}),c=jt.newFoundDocument(r,s,o,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new ks(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=x_(t,i.document),s=i.readTime?Fs(i.readTime):G.min(),o=jt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ks([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=x_(t,i.document),s=i.removedTargetIds||[];n=new ks([],s,r,null)}else{if(!("filter"in e))return j();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new fy(r,s),a=i.targetId;n=new Vd(a,o)}}return n}function bU(t,e){return{documents:[e1(t,e.path)]}}function DU(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=e1(t,r);let s=function(l){if(l.length!==0)return i1(yn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Os(h.field),direction:SU(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=_y(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function CU(t){let e=EU(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Re(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=n1(d);return h instanceof yn&&VT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Gs(Ns(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,th(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Hs(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,f=d.values||[];return new Hs(f,h)}(n.endAt)),QB(e,r,o,s,a,"F",c,l)}function TU(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function n1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Ns(n.unaryFilter.field);return Pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ns(n.unaryFilter.field);return Pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ns(n.unaryFilter.field);return Pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ns(n.unaryFilter.field);return Pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(Ns(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(i=>n1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function SU(t){return gU[t]}function AU(t){return mU[t]}function RU(t){return _U[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ns(t){return Ut.fromServerFormat(t.fieldPath)}function i1(t){return t instanceof Pe?function(n){if(n.op==="=="){if(dT(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dT(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:AU(n.op),value:n.value}}}(t):t instanceof yn?function(n){let i=n.getFilters().map(r=>i1(r));return i.length===1?i[0]:{compositeFilter:{op:RU(n.op),filters:i}}}(t):j()}function r1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var nc=class t{constructor(e,n,i,r,s=G.min(),o=G.min(),a=ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vy=class{constructor(e){this.ct=e}};function MU(t){let e=CU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}var jd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(we(e.integerValue));else if("doubleValue"in e){let i=we(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Nd(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ci(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?FT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):j()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),k.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};jd.bt=new jd;var wy=class{constructor(){this._n=new Ey}addToCollectionParentIndex(e,n){return this._n.add(n),m.resolve()}getCollectionParents(e,n){return m.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return m.resolve()}deleteFieldIndex(e,n){return m.resolve()}deleteAllFieldIndexes(e){return m.resolve()}createTargetIndexes(e,n){return m.resolve()}getDocumentsMatchingTarget(e,n){return m.resolve(null)}getIndexType(e,n){return m.resolve(0)}getFieldIndexes(e,n){return m.resolve([])}getNextCollectionGroupToUpdate(e){return m.resolve(null)}getMinOffset(e,n){return m.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return m.resolve(vr.min())}updateCollectionGroup(e,n,i){return m.resolve()}updateIndexEntries(e,n){return m.resolve()}},Ey=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(Ae.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}};var Y8=new Uint8Array(0);var hn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var ic=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Iy=class{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?m.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var by=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dy=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ka(i.mutation,r,pr.empty(),Ot.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ne()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ne()){let r=gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Ha();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ne()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Si(),o=qa(),a=function(){return qa()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Ys)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Ka(u.mutation,l,u.mutation.getFieldMask(),Ot.now())):o.set(l.key,pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new by(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=qa(),r=new be((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||pr.empty();u=a.applyToLocalView(l,u),i.set(c,u);let d=(r.get(a.batchId)||ne()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=qT();u.forEach(h=>{if(!s.has(h)){let f=QT(n.get(h),i.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return m.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return k.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):m.resolve(gr()),a=-1,c=s;return o.next(l=>m.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?m.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ne())).next(u=>({batchId:a,changes:nU(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new k(n)).next(i=>{let r=Ha();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Ha();return this.indexManager.getCollectionParents(e,s).next(a=>m.forEach(a,c=>{let l=function(d,h){return new zs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,jt.newInvalidDocument(u)))});let a=Ha();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&Ka(u.mutation,l,pr.empty(),Ot.now()),rh(n,l)&&(a=a.insert(c,l))}),a})}};var Cy=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return m.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Fs(r.createTime)}}(n)),m.resolve()}getNamedQuery(e,n){return m.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:MU(r.bundledQuery),readTime:Fs(r.readTime)}}(n)),m.resolve()}};var Ty=class{constructor(){this.overlays=new be(k.comparator),this.hr=new Map}getOverlay(e,n){return m.resolve(this.overlays.get(n))}getOverlays(e,n){let i=gr();return m.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),m.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),m.resolve()}getOverlaysForCollection(e,n,i){let r=gr(),s=n.length+1,o=new k(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return m.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new be((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=s.get(l.largestBatchId);u===null&&(u=gr(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=gr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return m.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new hy(n,i));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var rc=class{constructor(){this.Pr=new Xe(Se.Ir),this.Tr=new Xe(Se.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Se(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Se(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new k(new Ae([])),i=new Se(n,e),r=new Se(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new k(new Ae([])),i=new Se(n,e),r=new Se(n,e+1),s=ne();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Se(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Se=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return k.comparator(e.key,n.key)||ae(e.pr,n.pr)}static Er(e,n){return ae(e.pr,n.pr)||k.comparator(e.key,n.key)}};var Sy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Xe(Se.Ir)}checkEmpty(e){return m.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new dy(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new Se(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return m.resolve(o)}lookupMutationBatch(e,n){return m.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return m.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return m.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return m.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Se(n,0),r=new Se(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),m.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(ae);return n.forEach(r=>{let s=new Se(r,0),o=new Se(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),m.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;k.isDocumentKey(s)||(s=s.child(""));let o=new Se(new k(s),0),a=new Xe(ae);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),m.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Re(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return m.forEach(n.mutations,r=>{let s=new Se(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Se(n,0),r=this.wr.firstAfterOrEqual(i);return m.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,m.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ay=class{constructor(e){this.vr=e,this.docs=function(){return new be(k.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return m.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let i=Si();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():jt.newInvalidDocument(r))}),m.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Si(),o=n.path,a=new k(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||jB(UB(u),i)<=0||(r.has(u.key)||rh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return m.resolve(s)}getAllFromCollectionGroup(e,n,i,r){j()}Fr(e,n){return m.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Ry(this)}getSize(e){return m.resolve(this.size)}},Ry=class extends Iy{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),m.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var My=class{constructor(e){this.persistence=e,this.Mr=new Ti(n=>Ev(n),Iv),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rc,this.targetCount=0,this.Br=ic.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),m.resolve()}getLastRemoteSnapshotVersion(e){return m.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return m.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),m.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),m.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,m.resolve()}updateTargetData(e,n){return this.qn(n),m.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,m.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),m.waitFor(s).next(()=>r)}getTargetCount(e){return m.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return m.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),m.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),m.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),m.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return m.resolve(i)}containsKey(e,n){return m.resolve(this.Nr.containsKey(n))}};var Oy=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new kT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new My(this),this.indexManager=new wy,this.remoteDocumentCache=function(r){return new Ay(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new vy(n),this.$r=new Cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ty,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new Sy(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){D("MemoryPersistence","Starting transaction:",e);let r=new Ny(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return m.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},Ny=class extends q_{constructor(e){super(),this.currentSequenceNumber=e}},xy=class t{constructor(e){this.persistence=e,this.zr=new rc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw j()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),m.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),m.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),m.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return m.forEach(this.Jr,i=>{let r=k.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,G.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return m.or([()=>m.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Py=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ne(),r=ne();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var ky=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fy=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Pb()?8:Od.v(ye())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ky;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?($a()<=J.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),m.resolve()):($a()<=J.DEBUG&&D("QueryEngine","Query:",Ms(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?($a()<=J.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):m.resolve())}ji(e,n){if(gT(n))return m.resolve(null);let i=gn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ly(n,null,"F"),i=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,ly(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return gT(n)||r.isEqual(G.min())?m.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?m.resolve(null):($a()<=J.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ms(n)),this.es(e,o,n,BB(r,-1)).next(a=>a))})}Zi(e,n){let i=new Xe(GT(e));return n.forEach((r,s)=>{rh(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return $a()<=J.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.zi.getDocumentsMatchingQuery(e,n,vr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ly=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new be(ae),this.rs=new Ti(s=>Ev(s),Iv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function OU(t,e,n,i){return new Ly(t,e,n,i)}function s1(t,e){return p(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=ne();for(let l of r){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function o1(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function NU(t,e){let n=ie(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let h=r.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ot.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(T,y,b){return T.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let c=Si(),l=ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(xU(s,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(G.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return m.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=r,s))}function xU(t,e,n){let i=ne(),r=ne();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Si();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(G.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function PU(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,m.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new nc(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Vy(t,e,n){return p(this,null,function*(){let i=ie(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!oc(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function TT(t,e,n){let i=ie(t),r=G.min(),s=ne();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let d=ie(c),h=d.rs.get(u);return h!==void 0?m.resolve(d.ns.get(h)):d.Qr.getTargetData(l,u)}(i,o,gn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:G.min(),n?s:ne())).next(a=>(kU(i,XB(e),a),{documents:a,hs:s})))}function kU(t,e,n){let i=t.ss.get(e)||G.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var $d=class{constructor(){this.activeTargetIds=sU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var By=class{constructor(){this.no=new $d,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $d,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Uy=class{io(e){}shutdown(){}};var Hd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sd=null;function P_(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}var FU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var jy=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ze="WebChannelConnection",$y=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get wo(){return!1}So(n,i,r,s,o){let a=P_(),c=this.bo(n,i.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,r).then(u=>(D("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Bs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,s,o,a){return this.So(n,i,r,s,o)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}bo(n,i){let r=FU[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let s=P_();return new Promise((o,a)=>{let c=new rT;c.setWithCredentials(!0),c.listenOnce(nT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Cd.NO_ERROR:let u=c.getResponseJson();D(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Cd.TIMEOUT:D(Ze,`RPC '${e}' ${s} timed out`),a(new O(E.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:let d=c.getStatus();if(D(Ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(y){let b=y.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(b)>=0?b:E.UNKNOWN}(f.status);a(new O(g,f.message))}else a(new O(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new O(E.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{D(Ze,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);D(Ze,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=P_(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eT(),a=tT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=s.join("");D(Ze,`Creating RPC '${e}' stream ${r}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,f=!1,g=new jy({lo:y=>{f?D(Ze,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(h||(D(Ze,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),D(Ze,`RPC '${e}' stream ${r} sending:`,y),d.send(y))},ho:()=>d.close()}),T=(y,b,z)=>{y.listen(b,re=>{try{z(re)}catch(B){setTimeout(()=>{throw B},0)}})};return T(d,ja.EventType.OPEN,()=>{f||D(Ze,`RPC '${e}' stream ${r} transport opened.`)}),T(d,ja.EventType.CLOSE,()=>{f||(f=!0,D(Ze,`RPC '${e}' stream ${r} transport closed`),g.Vo())}),T(d,ja.EventType.ERROR,y=>{f||(f=!0,Bs(Ze,`RPC '${e}' stream ${r} transport errored:`,y),g.Vo(new O(E.UNAVAILABLE,"The operation could not be completed")))}),T(d,ja.EventType.MESSAGE,y=>{var b;if(!f){let z=y.data[0];Re(!!z);let re=z,B=re.error||((b=re[0])===null||b===void 0?void 0:b.error);if(B){D(Ze,`RPC '${e}' stream ${r} received error:`,B);let fe=B.status,se=function(Ai){let pc=Te[Ai];if(pc!==void 0)return ZT(pc)}(fe),et=B.message;se===void 0&&(se=E.INTERNAL,et="Unknown error status: "+fe+" with message "+B.message),f=!0,g.Vo(new O(se,et)),d.close()}else D(Ze,`RPC '${e}' stream ${r} received:`,z),g.mo(z)}}),T(a,iT.STAT_EVENT,y=>{y.stat===O_.PROXY?D(Ze,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===O_.NOPROXY&&D(Ze,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function k_(){return typeof document<"u"?document:null}function a1(t){return new my(t,!0)}var Gd=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&D("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Hy=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Gd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new O(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Gy=class extends Hy{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=IU(this.serializer,e),i=function(s){if(!("targetChange"in s))return G.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?G.min():o.readTime?Fs(o.readTime):G.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=CT(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=cy(c)?{documents:bU(s,c)}:{query:DU(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vU(s,o.resumeToken);let l=_y(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(G.min())>0){a.readTime=yU(s,o.snapshotVersion.toTimestamp());let l=_y(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=TU(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=CT(this.serializer),n.removeTarget=e,this.t_(n)}};var zy=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new O(E.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,yy(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(E.UNKNOWN,s.toString())})}vo(e,n,i,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,yy(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(E.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var qy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(mn(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Wy=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{i.enqueueAndForget(()=>p(this,null,function*(){cc(this)&&(D("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let l=ie(c);l.v_.add(4),yield ac(l),l.x_.set("Unknown"),l.v_.delete(4),yield sh(l)})}(this))}))}),this.x_=new qy(i,r)}};function sh(t){return p(this,null,function*(){if(cc(t))for(let e of t.F_)yield e(!0)})}function ac(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function c1(t,e){let n=ie(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Cv(n)?Dv(n):Xs(n).Jo()&&bv(n,e))}function l1(t,e){let n=ie(t),i=Xs(n);n.C_.delete(e),i.Jo()&&u1(n,e),n.C_.size===0&&(i.Jo()?i.Xo():cc(n)&&n.x_.set("Unknown"))}function bv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).c_(e)}function u1(t,e){t.O_.Oe(e),Xs(t).l_(e)}function Dv(t){t.O_=new gy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.x_.p_()}function Cv(t){return cc(t)&&!Xs(t).Ho()&&t.C_.size>0}function cc(t){return ie(t).v_.size===0}function d1(t){t.O_=void 0}function LU(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{bv(t,e)})})}function VU(t,e){return p(this,null,function*(){d1(t),Cv(t)?(t.x_.S_(e),Dv(t)):t.x_.set("Unknown")})}function BU(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof Bd&&e.state===2&&e.cause)try{yield function(r,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ST(t,i)}else if(e instanceof ks?t.O_.$e(e):e instanceof Vd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(G.min()))try{let i=yield o1(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.C_.get(l);u&&s.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.C_.get(c);if(!u)return;s.C_.set(c,u.withResumeToken(ot.EMPTY_BYTE_STRING,u.snapshotVersion)),u1(s,c);let d=new nc(u.target,c,l,u.sequenceNumber);bv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){D("RemoteStore","Failed to raise snapshot:",i),yield ST(t,i)}})}function ST(t,e,n){return p(this,null,function*(){if(!oc(e))throw e;t.v_.add(1),yield ac(t),t.x_.set("Offline"),n||(n=()=>o1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield sh(t)}))})}function AT(t,e){return p(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");let i=cc(n);n.v_.add(3),yield ac(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield sh(n)})}function UU(t,e){return p(this,null,function*(){let n=ie(t);e?(n.v_.delete(2),yield sh(n)):e||(n.v_.add(2),yield ac(n),n.x_.set("Unknown"))})}function Xs(t){return t.N_||(t.N_=function(n,i,r){let s=ie(n);return s.R_(),new Gy(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:LU.bind(null,t),To:VU.bind(null,t),u_:BU.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Cv(t)?Dv(t):t.x_.set("Unknown")):(yield t.N_.stop(),d1(t))}))),t.N_}var Ky=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function h1(t,e){if(mn("AsyncQueue",`${e}: ${t}`),oc(t))return new O(E.UNAVAILABLE,`${e}: ${t}`);throw t}var zd=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||k.comparator(n.key,i.key):(n,i)=>k.comparator(n.key,i.key),this.keyedMap=Ha(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var qd=class{constructor(){this.L_=new be(k.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):j():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Qs=class t{constructor(e,n,i,r,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,zd.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Yy=class{constructor(){this.q_=void 0,this.Q_=[]}},Qy=class{constructor(){this.queries=new Ti(e=>HT(e),ih),this.onlineState="Unknown",this.K_=new Set}};function jU(t,e){return p(this,null,function*(){let n=ie(t),i=e.query,r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Yy),r)try{s.q_=yield n.onListen(i)}catch(o){let a=h1(o,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Tv(n)})}function $U(t,e){return p(this,null,function*(){let n=ie(t),i=e.query,r=!1,s=n.queries.get(i);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),r=s.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function HU(t,e){let n=ie(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(r)&&(i=!0);o.q_=r}}i&&Tv(n)}function GU(t,e,n){let i=ie(t),r=i.queries.get(e);if(r)for(let s of r.Q_)s.onError(n);i.queries.delete(e)}function Tv(t){t.K_.forEach(e=>{e.next()})}var Jy=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Qs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Wd=class{constructor(e){this.key=e}},Kd=class{constructor(e){this.key=e}},Zy=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=GT(e),this.ca=new zd(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new qd,r=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let h=r.get(u),f=rh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),T=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),y=!1;h&&f?h.data.isEqual(f.data)?g!==T&&(i.track({type:3,doc:f}),y=!0):this.Ia(h,f)||(i.track({type:2,doc:f}),y=!0,(c&&this.ua(f,c)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),y=!0):h&&!f&&(i.track({type:1,doc:h}),y=!0,(c||l)&&(a=!0)),y&&(f?(o=o.add(f),s=T?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{ca:o,Pa:i,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((u,d)=>function(f,g){let T=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return T(f)-T(g)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(i),r=r!=null&&r;let a=n&&!r?this.Ea():[],c=this.aa.size===0&&this.current&&!r?1:0,l=c!==this._a;return this._a=c,o.length!==0||l?{snapshot:new Qs(this.query,e.ca,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new qd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ne(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Kd(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Wd(i))}),n}Ra(e){this.oa=e.hs,this.aa=ne();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},Xy=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},ev=class{constructor(e){this.key=e,this.ma=!1}},tv=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ti(a=>HT(a),ih),this.pa=new Map,this.ya=new Set,this.wa=new be(k.comparator),this.Sa=new Map,this.ba=new rc,this.Da={},this.Ca=new Map,this.va=ic.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function zU(t,e){return p(this,null,function*(){let n=ZU(t),i,r,s=n.ga.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Va();else{let o=yield PU(n.localStore,gn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield qU(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&c1(n.remoteStore,o)}return r})}function qU(t,e,n,i,r){return p(this,null,function*(){t.Ma=(d,h,f)=>function(T,y,b,z){return p(this,null,function*(){let re=y.view.ha(b);re.Xi&&(re=yield TT(T.localStore,y.query,!1).then(({documents:et})=>y.view.ha(et,re)));let B=z&&z.targetChanges.get(y.targetId),fe=z&&z.targetMismatches.get(y.targetId)!=null,se=y.view.applyChanges(re,T.isPrimaryClient,B,fe);return MT(T,y.targetId,se.da),se.snapshot})}(t,d,h,f);let s=yield TT(t.localStore,e,!0),o=new Zy(e,s.hs),a=o.ha(s.documents),c=tc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);MT(t,n,l.da);let u=new Xy(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot})}function WU(t,e){return p(this,null,function*(){let n=ie(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(s=>!ih(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),l1(n.remoteStore,i.targetId),nv(n,i.targetId)}).catch(mv))):(nv(n,i.targetId),yield Vy(n.localStore,i.targetId,!0))})}function f1(t,e){return p(this,null,function*(){let n=ie(t);try{let i=yield NU(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Sa.get(s);o&&(Re(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ma=!0:r.modifiedDocuments.size>0?Re(o.ma):r.removedDocuments.size>0&&(Re(o.ma),o.ma=!1))}),yield g1(n,i,e)}catch(i){yield mv(i)}})}function RT(t,e,n){let i=ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=ie(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.U_(a)&&(l=!0)}),l&&Tv(c)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function KU(t,e,n){return p(this,null,function*(){let i=ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),s=r&&r.key;if(s){let o=new be(k.comparator);o=o.insert(s,jt.newNoDocument(s,G.min()));let a=ne().add(s),c=new Ld(G.min(),new Map,new be(ae),o,a);yield f1(i,c),i.wa=i.wa.remove(s),i.Sa.delete(e),Sv(i)}else yield Vy(i.localStore,e,!1).then(()=>nv(i,e,n)).catch(mv)})}function nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||p1(t,i)})}function p1(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(l1(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Sv(t))}function MT(t,e,n){for(let i of n)i instanceof Wd?(t.ba.addReference(i.key,e),YU(t,i)):i instanceof Kd?(D("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||p1(t,i.key)):j()}function YU(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(D("SyncEngine","New document in limbo: "+n),t.ya.add(i),Sv(t))}function Sv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new k(Ae.fromString(e)),i=t.va.next();t.Sa.set(i,new ev(n)),t.wa=t.wa.insert(n,i),c1(t.remoteStore,new nc(gn($T(n.path)),i,"TargetPurposeLimboResolution",kT._e))}}function g1(t,e,n){return p(this,null,function*(){let i=ie(t),r=[],s=[],o=[];i.ga.isEmpty()||(i.ga.forEach((a,c)=>{o.push(i.Ma(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=Py.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),i.fa.u_(r),yield function(c,l){return p(this,null,function*(){let u=ie(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>m.forEach(l,h=>m.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>m.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!oc(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=u.ns.get(h),g=f.snapshotVersion,T=f.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(h,T)}}})}(i.localStore,s))})}function QU(t,e){return p(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());let i=yield s1(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new O(E.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield g1(n,i.us)}})}function JU(t,e){let n=ie(t),i=n.Sa.get(e);if(i&&i.ma)return ne().add(i.key);{let r=ne(),s=n.pa.get(e);if(!s)return r;for(let o of s){let a=n.ga.get(o);r=r.unionWith(a.view.la)}return r}}function ZU(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KU.bind(null,e),e.fa.u_=HU.bind(null,e.eventManager),e.fa.xa=GU.bind(null,e.eventManager),e}var Yd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=a1(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return OU(this.persistence,new Fy,e.initialUser,this.serializer)}createPersistence(e){return new Oy(xy.Hr,this.serializer)}createSharedClientState(e){return new By}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var iv=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),yield UU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Qy}()}createDatastore(e){let n=a1(e.databaseInfo.databaseId),i=function(s){return new $y(s)}(e.databaseInfo);return function(s,o,a,c){return new zy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Wy(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return Hd.D()?new Hd:new Uy}())}createSyncEngine(e,n){return function(r,s,o,a,c,l,u){let d=new tv(r,s,o,a,c,l);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(i){return p(this,null,function*(){let r=ie(i);D("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield ac(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var rv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var sv=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ve.UNAUTHENTICATED,this.clientId=G_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>p(this,null,function*(){D("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=h1(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function F_(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>p(this,null,function*(){i.isEqual(r)||(yield s1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function OT(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ej(t);D("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>AT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>AT(e.remoteStore,r)),t._onlineComponents=e})}function XU(t){return t.name==="FirebaseError"?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function ej(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield F_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!XU(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),yield F_(t,new Yd)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield F_(t,new Yd);return t._offlineComponents})}function tj(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield OT(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield OT(t,new iv))),t._onlineComponents})}function nj(t){return p(this,null,function*(){let e=yield tj(t),n=e.eventManager;return n.onListen=zU.bind(null,e.syncEngine),n.onUnlisten=WU.bind(null,e.syncEngine),n})}function ij(t,e,n={}){let i=new fn;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,l){let u=new rv({next:h=>{o.enqueueAndForget(()=>$U(s,d)),h.fromCache&&c.source==="server"?l.reject(new O(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new Jy(a,u,{includeMetadataChanges:!0,Z_:!0});return jU(s,d)}(yield nj(t),t.asyncQueue,e,n,i)})),i.promise}function m1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NT=new Map;function rj(t,e,n){if(!n)throw new O(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sj(t,e,n,i){if(e===!0&&i===!0)throw new O(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xT(t){if(k.isDocumentKey(t))throw new O(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function ov(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=oj(t);throw new O(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Qd=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new O(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sc=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new L_;switch(i.type){case"firstParty":return new j_(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new O(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=NT.get(n);i&&(D("ComponentProvider","Removing Datastore"),NT.delete(n),i.terminate())}(this),Promise.resolve()}};function _1(t,e,n,i={}){var r;let s=(t=ov(t,sc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Ve.MOCK_USER;else{a=Rb(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new O(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ve(l)}t._authCredentials=new V_(new Rd(a,c))}}var Jd=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Js=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ls=class t extends Jd{constructor(e,n,i){super(e,n,$T(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Js(this.firestore,null,new k(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function y1(t,e,...n){if(t=kn(t),rj("collection","path",e),t instanceof sc){let i=Ae.fromString(e,...n);return xT(i),new Ls(t,null,i)}{if(!(t instanceof Js||t instanceof Ls))throw new O(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ae.fromString(e,...n));return xT(i),new Ls(t.firestore,null,i)}}var av=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Gd(this,"async_queue_retry"),this._u=()=>{let n=k_();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=k_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=k_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new fn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!oc(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=Ky.createAndSchedule(this,e,n,i,s=>this.lu(s));return this.nu.push(r),r}au(){this.ru&&j()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Zd=class extends sc{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new av}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||w1(this),this._firestoreClient.terminate()}};function v1(t,e){let n=typeof t=="object"?t:ys(),i=typeof t=="string"?t:e||"(default)",r=ia(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=Ab("firestore");s&&_1(r,...s)}return r}function aj(t){return t._firestoreClient||w1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function w1(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,l,u){return new Q_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,m1(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new sv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var cv=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ot.fromBase64String(e))}catch(n){throw new O(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var cj=new RegExp("[~\\*/\\[\\]]");function lj(t,e,n){if(e.search(cj)>=0)throw PT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw PT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function PT(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new O(E.INVALID_ARGUMENT,a+t+c)}var eh=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(E1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},uv=class extends eh{data(){return super.data()}};function E1(t,e){return typeof e=="string"?lj(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}function uj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dv=class{convertValue(e,n="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return we(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return nh(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new lv(we(e.latitude),we(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=vv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){let n=Di(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Ae.fromString(e);Re(r1(i));let r=new kd(i.get(1),i.get(3)),s=new k(i.popFirst(5));return r.isEqual(n)||mn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Ps=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hv=class extends eh{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(E1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Vs=class extends hv{data(e={}){return super.data(e)}},fv=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ps(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vs(this._firestore,this._userDataWriter,i.key,i,new Ps(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Vs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ps(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Vs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ps(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:dj(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function dj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}var pv=class extends dv{constructor(e){super(),this.firestore=e}convertBytes(e){return new cv(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Js(this.firestore,null,n)}};function I1(t){t=ov(t,Jd);let e=ov(t.firestore,Zd),n=aj(e),i=new pv(e);return uj(t._query),ij(n,t._query).then(r=>new fv(e,i,t,r))}(function(e,n=!0){(function(r){Zs=r})(wi),vi(new Rt("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Zd(new B_(i.getProvider("auth-internal")),new H_(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(l.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xe(oT,"4.4.1",e),xe(oT,"4.4.1","esm2017")})();var Er=class{constructor(e){return e}},b1="firestore",Av=class{constructor(){return ra(b1)}};var Rv=new R("angularfire2.firestore-instances");function hj(t,e){let n=Ru(b1,t,e);return n&&new Er(n)}function fj(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Er(i)}}var pj={provide:Av,deps:[[new Ke,Rv]]},gj={provide:Er,useFactory:hj,deps:[[new Ke,Rv],Ln]},mj=(()=>{class t{constructor(){xe("angularfire",rr.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Oe({providers:[gj,pj]})}return t})();function D1(t,...e){return{ngModule:mj,providers:[{provide:Rv,useFactory:fj(t),multi:!0,deps:[te,je,Es,sr,[new Ke,_a],[new Ke,ws],...e]}]}}var C1=Fn(y1,!0);var T1=Fn(I1,!0);var S1=Fn(v1,!0);var vn=(()=>{let e=class e{constructor(i,r){this.http=i,this.router=r,this.datosAPI=[],this.firestore=w(Er),this.datosFB=[],this.logueado=!1}peticionAJAX(){this.http.get("https://api.coingecko.com/api/v3/search/trending").subscribe(i=>{console.log(i.coins),this.datosAPI=i.coins})}buscarMoneda(i){return this.http.get("https://api.coingecko.com/api/v3/search?query="+i)}getCoinDetalle(i){return this.http.get(`https://api.coingecko.com/api/v3/coins/${i}`)}obtenerDatosFirestore(){T1(C1(this.firestore,"prueba")).then(i=>{this.datosFB=i.docs.map(r=>r.data()),console.log(this.datosFB)})}iniciarSesion(){let i=ya(),r=new pa;jm(i,r).then(s=>{let o=pa.credentialFromResult(s);this.router.navigate(["/monedas"]),console.log("inicio sesion"),this.logueado=!0;let a=s.user;console.log(a)}).catch(s=>{let o=s.code,a=s.message,c=s.customData.email,l=pa.credentialFromError(s)})}GitHubInicio(){let i=ya(),r=new ga;jm(i,r).then(s=>{this.logueado=!0;let o=ga.credentialFromResult(s),a=s.user}).catch(s=>{let o=s.code,a=s.message,c=s.customData.email,l=ga.credentialFromError(s)})}};e.\u0275fac=function(r){return new(r||e)(A(Ao),A(_e))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _j(t,e){if(t&1&&(Io(0),_(1,"p",16),C(2),v(),bo()),t&2){let n=Ye();X(2),Wi("Descripcion Espa\xF1ol:",n.moneda.description.es,"")}}function yj(t,e){if(t&1&&(Io(0),_(1,"p",16),C(2),v(),bo()),t&2){let n=Ye(2);X(2),Wi("Descripcion Ingles:",n.moneda.description.en,"")}}function vj(t,e){if(t&1&&St(0,yj,3,1,"ng-container",10),t&2){let n=Ye(),i=Ul(17);ht("ngIf",n.moneda.description.en)("ngIfElse",i)}}function wj(t,e){t&1&&(_(0,"p",16),C(1,"No hay una descripci\xF3n disponible"),v())}function Ej(t,e){if(t&1&&(_(0,"p"),C(1),v()),t&2){let n=Ye();X(),Wi("Creado en ",n.moneda.genesis_date," ")}}function Ij(t,e){if(t&1&&(_(0,"div")(1,"a",17),C(2,"Github "),v()()),t&2){let n=Ye();X(),en("href",n.moneda.links.repos_url.github[0],Xt)}}function bj(t,e){if(t&1&&(_(0,"div")(1,"a",17),C(2,"Reddit"),v()()),t&2){let n=Ye();X(),en("href",n.moneda.links.subreddit_url,Xt)}}function Dj(t,e){if(t&1&&(_(0,"div")(1,"a",17),C(2,"P\xE1gina Web"),v()()),t&2){let n=Ye();X(),en("href",n.moneda.links.blockchain_site[0],Xt)}}var Mv=(()=>{let e=class e{constructor(i,r){this.PeticionesAJAXService=i,this.router=r,this.id="",this.route=w(nn)}ngOnInit(){console.log(this.route.snapshot.paramMap.get("id")),console.log(this.id),this.PeticionesAJAXService.getCoinDetalle(this.id).subscribe(i=>{this.moneda=i})}};e.\u0275fac=function(r){return new(r||e)(P(vn),P(_e))},e.\u0275cmp=mt({type:e,selectors:[["app-detalle-moneda"]],inputs:{id:"id"},standalone:!0,features:[vt],decls:26,vars:9,consts:[["routerLink","/monedas","routerLinkActive","routerActiveButton"],[1,"projcard-container"],[1,"projcard","projcard-customcolor",2,"--projcard-color","#F5AF41"],[1,"projcard-innerbox"],[1,"projcard-img",3,"src"],[1,"projcard-textbox"],[1,"projcard-title"],[1,"projcard-subtitle"],[1,"projcard-bar"],[1,"projcard-description"],[4,"ngIf","ngIfElse"],["ingles",""],["noTiene",""],[4,"ngIf"],[1,"projcard-tagbox"],[1,"projcard-tag"],[1,"card-text"],[3,"href"]],template:function(r,s){if(r&1&&(_(0,"a",0),C(1,"Volver"),v(),_(2,"div",1)(3,"div",2)(4,"div",3),me(5,"img",4),_(6,"div",5)(7,"div",6),C(8),v(),_(9,"div",7),C(10),v(),me(11,"div",8),_(12,"div",9),St(13,_j,3,1,"ng-container",10)(14,vj,1,2,"ng-template",null,11,Gl)(16,wj,2,0,"ng-template",null,12,Gl)(18,Ej,2,1,"p",13),v(),_(19,"div",14)(20,"span",15),St(21,Ij,3,1,"div",13),v(),_(22,"span",15),St(23,bj,3,1,"div",13),v(),_(24,"span",15),St(25,Dj,3,1,"div",13),v()()()()()()),r&2){let o=Ul(15);X(5),en("src",s.moneda.image.large,Xt),X(3),rt(s.moneda.name),X(2),rt(s.moneda.symbol),X(3),ht("ngIf",s.moneda.description.es)("ngIfElse",o),X(5),ht("ngIf",s.moneda.genesis_date),X(3),ht("ngIf",s.moneda.links.repos_url.github[0]),X(2),ht("ngIf",s.moneda.links.subreddit_url),X(2),ht("ngIf",s.moneda.links.blockchain_site[0])}},dependencies:[mi,pi,gs,xn,fI]});let t=e;return t})();var k1=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(P(li),P(yt))},e.\u0275dir=dt({type:e});let t=e;return t})(),Cj=(()=>{let e=class e extends k1{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Xr(e)))(s||e)}})(),e.\u0275dir=dt({type:e,features:[zi]});let t=e;return t})(),F1=new R("NgValueAccessor");var Tj={provide:F1,useExisting:Qr(()=>lh),multi:!0};function Sj(){let t=On()?On().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Aj=new R("CompositionEventMode"),lh=(()=>{let e=class e extends k1{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Sj())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(P(li),P(yt),P(Aj,8))},e.\u0275dir=dt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ke("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[jl([Tj]),zi]});let t=e;return t})();var Rj=new R("NgValidators"),Mj=new R("NgAsyncValidators");function L1(t){return t!=null}function V1(t){return qi(t)?he(t):t}function B1(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function U1(t,e){return e.map(n=>n(t))}function Oj(t){return!t.validate}function j1(t){return t.map(e=>Oj(e)?e:n=>e.validate(n))}function Nj(t){if(!t)return null;let e=t.filter(L1);return e.length==0?null:function(n){return B1(U1(n,e))}}function $1(t){return t!=null?Nj(j1(t)):null}function xj(t){if(!t)return null;let e=t.filter(L1);return e.length==0?null:function(n){let i=U1(n,e).map(V1);return Rh(i).pipe($(B1))}}function H1(t){return t!=null?xj(j1(t)):null}function A1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Pj(t){return t._rawValidators}function kj(t){return t._rawAsyncValidators}function Ov(t){return t?Array.isArray(t)?t:[t]:[]}function ah(t,e){return Array.isArray(t)?t.includes(e):t===e}function R1(t,e){let n=Ov(e);return Ov(t).forEach(r=>{ah(n,r)||n.push(r)}),n}function M1(t,e){return Ov(e).filter(n=>!ah(t,n))}var ch=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Nv=class extends ch{get formDirective(){return null}get path(){return null}},hc=class extends ch{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xv=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Fj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W9=ce(S({},Fj),{"[class.ng-submitted]":"isSubmitted"}),G1=(()=>{let e=class e extends xv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(hc,2))},e.\u0275dir=dt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ll("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[zi]});let t=e;return t})();var uc="VALID",oh="INVALID",eo="PENDING",dc="DISABLED";function Lj(t){return(uh(t)?t.validators:t)||null}function Vj(t){return Array.isArray(t)?$1(t):t||null}function Bj(t,e){return(uh(e)?e.asyncValidators:t)||null}function Uj(t){return Array.isArray(t)?H1(t):t||null}function uh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Pv=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uc}get invalid(){return this.status===oh}get pending(){return this.status==eo}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(R1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(R1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(M1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}hasValidator(e){return ah(this._rawValidators,e)}hasAsyncValidator(e){return ah(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(i=>{i.disable(ce(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uc,this._forEachChild(i=>{i.enable(ce(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uc||this.status===eo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;let n=V1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?oh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(oh)?oh:uc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Vj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Uj(this._rawAsyncValidators)}};var z1=new R("CallSetDisabledState",{providedIn:"root",factory:()=>kv}),kv="always";function jj(t,e){return[...e.path,t]}function $j(t,e,n=kv){Gj(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zj(t,e),Wj(t,e),qj(t,e),Hj(t,e)}function O1(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Hj(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Gj(t,e){let n=Pj(t);e.validator!==null?t.setValidators(A1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=kj(t);e.asyncValidator!==null?t.setAsyncValidators(A1(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();O1(e._rawValidators,r),O1(e._rawAsyncValidators,r)}function zj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&q1(t,e)})}function qj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&q1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function q1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Wj(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Kj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Yj(t){return Object.getPrototypeOf(t.constructor)===Cj}function Qj(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===lh?n=s:Yj(s)?i=s:r=s}),r||i||n||null}function N1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function x1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Jj=class extends Pv{constructor(e=null,n,i){super(Lj(n),Bj(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(x1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){x1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Zj={provide:hc,useExisting:Qr(()=>Fv)},P1=(()=>Promise.resolve())(),Fv=(()=>{let e=class e extends hc{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Jj,this._registered=!1,this.name="",this.update=new ge,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Qj(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Kj(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$j(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){P1.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Qi(r);P1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?jj(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(P(Nv,9),P(Rj,10),P(Mj,10),P(F1,10),P(An,8),P(z1,8))},e.\u0275dir=dt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jl([Zj]),zi,Sn]});let t=e;return t})();var Xj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({});let t=e;return t})();var e$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({imports:[Xj]});let t=e;return t})();var dh=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:z1,useValue:i.callSetDisabledState??kv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({imports:[e$]});let t=e;return t})();var W1='body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;box-sizing:border-box}.container[_ngcontent-%COMP%]{width:80%;margin:0 auto}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:20px 0}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:10px;border-radius:5px;transition:background-color .3s ease}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555}.hero[_ngcontent-%COMP%]{background-image:url("./media/crypto-RX5YX6TH.jpg");background-size:cover;background-position:center;color:#fff;text-align:center;padding:100px}.hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:20px}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:30px}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1.2em;text-decoration:none;background-color:#f90;color:#fff;border-radius:5px;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#cc7a00}.features[_ngcontent-%COMP%]{padding:50px;background-color:#f5f5f5;text-align:center}.feature[_ngcontent-%COMP%]{margin-bottom:30px}.feature[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px}.about[_ngcontent-%COMP%]{padding:50px 0;background-color:#e0e0e0;text-align:center}.team[_ngcontent-%COMP%]{padding:50px 0;text-align:center}.team-member[_ngcontent-%COMP%]{margin-bottom:30px}.team-member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;border-radius:50%}.contact[_ngcontent-%COMP%]{padding:50px 0;background-color:#333;color:#fff;text-align:center}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.contact[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.2em}.contact[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px}.contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;text-decoration:none;background-color:#f90;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#cc7a00}footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:20px 0}',Lv=(()=>{let e=class e{constructor(i,r){this.ajax=i,this.router=r,this.items=[],this.contenidoInput="",this.lanzadaPeticionEvent=new ge}iniciaSesion(){this.ajax.iniciarSesion()}};e.\u0275fac=function(r){return new(r||e)(P(vn),P(_e))},e.\u0275cmp=mt({type:e,selectors:[["app-cuerpo"]],outputs:{lanzadaPeticionEvent:"lanzadaPeticionEvent"},standalone:!0,features:[vt],decls:74,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"hero"],[1,"container"],["href","#contact",1,"cta-button"],["id","features",1,"features"],[1,"feature"],["id","about",1,"about"],["id","team",1,"team"],[1,"team-member"],["src","","alt","Team Member 1"],["src","","alt","Team Member 2"],["id","contact",1,"contact"],["for","name"],["type","text","id","name","name","name","required",""],["for","email"],["type","email","id","email","name","email","required",""],["for","message"],["id","message","name","message","rows","4","required",""],["type","submit",1,"cta-button"]],template:function(r,s){r&1&&(_(0,"html",0)(1,"head"),me(2,"meta",1)(3,"meta",2),_(4,"title"),C(5,"CoinGecko"),v()(),_(6,"body")(7,"section",3)(8,"div",4)(9,"h2"),C(10,"Welcome to CoinGecko"),v(),_(11,"p"),C(12,"Explore the future of digital currency with us."),v(),_(13,"a",5),C(14,"Portfolio"),v()()(),_(15,"section",6)(16,"div",4)(17,"h2"),C(18,"Key Features"),v(),_(19,"div",7)(20,"h3"),C(21,"Bank-Level Security"),v(),_(22,"p"),C(23,"Your assets are protected with the highest security standards."),v()(),_(24,"div",7)(25,"h3"),C(26,"Mobile Accessibility"),v(),_(27,"p"),C(28,"Access your portfolio anytime, anywhere with our mobile app."),v()()()(),_(29,"section",8)(30,"div",4)(31,"h2"),C(32,"About Us"),v(),_(33,"p"),C(34,"We are a team of passionate individuals dedicated to revolutionizing the cryptocurrency industry."),v(),_(35,"p"),C(36,"Our mission is to make digital currencies accessible and secure for everyone."),v()()(),_(37,"section",9)(38,"div",4)(39,"h2"),C(40,"Our Team"),v(),_(41,"div",10),me(42,"img",11),_(43,"h3"),C(44,"John Doe"),v(),_(45,"p"),C(46,"Founder & CEO"),v()(),_(47,"div",10),me(48,"img",12),_(49,"h3"),C(50,"Jane Smith"),v(),_(51,"p"),C(52,"CTO"),v()()()(),_(53,"section",13)(54,"div",4)(55,"h2"),C(56,"Contact Us"),v(),_(57,"p"),C(58,"Have questions or want to get in touch? Fill out the form below."),v(),_(59,"label",14),C(60,"Name:"),v(),me(61,"input",15),_(62,"label",16),C(63,"Email:"),v(),me(64,"input",17),_(65,"label",18),C(66,"Message:"),v(),me(67,"textarea",19),_(68,"button",20),C(69,"Submit"),v()()(),_(70,"footer")(71,"div",4)(72,"p"),C(73,"\xA9 2024 Crypto Landing. All rights reserved."),v()()()()())},dependencies:[xn,dh,mi],styles:[W1,W1]});let t=e;return t})();var fc=(()=>{let e=class e{constructor(i,r){this.ajax=i,this.router=r}canActivate(i,r){return this.ajax.logueado?!0:(console.log("No te dejo pasar..."),!1)}};e.\u0275fac=function(r){return new(r||e)(A(vn),A(_e))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n$(t,e){if(t&1&&(_(0,"li")(1,"table",4)(2,"thead")(3,"tr")(4,"th",5),C(5,"N\xBA"),v(),_(6,"th",5),C(7,"Imagen"),v(),_(8,"th",5),C(9,"Nombre"),v(),_(10,"th",5),C(11,"Simbolo"),v()()(),_(12,"tbody")(13,"th",6),C(14),v(),me(15,"img",7),_(16,"td"),C(17),v(),_(18,"td"),C(19),v(),_(20,"td")(21,"a",8),C(22,"Ver Detalles"),v()()()()()),t&2){let n=e.$implicit,i=e.index;X(14),rt(i+1),X(),en("src",n.thumb,Xt),X(2),rt(n.name),X(2),rt(n.symbol),X(2),Bl("routerLink","/detalle/",n.id,"")}}function i$(t,e){if(t&1){let n=Vl();_(0,"tr")(1,"th",6),C(2),v(),_(3,"td",0),ke("click",function(){let s=ai(n).$implicit,o=Ye();return ci(o.monedaClick(s))}),me(4,"img",7),v(),_(5,"td"),C(6),v(),_(7,"td"),C(8),v(),_(9,"td")(10,"button",9),ke("click",function(){let s=ai(n).$implicit,o=Ye();return ci(o.borrarMonedaClick(s))}),C(11,"Borrar"),v()(),_(12,"td")(13,"button",9),ke("click",function(){let s=ai(n).$implicit,o=Ye();return ci(o.add(s))}),C(14,"Seguir"),v()()()}if(t&2){let n=e.$implicit,i=e.index;X(2),rt(i+1),X(2),en("src",n.item.small,Xt),X(2),rt(n.item.name),X(2),rt(n.item.symbol)}}function r$(t,e){if(t&1){let n=Vl();_(0,"tr")(1,"th",6),C(2),v(),_(3,"td",0),ke("click",function(){let s=ai(n).$implicit,o=Ye();return ci(o.monedaClick(s))}),me(4,"img",7),v(),_(5,"td"),C(6),v(),_(7,"td"),C(8),v(),_(9,"td")(10,"button",9),ke("click",function(){let s=ai(n).$implicit,o=Ye();return ci(o.borrarMonedaClick(s))}),C(11,"Borrar"),v()(),_(12,"td")(13,"button",9),ke("click",function(){let s=ai(n).$implicit,o=Ye();return ci(o.add(s))}),C(14,"Seguir"),v()()()}if(t&2){let n=e.$implicit,i=e.index;X(2),rt(i+1),X(2),en("src",n.item.small,Xt),X(2),rt(n.item.name),X(2),rt(n.item.symbol)}}var K1=(()=>{let e=class e{constructor(i,r,s){this.ajax=i,this.router=r,this.http=s,this.items=[],this.contenidoInput="",this.buscarmoneda="",this.monedas=[],this.monedasFollows=new Array,this.monedasA=new Array,this.lanzadaPeticionEvent=new ge,this.monedaBorrada=new ge,localStorage.getItem("monedasFollows")!=null&&localStorage.getItem("monedasFollows")!=null&&(this.monedasFollows=JSON.parse(String(localStorage.getItem("monedasFollows"))),console.log(this.monedasFollows))}obtenDatos(){this.ajax.peticionAJAX(),this.lanzadaPeticionEvent.emit("btc"),this.ajax.obtenerDatosFirestore()}buscarMoneda(){clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.ajax.buscarMoneda(this.buscarmoneda).subscribe(i=>{this.monedas=i.coins})},500)}monedaClick(i){this.router.navigate(["detalle/",i.item.id])}borrarMonedaClick(i){this.monedaBorrada.emit(i)}add(i){this.monedasFollows.find(r=>r.id===i.id)||(this.monedasFollows.push(i),localStorage.setItem("monedasFollows",JSON.stringify(this.monedasFollows)))}borrar(i){let r=this.monedasFollows.findIndex(s=>s.id===i.id);this.monedasFollows.splice(r,1),localStorage.setItem("monedasFollows",JSON.stringify(this.monedasFollows))}};e.\u0275fac=function(r){return new(r||e)(P(vn),P(_e),P(Ao))},e.\u0275cmp=mt({type:e,selectors:[["app-monedas"]],outputs:{lanzadaPeticionEvent:"lanzadaPeticionEvent",monedaBorrada:"monedaBorrada"},standalone:!0,features:[vt],decls:34,vars:4,consts:[[3,"click"],["for","buscarMoneda"],["type","text","id","buscarmoneda",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"table","table-striped"],["scope","col"],["scope","row"],[2,"width","50px",3,"src"],["routerLinkActive","routerActiveButton",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,s){r&1&&(_(0,"ul")(1,"button",0),ke("click",function(){return s.obtenDatos()}),C(2,"Trending"),v(),_(3,"label",1),C(4,"Buscar Monedas: "),v(),_(5,"input",2),ke("ngModelChange",function(){return s.buscarMoneda()})("ngModelChange",function(a){return s.buscarmoneda=a}),v(),_(6,"ul"),St(7,n$,23,5,"li",3),v(),_(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),C(12,"N\xBA"),v(),_(13,"th",5),C(14,"Imagen"),v(),_(15,"th",5),C(16,"Nombre"),v(),_(17,"th",5),C(18,"Simbolo"),v()()(),_(19,"tbody"),St(20,i$,15,4,"tr",3),v()(),_(21,"table",4)(22,"thead")(23,"tr")(24,"th",5),C(25,"N\xBA"),v(),_(26,"th",5),C(27,"Imagen"),v(),_(28,"th",5),C(29,"Nombre"),v(),_(30,"th",5),C(31,"Simbolo"),v()()(),_(32,"tbody"),St(33,r$,15,4,"tr",3),v()()()),r&2&&(X(5),ht("ngModel",s.buscarmoneda),X(2),ht("ngForOf",s.monedas),X(13),ht("ngForOf",s.ajax.datosAPI),X(13),ht("ngForOf",s.monedasFollows))},dependencies:[xn,hI,dh,lh,G1,Fv,mi,pi,gs]});let t=e;return t})();var Y1=[{path:"",component:Lv},{path:"Cuerpo",component:Lv,canActivate:[fc]},{path:"detalle",component:Mv,canActivate:[fc]},{path:"detalle/:id",component:Mv,canActivate:[fc]},{path:"monedas",component:K1,canActivate:[fc]}];var Q1={providers:[wb(Y1,Vg()),ts(CI),ts(Jb(()=>Zb({projectId:"tiendavue-f02e3",appId:"1:429397424570:web:1f30758f48b916fdd34583",storageBucket:"tiendavue-f02e3.appspot.com",apiKey:"AIzaSyBMKXj5XUgCpZO80bR2WV0JTKUJ7tKgONQ",authDomain:"tiendavue-f02e3.firebaseapp.com",messagingSenderId:"429397424570",measurementId:"G-4YEWZ8J7V9"}))),ts(VD(()=>ya())),ts(D1(()=>S1()))]};var J1=(()=>{let e=class e{constructor(i,r){this.ajax=i,this.router=r}iniciaSesion(){this.ajax.iniciarSesion()}github(){this.ajax.GitHubInicio()}};e.\u0275fac=function(r){return new(r||e)(P(vn),P(_e))},e.\u0275cmp=mt({type:e,selectors:[["app-cabecera"]],standalone:!0,features:[vt],decls:20,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],["routerLink","/Cuerpo","routerLinkActive","activeButton",1,"button"],["routerLink","/monedas","routerLinkActive","activeButton",1,"button"],[3,"click"]],template:function(r,s){r&1&&(_(0,"html",0)(1,"head"),me(2,"meta",1)(3,"meta",2),_(4,"title"),C(5,"CoinGecko"),v()(),_(6,"body")(7,"header")(8,"div",3)(9,"h1"),C(10,"CoinGecko"),v(),_(11,"nav")(12,"a",4),C(13,"Inicio"),v(),_(14,"a",5),C(15,"Portfolio"),v(),_(16,"button",6),ke("click",function(){return s.iniciaSesion()}),C(17,"Login Google"),v(),_(18,"button",6),ke("click",function(){return s.github()}),C(19,"Login Github"),v()()()()()())},dependencies:[mi,pi,gs]});let t=e;return t})();var s$={animation:!0,transitionTimerDelayMs:5};var{transitionTimerDelayMs:aK}=s$;var Z1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Oe({});let t=e;return t})();var cK=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var lK=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var uK=new Date(1882,10,12),dK=new Date(2174,10,25);var hK=1e3*60*60*24;var Vv=1080,o$=24*Vv,a$=12*Vv+793,fK=29*o$+a$,pK=11*Vv+204;var gK=new R("live announcer delay",{providedIn:"root",factory:()=>100});var X1=(()=>{let e=class e{constructor(){this.title="ProyectoCrypto",this.monedasVigiladas=new Array,this.monedas=new Array,localStorage.getItem("monedasVigiladas")!=null&&localStorage.getItem("monedasVigiladas")!=null&&(this.monedasVigiladas=JSON.parse(String(localStorage.getItem("monedasVigiladas"))),console.log(this.monedasVigiladas))}trataEventoDeHijo(i){console.log("salta evento= "+i)}addToSelected(i){this.monedasVigiladas.find(r=>r.id===i.id)||(this.monedasVigiladas.push(i),localStorage.setItem("monedasVigiladas",JSON.stringify(this.monedasVigiladas)))}deleteCoin(i){let r=this.monedasVigiladas.findIndex(s=>s.id===i.id);this.monedasVigiladas.splice(r,1),localStorage.setItem("monedasVigiladas",JSON.stringify(this.monedasVigiladas))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=mt({type:e,selectors:[["app-root"]],standalone:!0,features:[vt],decls:5,vars:0,consts:[[1,"main"],[1,"content"]],template:function(r,s){r&1&&(_(0,"main",0)(1,"div",1),me(2,"app-cabecera")(3,"router-outlet"),v()(),me(4,"router-outlet"))},dependencies:[xn,Og,J1,Z1]});let t=e;return t})();PI(X1,Q1).catch(t=>console.error(t));
